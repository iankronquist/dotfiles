2014-05-15 11:11:09	-->	muricula (kronquii@osuosl/staff/muricula) has joined #osuosl-dev
2014-05-15 11:11:10	--	Nicks #osuosl-dev: [bramwelt bryon chance deanj jnoah kennric manatee MaraJade mathuin muricula pono Ramereth]
2014-05-15 11:11:10	--	Channel #osuosl-dev: 12 nicks (0 ops, 0 halfops, 0 voices, 12 normals)
2014-05-15 11:11:10	--	URL for #osuosl-dev: http://code.osuosl.org
2014-05-15 11:11:11	--	Channel created on Thu, 14 Mar 2013 11:51:55
2014-05-15 11:16:04	-->	pop_n_fresh (voigte@osuosl/staff/popnfresh) has joined #osuosl-dev
2014-05-15 11:19:52	chance	on my display
2014-05-15 11:20:15	chance	ive got a goroutine continuously reading from the socket
2014-05-15 11:20:28	chance	and then in my main() i write to the socket stuff
2014-05-15 11:21:24	mathuin	And what's reading the sockets on the other side?
2014-05-15 11:21:30	mathuin	Just a goroutine?
2014-05-15 11:21:58	mathuin	Have you tried connecting to /dev/tty6 or the VM equivalent?
2014-05-15 11:21:59	chance	the otherside? a serial console thing provided by kvm/qemu
2014-05-15 11:22:20	chance	the otherside is the console
2014-05-15 11:22:27	chance	so whatever i write, it echos
2014-05-15 11:22:35	chance	like a console would
2014-05-15 11:23:22	chance	so im not sure, i think part of my problem is a shell on the other end, or something.
2014-05-15 11:23:27	mathuin	Okay.  So what I would start with would be connecting to a VM's console and log in with known username and password, then fuss with arrows.
2014-05-15 11:23:35	mathuin	That way at least you'd know what was going on.
2014-05-15 11:23:36	chance	thats exactly what im doing
2014-05-15 11:25:39	mathuin	Do you have the username/password login part working yet?
2014-05-15 11:27:40	chance	i dont need to
2014-05-15 11:27:44	chance	no username/password
2014-05-15 11:27:46	chance	bypassed
2014-05-15 11:27:49	chance	in the VM
2014-05-15 11:27:57	chance	so im just at a prompt
2014-05-15 11:31:51	chance	Ramereth: im having virtualbox networking issues
2014-05-15 11:32:15	chance	http://pastebin.osuosl.org/7311/
2014-05-15 11:40:16	chance	Ramereth: same issue
2014-05-15 11:40:57	chance	gonna try restarting virtualbox daemon
2014-05-15 11:41:12	chance	huh, that worked
2014-05-15 11:41:48	Ramereth	wonder if virtualbox got upgraded
2014-05-15 11:42:28	chance	4.1.12 still
2014-05-15 11:43:04	muricula	does anyone know where I can pull a read only copy of the new pdumaster project from?
2014-05-15 11:46:13	muricula	figured it out
2014-05-15 12:08:41	chance	i forget how to change quotas in GWM T.T
2014-05-15 12:09:29	chance	oh yeah its per cluster not VM
2014-05-15 12:44:14	muricula	 /set weechat.bar.nicklist off
2014-05-15 12:44:20	muricula	whoops
2014-05-15 12:44:33	bryon	^^^^^ irssi ftw
2014-05-15 12:49:21	-->	lucyw (wymanl@osuosl/staff/lucyw) has joined #osuosl-dev
2014-05-15 16:22:18	mathuin	"For example, the World Wide Web Consortium (W3C) provides official specifications for many client-side Web technologies. Unfortunately, these specifications are binding upon browser vendors in the same way that you can ask a Gila monster to meet you at the airport, but that gila monster may, in fact, have better things to do."
2014-05-15 16:22:40	mathuin	https://research.microsoft.com/en-us/people/mickens/ToWashItAllAway.pdf posted by Greg Lund-Chaix to his G+, written by someone else.
2014-05-15 21:00:44	muricula	lucyw: ^^
2014-05-16 06:45:55	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (*.net *.split)
2014-05-16 06:45:58	<--	bryon (bryon@osuosl/staff/bryon) has quit (*.net *.split)
2014-05-16 07:09:12	jnoah	Ramereth: when is kennric back from vacation?
2014-05-16 08:13:28	jnoah	bramwelt: are you in?
2014-05-16 08:43:33	Ramereth	aha, I found ken's email on May
2014-05-16 08:43:35	Ramereth	May 1
2014-05-16 08:43:40	Ramereth	jnoah: looks like he's back on Monday
2014-05-16 08:43:58	jnoah	mk
2014-05-16 08:44:01	jnoah	ty
2014-05-16 08:50:23	bramwelt	jnoah: No, I won't be in today.
2014-05-16 08:50:25	kennric	Ramereth, jnoah I am back today
2014-05-16 08:51:09	jnoah	bramwelt: ok. i just brought in some new stumptown coffee :)
2014-05-16 08:51:42	bramwelt	jnoah: Well..I could stop by. :)
2014-05-16 09:00:36	Ramereth	kennric: oh ok! welcome back!
2014-05-16 09:06:51	kennric	not that I am going to be all that effective today, but I am here
2014-05-16 13:12:15	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-05-16 15:20:34	chance	kennric: i sent you a bug to review
2014-05-16 15:27:23	kennric	chance: I'll take a look
2014-05-16 15:35:48	<--	bramwelt (~bramwelt@osuosl/staff/bramwelt) has quit (*.net *.split)
2014-05-16 15:35:48	<--	deanj (~johnsdea@osuosl/staff/johnsdea) has quit (*.net *.split)
2014-05-16 15:36:07	-->	bramwelt (~bramwelt@osuosl/staff/bramwelt) has joined #osuosl-dev
2014-05-16 15:36:07	-->	deanj (~johnsdea@osuosl/staff/johnsdea) has joined #osuosl-dev
2014-05-16 15:40:50	kennric	so the template model didn't have a hypervisor field at all before?
2014-05-16 15:44:46	chance	apparently
2014-05-16 15:45:33	kennric	hmm
2014-05-16 18:12:34	<--	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has quit (Remote host closed the connection)
2014-05-16 18:12:54	-->	brutal_chaos (~brutal_ch@osuosl/staff/brutal-chaos) has joined #osuosl-dev
2014-05-16 18:13:12	<--	brutal_chaos (~brutal_ch@osuosl/staff/brutal-chaos) has quit (Client Quit)
2014-05-16 18:15:20	-->	brutal_chaos (~brutal_ch@osuosl/staff/brutal-chaos) has joined #osuosl-dev
2014-05-16 18:39:00	--	brutal_chaos is now known as jnoah
2014-05-18 15:13:38	<--	bramwelt (~bramwelt@osuosl/staff/bramwelt) has quit (*.net *.split)
2014-05-18 15:13:38	<--	deanj (~johnsdea@osuosl/staff/johnsdea) has quit (*.net *.split)
2014-05-18 15:13:48	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (*.net *.split)
2014-05-18 15:19:35	-->	deanj (~johnsdea@osuosl/staff/johnsdea) has joined #osuosl-dev
2014-05-18 15:19:35	-->	bramwelt (~bramwelt@osuosl/staff/bramwelt) has joined #osuosl-dev
2014-05-18 15:19:35	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-05-18 18:59:56	-->	edunham (dunhame@osuosl/staff/edunham) has joined #osuosl-dev
2014-05-19 11:36:10	kennric	MaraJade: are you in? I just wanted to check on where you are with PGD
2014-05-19 11:38:13	MaraJade	kennric: I am. I am reading up on stuff mathuin gave me. Trying to wrap my head around it
2014-05-19 11:39:07	kennric	MaraJade: let me know if you have any questions
2014-05-19 11:49:48	chance	morning all
2014-05-19 12:23:34	chance	kennric: did you find time to review that bug i fixed?
2014-05-19 12:26:31	kennric	chance: breifly, but not enough to write it up - it looks correct, just tryin to understand why those params were not in the template to begin with
2014-05-19 12:32:52	chance	well because templates/vm_wizard was merged before it was finished is probably the answer
2014-05-19 12:33:05	chance	it never even used hvparams until i added them
2014-05-19 12:33:37	chance	i must have assumed the other params that you would expect existed. one of them i just miss typed, no_start instead of start
2014-05-19 12:34:05	chance	anyway, im looking at adding the notes field feature to this new release, but i found a slight problem with migrations
2014-05-19 12:34:20	chance	basically we have code to force a refresh of our cache in ganeti_web as a post_migrate hook
2014-05-19 12:34:39	chance	now that apps are separated, its refreshing models which havent migrated yet
2014-05-19 12:34:50	chance	so i need to split that refresh into the specific modules
2014-05-19 12:34:55	chance	should be easy
2014-05-19 12:35:48	kennric	hmm, yeah, I can see how that happened - I'll resolve that bug shortly, I don't see any issues with it
2014-05-19 12:42:20	jnoah	deanj: when you get a second, can you test 14721 on staging (per request by kennric)? https://code.osuosl.org/issues/14721
2014-05-19 12:42:45	jnoah	if all goes well there, and the pep8 bug is reviewed, we can cut a 0.1 release
2014-05-19 12:43:23	jnoah	deanj: afaik, the code has already been merged into develop, it just needs to be tested
2014-05-19 12:43:40	jnoah	thoroughly
2014-05-19 13:17:10	chance	kennric: i have another simple bug for you to review, just to get some eyes o nit
2014-05-19 13:17:12	chance	on it
2014-05-19 13:17:15	chance	its what i was talking about above
2014-05-19 13:17:31	chance	also updated south a few minor versions
2014-05-19 13:21:25	chance	kennric: sent
2014-05-19 13:25:05	kennric	hmm, it looks like there are some chef changes in that branch
2014-05-19 13:25:37	chance	which branch
2014-05-19 13:25:49	kennric	16185
2014-05-19 13:25:55	kennric	vagrant/chef
2014-05-19 13:26:47	chance	those are also in develop
2014-05-19 13:27:29	chance	git diff origin/develop origin/bug/16185 will show the diff on the latest remote pushes
2014-05-19 13:27:34	chance	so your develop is probably out of date
2014-05-19 13:27:35	kennric	yep, see that now, I thought I had pulled develop before diffing, but I guess not
2014-05-19 13:28:16	chance	oh yeah i should add how i tested that
2014-05-19 13:32:11	chance	updated the ticket with how i tested
2014-05-19 13:35:08	jnoah	sup chance
2014-05-19 13:36:14	chance	hai
2014-05-19 13:39:51	kennric	chance: so, if the tables exist, you run the update, if they don't you don't - but does the update get run later on when the tables -do- exist?
2014-05-19 13:40:18	chance	those checks have existed prior to when i updated this
2014-05-19 13:40:27	chance	those checks are just legacy, the tables always exist
2014-05-19 13:40:43	chance	i kept them there cause id rather keep them than remove them and break something
2014-05-19 13:40:59	chance	the update only refreshes instance caches
2014-05-19 13:41:06	chance	its not evne really strictly necessary
2014-05-19 13:41:08	kennric	right, you just added the check for the app, but the situation seems fishy to me
2014-05-19 13:41:18	chance	this only happens when you run migrations
2014-05-19 13:41:37	chance	so overall, this is a way to run migrations, and then immediately update the cache of eveyr object..because ___
2014-05-19 13:41:46	chance	where ___ is some reason that someone else had years before me
2014-05-19 13:42:09	chance	i can think of some reasons, but they're all fairly arbitrary.
2014-05-19 13:43:12	kennric	well, I don't see any issue with your fix, particularly, it's jus one more strange piece of legacy code
2014-05-19 13:43:20	chance	i agree
2014-05-19 13:43:36	chance	another reason it realy needs a re-write
2014-05-19 13:44:17	kennric	but we aren't doing deep refactors - if it fixes the error and doesn't introduce a new one, it's fine, we'll do a better job in the next version
2014-05-19 13:44:32	chance	yeah.
2014-05-19 13:44:36	chance	thats basically how i feel on that
2014-05-19 13:44:47	chance	id rather fix this issue now just cause it could cause migration problems for people upgrading
2014-05-19 14:17:55	chance	merged those thigns, plus evan's first commit
2014-05-19 14:18:04	chance	notes field added to the VMs :)
2014-05-19 14:18:15	jnoah	chance: https://code.osuosl.org/issues/16191
2014-05-19 14:18:32	chance	stop using fab deploy
2014-05-19 14:18:45	jnoah	chance: the directions say to use it...
2014-05-19 14:18:53	kennric	chance: have we taken that out of all the docs yet?
2014-05-19 14:19:02	kennric	I guess not
2014-05-19 14:19:02	chance	http://ganeti-webmgr.readthedocs.org/en/develop/dev/installation.html#developer-installation
2014-05-19 14:19:02	jnoah	kennric: nope
2014-05-19 14:19:04	manatee	chance's tiny URL is http://bit.ly/H6sTox
2014-05-19 14:19:15	chance	it is removed
2014-05-19 14:19:18	chance	people arent using the right docs
2014-05-19 14:19:44	jnoah	chance: that's where the development readme points
2014-05-19 14:19:48	kennric	what docs are they using, and why are they finding those first?
2014-05-19 14:19:53	jnoah	so you are pointing them int the wrong direction
2014-05-19 14:20:35	chance	ah i never fixed the readme's link cause we were still deciding on what we wanted as the default rtd docs
2014-05-19 14:20:59	chance	well actually, its accurate, just not for devleop
2014-05-19 14:21:00	kennric	would be a good job for tschuy, get him into the docs
2014-05-19 14:21:01	chance	develop*
2014-05-19 14:21:05	jnoah	k, well, that's where users are going i think
2014-05-19 14:21:14	chance	basically the readme points to http://ganeti-webmgr.readthedocs.org/en/latest
2014-05-19 14:21:16	chance	which is accurate
2014-05-19 14:21:19	chance	except on develop
2014-05-19 14:21:22	jnoah	ah
2014-05-19 14:21:41	chance	basically otherwise i have to update the readme everytime we update, which is fine.
2014-05-19 14:21:49	chance	and it will still be wrong on develop
2014-05-19 14:21:50	chance	so
2014-05-19 14:22:06	chance	i could add a link to develop docs for the readme though
2014-05-19 14:22:27	jnoah	good idea
2014-05-19 14:24:18	chance	added
2014-05-19 14:25:30	jnoah	oh, do we actually still support greek?
2014-05-19 14:26:28	chance	well we use i18n and that allows for translations
2014-05-19 14:26:40	chance	and we wrap most text in translation functions
2014-05-19 14:26:48	chance	but we dont actively have people translating
2014-05-19 14:26:52	jnoah	mk
2014-05-19 14:28:13	jnoah	chance: hmm, ImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined
2014-05-19 14:28:35	chance	whats causing that?
2014-05-19 14:28:38	chance	what are you running
2014-05-19 14:29:00	jnoah	ganeti_webmgr/ganeti_webmgr/ganeti_web/manage.py
2014-05-19 14:29:05	jnoah	python ganeti_webmgr/ganeti_webmgr/ganeti_web/manage.py          *
2014-05-19 14:29:36	jnoah	yes i'm in the virtualenv, yes i've followed all the steps (afaict)
2014-05-19 14:29:36	chance	manage.py what
2014-05-19 14:29:49	jnoah	nothing at first, then runserver, and run
2014-05-19 14:29:53	jnoah	all with the same result
2014-05-19 14:30:37	jnoah	and i just tried 'syncdb --all'
2014-05-19 14:30:38	jnoah	same thing
2014-05-19 14:31:14	chance	manage.py doesnt exist in ganeti_web
2014-05-19 14:31:36	chance	$project_dir/ganeti_webmgr/manage.py
2014-05-19 14:31:59	chance	so you might be using a manage.py from a previous git checkout
2014-05-19 14:32:00	jnoah	management.py
2014-05-19 14:32:09	jnoah	all is fresh
2014-05-19 14:32:17	chance	management.py != manage.py
2014-05-19 14:33:15	chance	just make sure your using ganeti_web/manage.py
2014-05-19 14:33:16	jnoah	yeah, ganeti_webmgr/ganeti_webmgr/ganeti_web/manage.py is wrong then? (i tabbed completed which explains why i was using management.py rather than manage.py
2014-05-19 14:33:26	chance	yes thats wrong.
2014-05-19 14:33:46	chance	in fact
2014-05-19 14:33:56	jnoah	last bit of development docs
2014-05-19 14:34:28	chance	where?
2014-05-19 14:34:56	chance	can you be more specific
2014-05-19 14:35:14	jnoah	http://ganeti-webmgr.readthedocs.org/en/develop/dev/installation.html#developer-installation   "Management"
2014-05-19 14:35:15	manatee	jnoah's tiny URL is http://bit.ly/H6sTox
2014-05-19 14:35:48	chance	yeah, i guess piotr never updated that after we moved it
2014-05-19 14:36:09	chance	ill fix that
2014-05-19 14:36:25	jnoah	cool
2014-05-19 14:36:32	jnoah	also, all seems to be up and going now
2014-05-19 14:36:53	chance	also, vagrant works
2014-05-19 14:36:58	chance	in case you want a dev vm
2014-05-19 14:37:15	chance	did you file a bug for the docs manage.py thing?
2014-05-19 14:37:17	chance	or do i need to
2014-05-19 14:37:35	jnoah	i've only filed https://code.osuosl.org/issues/16191
2014-05-19 14:37:38	chance	okay
2014-05-19 14:37:38	jnoah	so, no i haven't
2014-05-19 14:37:41	chance	ill make a new bug then
2014-05-19 14:37:47	jnoah	k
2014-05-19 14:47:43	chance	k fixed
2014-05-19 14:51:05	chance	jnoah: if you want to help on docs, that would be much appreciated. its hard to notice what's wrong when you passively correct things :)
2014-05-19 15:18:23	pop_n_fresh	chance: I think I pushed an update to the fenestra readme.
2014-05-19 15:19:52	chance	yep looks like its there
2014-05-19 15:19:54	chance	ill check it later
2014-05-19 15:19:57	chance	going to go eat and do hw
2014-05-20 13:04:05	chance	kennric: i think ive merged most extranous issues for gwm at this point
2014-05-20 13:04:22	chance	so im wondering if we can create a branch at this point
2014-05-20 13:08:23	kennric	yes.
2014-05-20 13:13:27	chance	it's going to be 0.11 right?
2014-05-20 13:14:50	kennric	chance: yep, 0.11
2014-05-20 14:17:58	mathuin	MaraJade: ping
2014-05-20 15:29:12	MaraJade	mathuin: pong
2014-05-20 15:30:04	mathuin	Any luck with the biochemistry?
2014-05-20 15:30:49	MaraJade	A little. I was about to go read that doc you linked in the gsoc channel
2014-05-20 15:31:42	mathuin	I was about to recommend it. :-)
2014-05-20 16:05:24	jnoah	deanj: hopefully tomorrow you can test multisite install on staging. If that works, I have a bug to send to you (pep8 cleanup), then we can cut a 0.1 release for TheOC finally.
2014-05-20 16:07:30	jnoah	tomorrow == Wed. the 21st
2014-05-20 16:21:37	jnoah	chance: just got fenestra up and running :)
2014-05-20 16:22:07	mathuin	Woo!  Demo on bigscreen!
2014-05-20 16:22:40	jnoah	heh, we don't have anything special to show off yet :/
2014-05-20 17:07:03	jnoah	chance: are you in right now?
2014-05-20 17:09:27	chance	no
2014-05-20 17:09:36	chance	why
2014-05-20 17:12:55	jnoah	questions about fenestra
2014-05-20 17:13:04	chance	like what
2014-05-20 17:13:29	jnoah	running from master, no changes, i'm not seeing any buzzwords. should there be any?
2014-05-20 17:13:57	chance	cant remember
2014-05-20 17:13:59	chance	i think so
2014-05-20 17:14:03	chance	not sure if masters fully working or not
2014-05-20 17:14:38	chance	checkout the gridlist branch and try
2014-05-20 17:15:26	jnoah	no buzzwords, but am getting more of a grid
2014-05-20 17:15:59	chance	getting any errors on the js side?
2014-05-20 17:16:03	chance	or on the ruby end?
2014-05-20 17:16:23	jnoah	none on the ruby end, lemme check js
2014-05-20 17:16:25	chance	your the first who's gotten set up it seems and is unable to get buzzwords, which seems odd
2014-05-20 17:16:35	jnoah	you're*
2014-05-20 17:16:42	chance	oh
2014-05-20 17:16:49	chance	did you run bower install>
2014-05-20 17:16:51	chance	?
2014-05-20 17:18:43	jnoah	i may have skipped that step by mistake
2014-05-20 17:18:47	jnoah	looks like i did
2014-05-20 17:18:58	chance	yeah, that part installs all the js dependencies
2014-05-20 17:19:30	jnoah	ok, so i installed bower, but bower not found.
2014-05-20 17:19:47	chance	how did you install it? globally or not?
2014-05-20 17:20:04	chance	im not going to troubleshoot bower much, you should be able to figure out path and how npm works
2014-05-20 17:20:19	jnoah	npm install -g bower
2014-05-20 17:20:22	chance	but if you used -g thats a global install, and npm should have your global packages in your path
2014-05-20 17:20:23	jnoah	as per the readme
2014-05-20 17:20:30	chance	if its not in your path, then you need to set that up
2014-05-20 17:20:59	chance	or you need to setup your npm prefix somewhere local and add that to your path
2014-05-20 17:21:50	chance	https://www.npmjs.org/doc/misc/npm-config.html and https://www.npmjs.org/doc/files/npm-folders.html
2014-05-20 17:21:54	chance	checkout prefix
2014-05-20 17:21:55	jnoah	i think i need to add it to my path
2014-05-20 17:22:19	chance	im pretty sure i install my packages into my homedir via a custom prefix
2014-05-20 17:22:38	chance	something like npm set prefix ~/.npm or ~/.node
2014-05-20 17:22:40	chance	i dont which
2014-05-20 17:22:44	chance	i dont know which*
2014-05-20 17:22:50	chance	but one of those is reserved by npm already
2014-05-20 17:22:52	chance	so be careful
2014-05-20 17:23:18	chance	but you should be set once you figure that out
2014-05-20 17:23:26	jnoah	woot, that was the problem
2014-05-20 17:23:30	jnoah	seems to work now
2014-05-20 17:23:57	jnoah	thanks
2014-05-20 17:24:10	chance	yep! npm isnt too hard to get setup, just defaults can be a bit cumbersome
2014-05-20 17:24:18	chance	http://i.imgur.com/1M2BpNc.jpg
2014-05-20 17:25:06	jnoah	both master and gridlist work
2014-05-20 17:25:16	chance	cool
2014-05-20 17:25:24	jnoah	well, "work"
2014-05-20 17:25:27	chance	gridlist is where im trying to change from gridster to gridlist
2014-05-20 17:25:29	jnoah	both have styling issues
2014-05-20 17:25:31	chance	but css is funky
2014-05-20 17:25:37	chance	and i cbf to get CSS to actually work
2014-05-20 17:25:43	chance	spent way too much time fiddling with it
2014-05-20 17:25:45	chance	so i gave up
2014-05-20 17:25:48	jnoah	ah
2014-05-20 17:25:54	chance	might just need to use html/css and no grids
2014-05-20 17:25:55	jnoah	i'm going to start on a nero widget
2014-05-20 17:26:26	jnoah	but, i'm off to lug now, that'll be for tomorrow
2014-05-20 17:26:27	chance	cool
2014-05-20 17:26:31	chance	later.
2014-05-21 10:16:14	deanj	jnoah: Yeah, we can definitely try doing that today.
2014-05-21 10:28:07	kennric	deanj, jnoah - I asked bryon to help out with OC documentation - he'll be a good documentor, as he knows nothing of the project, so your job is to help him understand how to write the docs, and explain the app to him
2014-05-21 10:45:11	deanj	kennric: Sounds good!
2014-05-21 11:34:51	chance	kennric: that refresh thing is getting annoying T>T
2014-05-21 11:34:58	chance	its causing errors still in migrations on staging
2014-05-21 11:36:13	kennric	what is the error?
2014-05-21 11:36:31	chance	tables not existing
2014-05-21 11:36:43	chance	im gonna try and just run them at the end of all migrations maybe
2014-05-21 11:36:52	chance	it works without the refresh_objects stuff ata ll
2014-05-21 11:37:01	chance	so its definitely the problem
2014-05-21 11:37:23	chance	might make more sense to make refreshing caches a manage.py job
2014-05-21 11:37:26	kennric	I think refresh-objects doesn't really belong in migrations anyway
2014-05-21 11:37:34	chance	i entirely agree
2014-05-21 11:37:49	kennric	yeah, but take the least-work route, we don't need to re-architect
2014-05-21 11:38:02	chance	yeah
2014-05-21 11:38:11	chance	ill see if i can just make it into a manage.py command
2014-05-21 11:38:23	chance	seems easiest
2014-05-21 12:27:39	deanj	kennric: Any idea when orvsd-central.stg.orvsd.org broke?
2014-05-21 12:29:19	deanj	jnoah: ^
2014-05-21 12:31:02	kennric	deanj: no
2014-05-21 12:32:23	deanj	Alright.
2014-05-21 12:33:54	kennric	deanj: define "broke"
2014-05-21 12:49:22	jnoah	deanj: it broke?
2014-05-21 12:49:28	jnoah	what's wrong?
2014-05-21 12:49:47	deanj	uWSGI error: python application not found
2014-05-21 12:52:31	kennric	check the uwsgi logs for a python stack trace
2014-05-21 12:57:49	jnoah	kennric: staging is back up
2014-05-21 13:00:39	kennric	what was the issue?
2014-05-21 13:08:32	jnoah	someone modified the orvsd_central.ini incorrectly
2014-05-21 13:09:30	kennric	and what mechanism do we have to prevent or detect this in future?
2014-05-21 13:10:13	jnoah	our understanding of uWSGI configs
2014-05-21 13:11:40	kennric	well, that hasn't prevented it in the past...
2014-05-21 13:11:59	kennric	nagios check perhaps?
2014-05-21 13:13:41	jnoah	possibly
2014-05-21 13:13:57	jnoah	i'm unsure how to go about that. pono, bramwelt ideas?
2014-05-21 13:18:12	chance	kennric: i would say configuration management
2014-05-21 13:20:37	kennric	chance: cm will get it configured safely, nagios will tell us if it breaks anyway
2014-05-21 13:20:48	kennric	both are a good idea for any app
2014-05-21 13:23:16	chance	before we ship the new version of GWM
2014-05-21 13:23:27	chance	we need to upload wheels/setup downloads for our packages on our ftp page
2014-05-21 13:23:40	chance	so that piotrs setup script works
2014-05-21 13:24:41	kennric	chance: indeed.
2014-05-21 13:29:30	chance	So i moved the refresh_objects into a manage.py command
2014-05-21 13:29:57	chance	added docs onto it
2014-05-21 13:30:03	chance	would you like to review it kennric ?
2014-05-21 13:31:10	kennric	sure, I'll take a look
2014-05-21 13:35:00	chance	there isnt much to test, but someone else running it would be good
2014-05-21 13:35:16	chance	tested it on staging, no longer errors in migrations with that removed.
2014-05-21 13:41:44	chance	wheels are badass
2014-05-21 13:42:31	chance	kennric: so we need to release a new version of tvap
2014-05-21 13:42:38	chance	thats all ready to go
2014-05-21 13:42:47	chance	its 1.0 atm, develop is working great on staging
2014-05-21 13:42:58	chance	so i was thinking we do 1.1
2014-05-21 13:43:39	kennric	sounds reasonable
2014-05-21 13:44:11	chance	cool
2014-05-21 13:44:29	chance	should i bump the setup.py version in develop? and then do you think you can handle what needs to happen to push it to pypi?
2014-05-21 13:44:51	jnoah	chance: any idea what << means in ruby?
2014-05-21 13:45:19	jnoah	kennric ^
2014-05-21 13:45:32	chance	jnoah: append/send
2014-05-21 13:45:33	chance	its overridable
2014-05-21 13:45:41	kennric	chance: yes, bump the version, make a release branch
2014-05-21 13:46:05	kennric	I will push it to pypi - be sure the changelog has a good description of what changed
2014-05-21 13:46:08	chance	http://stackoverflow.com/questions/13918853/double-less-than-ruby jnoah
2014-05-21 13:46:08	manatee	chance's tiny URL is http://bit.ly/1pdNtEm
2014-05-21 13:46:28	chance	kennric: i dont think there's a changelog for tvap
2014-05-21 13:47:03	chance	nor do i think we used release branches for tvap
2014-05-21 13:47:06	chance	still want a release branch?
2014-05-21 13:48:07	chance	its last tag is 0.7 :\
2014-05-21 13:50:20	kennric	if we are going to own it, we should treat it like our other projects, including adding missing docs when we can, such as a changelog
2014-05-21 13:52:11	chance	okay
2014-05-21 13:52:29	chance	markdown/rst?
2014-05-21 13:52:34	chance	neither?
2014-05-21 13:54:11	kennric	looking at it now
2014-05-21 13:54:38	-->	bryon (bryon@osuosl/staff/bryon) has joined #osuosl-dev
2014-05-21 13:54:42	kennric	PyPi still points to code.osuosl for the project page, too
2014-05-21 13:54:54	chance	its not the project page?
2014-05-21 13:55:15	kennric	changelog can just be txt for now, eventually it would be nice to add a propoer docs tree
2014-05-21 13:55:30	bryon	apparently i fell out of this channel at some point
2014-05-21 13:55:41	kennric	well, sort of, but not in a good way
2014-05-21 13:55:52	bryon	is the dev meeting at 3 or 4?
2014-05-21 13:57:08	kennric	dev meeting is supposed to be 4... this will be the third time I've told google to change all future occurrances
2014-05-21 13:57:22	bryon	heh
2014-05-21 13:57:33	chance	kennric: i pushed those things
2014-05-21 13:57:38	bryon	that's what i thought, but it said 3 on the calendar, so i wanted to clarify
2014-05-21 13:59:19	muricula	edunham: kennric http://pastebin.osuosl.org/7401/
2014-05-21 13:59:35	edunham	muricula++
2014-05-21 13:59:38	muricula	This is a draft of the design document, I need to run off to class asap
2014-05-21 13:59:45	edunham	excellent start
2014-05-21 13:59:58	muricula	can you tell me if I'm missing any functionality?
2014-05-21 14:00:41	edunham	well, you head for class and I'll leave you a wall of questions in here
2014-05-21 14:00:55	muricula	thanks
2014-05-21 14:01:11	edunham	* where on internal net does pdumaster run? does it matter?
2014-05-21 14:01:32	edunham	L24 clarify that it'll cache pdu existance in a database to avoid repeating snmp discovery pings
2014-05-21 14:02:18	edunham	L26 it'd be helpful to say which functions -- status reporting, per-port power control, and reboot are among the most important i can think of
2014-05-21 14:03:06	edunham	you never actually state that the server is probably Python and the web UI is probably flask
2014-05-21 14:03:31	edunham	L14 by scriptable cli you mean API? might be good to clarify which functions the CLI and web UI are meant to expose
2014-05-21 14:03:39	edunham	also where the web UI is meant to be run from
2014-05-21 14:03:56	edunham	(you said something about as a local app on each workstation with an api key?)
2014-05-21 14:04:19	edunham	though we could totally just chuck the web ui on py1 or something and set the vhost to require ldap login so only OSLers could touch it
2014-05-21 14:04:46	kennric	edunham: workstation app came from Ramereth, I am still not sure yet the best way to implement that
2014-05-21 14:04:51	edunham	okay
2014-05-21 14:05:14	edunham	also do you have any integration with racktables planned or on the "i want a pony" list?
2014-05-21 14:05:14	manatee	OMG!!! Ponies!!!
2014-05-21 14:05:16	kennric	I forget which host has access ot the pdu snmp, larch?
2014-05-21 14:05:51	kennric	possibly integration with ipmi project, at least, possibly also racktables
2014-05-21 14:05:51	edunham	yeah I think it's larch... https://docs.osuosl.org/software/procedures/add_pdu_to_munin.html suggests so
2014-05-21 14:06:19	kennric	Number 3... the Larch.
2014-05-21 14:06:44	edunham	racktables would be pretty great -- have a confirmation dialog that's all like "i think such and such a host is plugged into the port you're shutting off, are you sure?"
2014-05-21 14:07:02	edunham	'cause we're gradually starting to track all the cables as well as all the servers
2014-05-21 14:07:31	kennric	there needs to be some serious background work done to label those outlets
2014-05-21 14:08:03	edunham	yeah, and it'll probably go into racktables first
2014-05-21 14:08:17	edunham	so some means of attempting label consistency between the systems would be nice
2014-05-21 14:08:20	kennric	labels exist in the pdus themselves
2014-05-21 14:08:27	edunham	ah, okay
2014-05-21 14:08:29	kennric	exactly
2014-05-21 14:08:41	edunham	then it might be pdumaster reporting back to racktables, rather than vice versa
2014-05-21 14:09:19	kennric	pdumaster can -set- labels on the pdus... but at some point someone has to actually see what machine which power cord is plugged into
2014-05-21 14:09:29	edunham	yes
2014-05-21 14:09:48	edunham	what I'm saying is that we document where the physical cords plug in using racktables
2014-05-21 14:10:09	edunham	anyways, back to the paste, are you using ldap for authentication/authorization to touch pdus?
2014-05-21 14:10:53	edunham	if so, my other "I want a pony" feature is having logs of everything that everyone has ever touched through pdumaster
2014-05-21 14:10:53	manatee	OMG!!! Ponies!!!
2014-05-21 14:11:04	edunham	for like "who rebooted baz?"
2014-05-21 14:11:07	kennric	snmp access has it's own auth, basically that consists of the community name and what ip address is talking to it
2014-05-21 14:11:34	kennric	so, any auth/logging will have to reside entirely in pdumaster
2014-05-21 14:11:35	edunham	oh yeah because projects vpn in and can touch pdu stuff if authorized
2014-05-21 14:11:50	edunham	I guess I mean more on the web ui side
2014-05-21 14:12:00	kennric	but it would definitely be nice to know who did what
2014-05-21 14:12:18	edunham	'cause if we have a central web interface, all the requests from it will be same project and IP
2014-05-21 14:13:05	kennric	btw, pdumaster was a throwaway name I slapped on when I was playing with this, if there is a better idea for a name, I would not be offended
2014-05-21 14:13:16	kennric	web and cli interface....
2014-05-21 14:14:07	kennric	there's no reason why a cli client couldn't talk http to the core, but session management and authentication is going to be interesting
2014-05-21 14:14:21	mathuin	kennric: git does it in a not-totally-horrible way.
2014-05-21 14:15:10	mathuin	As for names, one of the three Fates might be an inspiration, seeing as they measured and cut the thread of life.
2014-05-21 14:15:38	mathuin	I think dropbox and docker also have CLI logins that persist.
2014-05-21 14:15:47	kennric	but I think we need to concentrate on the core stuff for now, we don't need to dive into the interface just yet
2014-05-21 14:16:06	mathuin	Just trying to name some examples that might provide suggestions.
2014-05-21 14:16:16	kennric	it is certainly doable, justa  different toolset than we are familiar with
2014-05-21 14:23:33	mathuin	chance: what are your thoughts on gorp as an ORM-like product for go?
2014-05-21 14:25:22	chance	theres a bunch, try um all, find one you like
2014-05-21 14:25:28	chance	its really about your preference of the API
2014-05-21 14:25:30	chance	they're all different
2014-05-21 14:25:37	chance	pick one with the least annoying API
2014-05-21 14:31:57	mathuin	I was looking at writing something relatively simple to test them out, and I realized just how much I leaned on Django's views.  So annoying to have to recreate them.
2014-05-21 14:33:07	chance	lol
2014-05-21 14:33:34	mathuin	html/template seems to fill in the blanks, but I haven't done enough with the text version of template yet to really feel comfortable.
2014-05-21 14:34:46	kennric	chance, tvap develop contains all the fixes now?
2014-05-21 14:35:13	chance	kennric: yep
2014-05-21 14:35:54	kennric	ok, I will branch/tag/pypi
2014-05-21 14:35:59	jnoah	deanj: #16209
2014-05-21 14:36:10	jnoah	what's with the modification to config.py.dist?
2014-05-21 14:36:19	jnoah	er default.py.dist *
2014-05-21 14:40:32	deanj	jnoah: Read it. o.O
2014-05-21 14:40:45	jnoah	yeah, i get why, but i don't like how
2014-05-21 14:41:32	deanj	The comment says it is so we're pointing at the correct project path; because it looks at the current directory, it includes the /config on the end. We could also probably just change it to call the parent directory though, I didn't thinkg of that immediately while fixing the issue.
2014-05-21 14:41:54	jnoah	deanj: wrap os.path.dirname around it again
2014-05-21 14:41:58	jnoah	your split is not needed
2014-05-21 14:42:23	deanj	What do you mean by wrap it?
2014-05-21 14:42:30	jnoah	PROJECT_PATH = os.path.dirname(os.path.abspath(os.path.dirname(__file__)))
2014-05-21 14:42:35	jnoah	that'll do what you want
2014-05-21 14:42:49	mathuin	Isn't there a best-practices way to do that?
2014-05-21 14:42:59	jnoah	mathuin: it's not what dean did
2014-05-21 14:43:06	deanj	Err, I'm pretty sure there's a os.path.parent or something.
2014-05-21 14:43:06	jnoah	PROJECT_PATH = '/'.join(PROJECT_PATH.split('/')[:-1]) + '/
2014-05-21 14:43:14	jnoah	deanj: i just read the docs
2014-05-21 14:43:17	jnoah	that'll do it
2014-05-21 14:43:22	mathuin	jnoah++
2014-05-21 14:43:46	chance	jnoah: oh god what the hell is that
2014-05-21 14:43:53	jnoah	os.path.split(path) leads to os.path.dirname(path) which is what you want
2014-05-21 14:43:55	mathuin	PROJECT_ROOT = os.path.abspath(os.path.join(os.path.dirname(__file__), '..').decode('utf-8')).replace('\\', '/')  <-- from one of my projects, with some paranoid defensive code against Windows systems.
2014-05-21 14:44:04	chance	you guys are crazy
2014-05-21 14:44:09	mathuin	'/'.join() is crazy talk.
2014-05-21 14:44:23	chance	yeah, like what's os.path.join for?
2014-05-21 14:44:25	chance	>.>
2014-05-21 14:44:28	mathuin	zactly
2014-05-21 14:45:06	jnoah	deanj: https://docs.python.org/2/library/os.path.html
2014-05-21 14:45:11	jnoah	(man page)++
2014-05-21 14:45:26	mathuin	jnoah: was deanj the originator of '/'.join() or was that you?
2014-05-21 14:45:50	 *	mathuin considers taking away his karma points. ;-)
2014-05-21 14:45:55	jnoah	mathuin: that's deanj, it's up for review by me and i'm not merging that in
2014-05-21 14:46:08	mathuin	You could almost definitely use the lion's share of the line I posted.
2014-05-21 14:46:21	mathuin	Strip off the utf-8 and \\ stuff if you know you'll never need it.
2014-05-21 14:46:34	jnoah	mathuin: are you working on windows or something?
2014-05-21 14:46:46	mathuin	jnoah: on that project, I was working on both.
2014-05-21 14:46:51	jnoah	ah
2014-05-21 14:47:12	mathuin	You could use os.path.abspath(os.path.join(os.path.dirname(__file__), '..')) I bet.
2014-05-21 14:47:45	deanj	^ that works, and is better.
2014-05-21 14:49:00	deanj	But we still need the trailing slash.. hmm.
2014-05-21 14:49:22	mathuin	You shouldn't.  Any later reference should be PROJECT_DUMB = os.path.join(PROJECT_PATH, 'dumb')
2014-05-21 14:49:34	mathuin	The literal '/' is a sign you're not doing it right.
2014-05-21 14:49:40	jnoah	yeah, use of os.path is good practice
2014-05-21 14:49:51	jnoah	rather than concating strings of paths
2014-05-21 14:50:17	jnoah	deanj: i sent the bug back with a suggested fix.
2014-05-21 14:52:56	mathuin	If you guys were here this summer, I'd suggest Dean give us a ten-minute presentation on os.path at the next dev meeting. :-)
2014-05-21 14:53:35	kennric	this is why we peer review code
2014-05-21 14:55:04	deanj	(coding while you're distracted with other things)++
2014-05-21 14:55:24	jnoah	-- you mean?
2014-05-21 14:55:46	deanj	jnoah: Fixed and sent your way. I used mathuin's approach because it will make more logical to someone else reading it.
2014-05-21 14:56:22	mathuin	I wonder if the canonical PEP 8 checker could search for " + '/' + " and complain.
2014-05-21 14:56:29	jnoah	yeah, i didn't ultimately like my fix, but it was something better anyway
2014-05-21 15:00:02	jnoah	deanj: nice. merged
2014-05-21 15:00:13	deanj	jnoah: Cool. Also, your re-working of the app structure completely broke how celery worked, so I'm gonna be fixing that for a while. :p
2014-05-21 15:00:27	jnoah	ok
2014-05-21 15:00:49	jnoah	that doesn't surprise me actually. i dunno that i ever tested celery after the fact now that I think about it :/
2014-05-21 15:01:07	jnoah	deanj: ask away if you have any questions
2014-05-21 15:01:30	deanj	It's all celery specific stuff, I'll figure it out.
2014-05-21 15:01:37	jnoah	ok
2014-05-21 15:02:25	mathuin	<hat type=ken>On the bright side, you can now write tests for celery to determine when it succeeds and fails which can be used later...</hat>
2014-05-21 15:07:33	kennric	chance: please test https://pypi.python.org/pypi/VNCAuthProxy/1.1
2014-05-21 15:11:11	chance	k
2014-05-21 15:12:01	chance	so im realizing all of our helper functions in settings.py and base.py for gwm, like root() and such dont behave how we would expect when gwm gets installed as a pytohn package
2014-05-21 15:12:05	chance	python package*
2014-05-21 15:12:07	chance	:|
2014-05-21 15:12:19	chance	like novnc isnt in the package so collectstatic doesnt work
2014-05-21 15:12:24	chance	and the relative root is wrong
2014-05-21 15:12:53	chance	i guess this is what happens when you run out of a git checkout
2014-05-21 15:12:54	kennric	piotr should have taken care of those details :(
2014-05-21 15:14:05	chance	yeah, well..
2014-05-21 15:15:03	chance	packaging is hard.
2014-05-21 15:15:43	kennric	indeed. How much trouble is it going to be to fix?
2014-05-21 15:15:57	chance	im trying to figure out how to properly handle files in setuptools
2014-05-21 15:16:01	chance	it might just be a few changes
2014-05-21 15:16:20	chance	but im basically finding a bunch of issues with settings, and where it's located, which is what piotrs ganeti_webmgr-config repo is for
2014-05-21 15:16:22	jnoah	chance: i don't even
2014-05-21 15:16:24	chance	but its still not perfect
2014-05-21 15:16:30	jnoah	(fenestra)
2014-05-21 15:16:34	chance	jnoah: ?
2014-05-21 15:16:35	kennric	everything ought to be relative...
2014-05-21 15:16:43	chance	you cant have relative in django
2014-05-21 15:16:43	jnoah	trying to get a simple widget to work
2014-05-21 15:16:46	kennric	I suppose that's optimistic
2014-05-21 15:16:46	jnoah	it's not showing up
2014-05-21 15:17:21	kennric	relative to project root, etc, which should be found no matter where you put it
2014-05-21 15:17:24	chance	jnoah: have you gone over the angular tutorial to figure out what the current widgets do?
2014-05-21 15:17:37	chance	kennric: yeah, well the project root isnt the same when you install it as a python package
2014-05-21 15:18:06	chance	$PROJECT_ROOT/ganeti_webmgr is the python package, and in settings we made a function refer to $PROJECT_ROOT using relative paths from the settings file
2014-05-21 15:18:09	jnoah	chance: no. i started a new dashboard and created a widget...the widget doesn't appear to even load.
2014-05-21 15:18:12	chance	vnc is in $PROJECT_ROOT/novnc
2014-05-21 15:18:17	jnoah	no errors, just nothing
2014-05-21 15:18:30	chance	jnoah: you probably havent odne enough angular stuff to make it work or something
2014-05-21 15:18:32	chance	not sure
2014-05-21 15:18:37	chance	too busy, cant help you more
2014-05-21 15:18:49	chance	kennric: anyways, $PROJECT_ROOT is site-packages when its installed
2014-05-21 15:18:55	chance	cause only the python package is added
2014-05-21 15:19:06	chance	but im seeing what i can do to fix that
2014-05-21 15:19:21	chance	i think i can make setup.py include novnc in its own folder and stuff
2014-05-21 15:20:56	kennric	chance: btw, these are good things to explain to tschuy as they come up so he can see how the sausage is made
2014-05-21 15:21:43	chance	i dont really think he is versed enough with any of the python things to be able to comprehend this
2014-05-21 15:21:57	chance	i could tell him
2014-05-21 15:22:03	chance	and try to help him understand
2014-05-21 15:22:11	chance	but you can only absorb so much and comprehend it
2014-05-21 15:22:14	chance	ill see what i can do
2014-05-21 15:22:22	kennric	you don't have to make him understand it in detail, but explain what a python package is, why we have one, the general issue we are having, etc
2014-05-21 15:31:47	<--	edunham (dunhame@osuosl/staff/edunham) has quit (Disconnected by services)
2014-05-21 15:32:59	-->	edunham (dunhame@osuosl/staff/edunham) has joined #osuosl-dev
2014-05-21 15:33:53	<--	lucyw (wymanl@osuosl/staff/lucyw) has quit (Ping timeout: 265 seconds)
2014-05-21 15:34:43	<--	MaraJade (goossenm@osuosl/staff/MaraJade) has quit (Ping timeout: 245 seconds)
2014-05-21 15:40:54	-->	MaraJade (goossenm@osuosl/staff/MaraJade) has joined #osuosl-dev
2014-05-21 17:00:56	muricula	deanj: jnoah kennric I fixed the orvsd-web confusion. It is now known as orvsd-central-web .  https://github.com/osuosl-cookbooks/orvsd-central-web
2014-05-21 17:01:04	muricula	That's the url
2014-05-21 17:03:41	jnoah	chance: where does "<buzzword-list></buzzword-list>" come from?
2014-05-21 17:16:56	jnoah	chance: why does .directive("buzzwordList").... equate to <buzzword-list></buzzword-list> and not <buzzwordList>???
2014-05-21 17:17:59	chance	jnoah: so you didnt go through the angular tutorial
2014-05-21 17:18:02	chance	do that first
2014-05-21 17:18:13	jnoah	k
2014-05-21 17:18:15	jnoah	will do i guess
2014-05-21 17:18:24	jnoah	either way, i have a new widget working
2014-05-21 17:18:58	jnoah	chance: https://docs.angularjs.org/tutorial/ ?
2014-05-21 17:20:45	chance	yes
2014-05-21 17:21:04	chance	kennric: im running into problems with tvap 1.1
2014-05-21 17:21:15	chance	i think for some reason when you bundled it, its not including certain files
2014-05-21 17:21:58	jnoah	it's*
2014-05-21 17:22:49	chance	jnoah: shut up jesus
2014-05-21 17:22:51	muricula	edunham: concerning pdumaster I think it would make more sense for the audit logging to take place at the json server level, do you agree?
2014-05-21 17:23:22	jnoah	chance: shut up,* jesus. unless my name is now jesus :)
2014-05-21 17:23:48	edunham	now now, kids...
2014-05-21 17:30:31	chance	kennric: http://pastebin.osuosl.org/7426/
2014-05-21 17:31:02	chance	so basically some files arent packaged in tvap 1.1
2014-05-21 17:33:46	chance	kennric: how did you build tvap?
2014-05-21 17:35:47	chance	im going home, ill work on that more tomorr
2014-05-21 17:35:48	chance	tomorrow
2014-05-21 17:36:46	jnoah	chance: didn't see anything about that in the tutorial...
2014-05-21 17:36:52	jnoah	maybe i skimmed too fast. unsure
2014-05-21 17:38:05	chance	https://docs.angularjs.org/guide/directive
2014-05-21 17:38:33	jnoah	well that's not the tutorial :/
2014-05-21 17:38:55	chance	you need to know angular to understand how to properly use directives
2014-05-21 17:39:14	jnoah	At a high level, directives are markers on a DOM element (such as an attribute, element name, comment or CSS class) that tell AngularJS's HTML compiler ($compile) to attach a specified behavior to that DOM element or even transform the DOM element and its children.
2014-05-21 17:39:16	jnoah	not really
2014-05-21 17:39:18	chance	if you dont understand what $scope is or dependency injection in angular, you shouldnt be learning about directives
2014-05-21 17:39:29	chance	anyways
2014-05-21 17:39:38	chance	learn how you want, its all on the angular docs
2014-05-21 17:40:29	jnoah	"Angular normalizes an element's tag and attribute name to determine which elements match which directives. We typically refer to directives by their case-sensitive camelCase normalized name (e.g. ngModel). However, since HTML is case-insensitive, we refer to directives in the DOM by lower-case forms, typically using dash-delimited attributes on DOM elements (e.g. ng-model)."
2014-05-21 17:40:35	jnoah	was the explanation i needed
2014-05-21 17:40:40	jnoah	makes sense now
2014-05-21 17:47:20	--	Nicks #osuosl-dev: [bramwelt bryon chance deanj edunham jnoah kennric manatee MaraJade mathuin muricula pono pop_n_fresh Ramereth]
2014-05-21 17:47:20	--	Channel #osuosl-dev: 14 nicks (0 ops, 0 halfops, 0 voices, 14 normals)
2014-05-21 17:48:05	muricula	kennric: tschuy doesn't have a cloak, and can't get in here
2014-05-21 17:48:33	--	Mode #osuosl-dev [+o bryon] by ChanServ
2014-05-21 17:49:38	-->	tschuy (~tschuye@flip3.engr.oregonstate.edu) has joined #osuosl-dev
2014-05-21 17:49:38	<--	ChanServ has kicked tschuy (You are not authorized to be on this channel)
2014-05-21 17:52:42	muricula	edunham: kennric jnoah Here is the current design doc for the Pdu Master library.
2014-05-21 17:52:45	muricula	http://pastebin.osuosl.org/7431/
2014-05-21 17:52:52	muricula	Advice is welcome from all.
2014-05-21 18:42:31	jnoah	kennric: does ruby on rails cache data somewhere?
2014-05-21 18:42:38	jnoah	similar to pyc for python?
2014-05-21 18:48:08	jnoah	i think there's some template caching
2014-05-21 18:48:21	jnoah	the job is updating, but the template isn't-ish?
2014-05-21 18:51:06	jnoah	kennric: i'll have to show you tomorrow, it's difficult to explain via irc
2014-05-21 19:35:17	jnoah	scratch all that
2014-05-21 19:35:31	jnoah	I have it working now. And we have an image rotating widget now as well.
2014-05-21 19:35:43	jnoah	with config options and all
2014-05-21 19:35:50	jnoah	that was a pain, but kinda fun
2014-05-21 20:03:04	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (Ping timeout: 258 seconds)
2014-05-21 20:04:01	-->	chance (~ecnahc515@chancez.net) has joined #osuosl-dev
2014-05-21 20:04:08	<--	ChanServ has kicked chance (You are not authorized to be on this channel)
2014-05-21 21:37:38	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-05-22 11:09:39	-->	lucyw (wymanl@osuosl/staff/lucyw) has joined #osuosl-dev
2014-05-22 11:09:44	--	Mode #osuosl-dev [-o bryon] by ChanServ
2014-05-22 11:09:54	lucyw	kennric: schedule up to date!
2014-05-22 11:13:38	kennric	lucyw: thanks!
2014-05-22 11:59:36	chance	kennric: did you see my messages around 5:30 yesterday?
2014-05-22 12:10:30	kennric	chance: oh, no, I missed that
2014-05-22 12:10:41	kennric	build tvap for pypi you mean?
2014-05-22 12:11:18	chance	yeah
2014-05-22 12:11:55	kennric	python setup.py bdist_egg is the command, is there a problem?
2014-05-22 12:12:11	chance	http://pastebin.osuosl.org/7426/
2014-05-22 12:12:22	chance	we're missing vncap files in the newest egg
2014-05-22 12:12:28	kennric	then python setup.py sdist upload uploads it to pypi
2014-05-22 12:12:32	kennric	hmm...
2014-05-22 12:12:34	chance	they're contained in a subdirectory of vncap
2014-05-22 12:12:45	chance	i know bdist makes it into a binary distribution
2014-05-22 12:12:51	chance	sdist makes it into a source distribution
2014-05-22 12:13:01	chance	i checked the MANIFEST.in file, it doesnt include vncap
2014-05-22 12:13:07	chance	but setup.py has vncap as a package
2014-05-22 12:13:42	chance	i modified manifest.in and i can get those files included, but they're included in a subdir, so im not sure if thats right since 1.0 has them all in the same top level vncap folder
2014-05-22 12:13:56	kennric	:( uhg
2014-05-22 12:21:20	muricula	edunham: did you see anything which was inadequately addressed in the design doc?
2014-05-22 12:21:35	edunham	muricula: uhh, re-link? I haven't had a chance to look over the revision yet
2014-05-22 12:22:02	muricula	http://pastebin.osuosl.org/7471/
2014-05-22 12:22:50	muricula	please take a look when you have time. It is important that I get your feedback since you will be the actual user of this software.
2014-05-22 12:23:29	edunham	okay I'll give you detailed feedback after clocking back in after lunch
2014-05-22 12:23:34	edunham	or maybe after 1pm-meeting, depending
2014-05-22 12:36:54	jnoah	muricula: any particular reason for the apache2 license?
2014-05-22 12:37:09	 *	jnoah is looking over the design doc atm
2014-05-22 12:44:07	muricula	jnoah: edunham mentioned it was what we typically use. Got any alternative ideas?
2014-05-22 12:44:41	jnoah	we typically use gpl or mit i thought. but i could be wrong
2014-05-22 12:45:15	jnoah	kennric, Ramereth: any thoughts on what licenses we should be using?
2014-05-22 12:45:58	jnoah	i personally like 3clause bsd or x11/mit, but we may do something different here
2014-05-22 12:45:59	kennric	jnoah: the general principle is as open and simple as possinle, unless we have some specific reason to want to control the distribution or use of the code later
2014-05-22 12:46:36	muricula	Apache is open but not simple. I probably offers better legal protection.
2014-05-22 12:46:38	kennric	I think it helps to be consistent across apps, we have tended to put things under apache2
2014-05-22 12:46:46	jnoah	most simple would be x11/mit iirc
2014-05-22 12:47:10	kennric	sometimes mit
2014-05-22 12:47:22	jnoah	or the do what the fuck you want license http://www.wtfpl.net/
2014-05-22 12:48:19	kennric	name recognition is important too, everybody recognises mit, apache, gpl on sight
2014-05-22 12:53:44	kennric	chance: building the packing in master gives the same result, I am not seeing what has changed that would have changed the build behavior
2014-05-22 12:54:39	 *	chance shrug
2014-05-22 12:54:45	chance	i dont know much about how that works
2014-05-22 12:54:55	chance	i dont know why 1.0 has all the files in the vncap folder
2014-05-22 12:55:03	chance	but they're also all in the top ldevel vncap directory
2014-05-22 12:55:09	kennric	though the 1.0 package on pypi was uploaded in 2011, master has been updated through 2012
2014-05-22 12:55:18	chance	if you add 'graft vncap' to MANIFEST.in then it gets all the files
2014-05-22 12:55:37	chance	but they're not all in the same directory
2014-05-22 12:55:47	chance	so idk if that'll work or not
2014-05-22 12:55:56	kennric	does them not being in the same dir break things?
2014-05-22 12:56:05	chance	no idea
2014-05-22 12:56:07	kennric	I have some reading to do on packaging
2014-05-22 12:56:14	chance	it shouldnt..
2014-05-22 12:56:21	chance	that's how they work in the checkout
2014-05-22 12:57:36	chance	im not sure how to use a package once you package it
2014-05-22 12:57:53	chance	like once you run setup.py sdist/bdist, im not sure what to do with the zip/tarball to test the package installation
2014-05-22 12:58:30	kennric	you can pip install a local file
2014-05-22 12:58:38	chance	a tarball?
2014-05-22 12:58:49	kennric	yeah
2014-05-22 12:59:12	chance	ah
2014-05-22 12:59:15	chance	well i cant do anything atm
2014-05-22 12:59:23	chance	the debian workstations python is broken
2014-05-22 12:59:36	chance	well at least the virtualenvs python is
2014-05-22 12:59:40	kennric	ok, I have some readiong to do on packaging, and some git logs to sift through
2014-05-22 12:59:59	jnoah	kennric: the fenestra meeting, is that repeating?
2014-05-22 13:00:06	jnoah	or just for tomorrow?
2014-05-22 13:00:08	kennric	does the current 1.1 definitely break gwm? Or, rather, not work in gwm?
2014-05-22 13:00:31	kennric	jnoah: no, we'll talk about when and how often we want to meet then
2014-05-22 13:02:11	jnoah	i *may* be there for the meeting. i'm headed out of town tomorrow and am still working out the timing.
2014-05-22 13:02:15	chance	kennric: well pior to 1.1 it doesnt work in chrome or ff or both or something
2014-05-22 13:02:19	jnoah	in general, that time is not a problem though
2014-05-22 13:02:21	chance	so 1.1 is definitely 'wants'
2014-05-22 13:04:20	jnoah	deanj, kennric i'm adding the MIT license to TheOC
2014-05-22 13:05:11	jnoah	Is this correct?: Copyright (c) 2014 OSU Open Source Lab
2014-05-22 13:10:49	kennric	chance: I mean, do the files not being in vncap actually cause breakage in that package?
2014-05-22 13:11:44	chance	in 1.1? yes
2014-05-22 13:11:47	chance	it doesnt work without them
2014-05-22 13:11:52	chance	1.0 has the files
2014-05-22 13:12:02	chance	so it works, minus the bugs that exist in 1.0
2014-05-22 13:14:35	kennric	got it. I'll see what I can do
2014-05-22 14:19:24	pop_n_fresh	chance: I'm going through the Angular tutorial and I'm a bit confused about what 'ng-' means. It's used in HTML tags like 'ng-repeat' and 'ng-src', but I don't know what the 'ng-' prefix means for those tags.
2014-05-22 14:20:00	pop_n_fresh	Exmaples: <li ng-repeat="img in phone.images"> | <img ng-src="{{img}}">
2014-05-22 14:24:16	chance	pop_n_fresh: https://docs.angularjs.org/misc/faq
2014-05-22 14:27:25	pop_n_fresh	Of course. The FAQ. That exists.
2014-05-22 14:29:25	muricula	kennric: For some reason I had a very old version installed. that fixed it.
2014-05-22 14:30:08	kennric	muricula: of pysnmp?
2014-05-22 14:30:15	muricula	yep
2014-05-22 14:33:25	kennric	very glad to hear that, I was getting worried
2014-05-22 14:35:11	edunham	muricula: looking at design doc now...
2014-05-22 14:35:18	muricula	thanks
2014-05-22 14:35:29	edunham	might clarify that the names are working names and open to change as we come up with better ones
2014-05-22 14:35:37	muricula	sure
2014-05-22 14:52:18	kennric	muricula: another thing to consider is that we may add other functionality to this system, like raktables and ipmi - so the thing that provides the json api maybe should have a more generic name
2014-05-22 17:14:36	jnoah	deanj: https://code.osuosl.org/issues/16215
2014-05-22 17:14:40	jnoah	what's going on there?
2014-05-22 19:52:07	deanj	jnoah: Fixing install_course errors. There's missing imports and celery fixes that need to be applied to get it working. I'm *hopefully* going to have it working tomorrow.
2014-05-22 20:17:10	jnoah	ok, can you note that in the bug description, currently it's rather vague
2014-05-22 20:17:14	jnoah	deanj: ^
2014-05-23 09:47:33	deanj	jnoah: When i first created the bug I didn't know what i had to fix yet.
2014-05-23 10:09:51	jnoah	ah, k
2014-05-23 12:19:49	chance	kennric: were you able to figure out anything on tvap 1.1?
2014-05-23 12:22:25	kennric	chance: not yet, but still poking at it - I will figure something out today, even if it is a manual brute-force fix
2014-05-23 12:28:42	jnoah	kennric: i won't be at the fenestra meeting today. i need to leave work at 12:45 :(
2014-05-23 12:28:46	chance	you should just try updating the manifest.in file
2014-05-23 12:29:01	chance	it'll certainly get the files in the package
2014-05-23 12:29:07	chance	im not sure if it'll fix it
2014-05-23 12:29:11	chance	but its an easy change
2014-05-23 12:41:09	jnoah	kennric: i have a fenestra widget ready. it most likely needs some visual tweaking and maybe some change in configuration, but we have a widget to display nero graphs
2014-05-23 12:41:18	 *	jnoah is out for the weekend
2014-05-23 12:42:07	kennric	jnoah: good - are you staying for the meeting?
2014-05-23 12:42:21	chance	he was saying he wont be at it
2014-05-23 12:42:30	chance	"jnoah | kennric: i won't be at the fenestra meeting today. i need to leave work at 12:45 :( "
2014-05-23 12:42:53	kennric	missed that - well, have a good weekend
2014-05-23 12:51:36	jnoah	thanks, you too
2014-05-23 12:59:42	Ramereth	btw the systems team is having a meeting about our gentoo -> centos conversion (related to chef). Any of you are welcome to attend
2014-05-23 14:27:27	chance	kennric: so piotrs current inncantation of his install script does a git clone of his ganeti_webmgr-config project, which contains a separate settings file for configuring gwm
2014-05-23 14:27:35	chance	problem is, i dont think it works well
2014-05-23 14:27:49	chance	it seems like a great idea, but when using wsgi and things it falls apart
2014-05-23 14:28:14	chance	its pretty much impossible to moving django's settings.py file out of the project
2014-05-23 14:28:25	chance	and thats kind of what he was trying
2014-05-23 14:28:37	chance	and im running into problems with it
2014-05-23 14:31:21	kennric	chance: hmmm
2014-05-23 14:33:05	kennric	where do his settings live?
2014-05-23 14:33:57	chance	well his script defaults top /opt/ganeti_webmgr
2014-05-23 14:34:08	chance	and that basically, makes a virtualenv
2014-05-23 14:34:10	chance	pip installs GWM
2014-05-23 14:34:38	chance	and then clones his settings project into /opt/ganeti_webmgr/config
2014-05-23 14:35:15	chance	his settings project contains a gwm-manage.py and a gwm_config.py where that's a settings.py
2014-05-23 14:35:51	chance	his manage.py is set up properly to access gwm_config.py as settings
2014-05-23 14:36:11	kennric	hmmm, can we move the project root to /opt/ganeti_webmgr/config and have the pip installed gwm as an app instead of a whole project?
2014-05-23 14:36:21	chance	however, wsgi, and other things don't deal with that, and expect settings to be in the project
2014-05-23 14:36:46	chance	what?
2014-05-23 14:36:52	chance	pip installed as an app instead of a project?
2014-05-23 14:36:54	chance	i dont understand
2014-05-23 14:37:34	kennric	never mind, but I am surprized we can't get wsgi to know better
2014-05-23 14:37:42	chance	well, you can tell wsgi where to find tings
2014-05-23 14:37:44	chance	things
2014-05-23 14:37:52	chance	but the wsgi file is in the project too
2014-05-23 14:37:59	chance	and it needs to know which python module to import settings from
2014-05-23 14:38:16	chance	which means the settings needs its own python module, or it needs to be in a folder which is added to our python path
2014-05-23 14:38:20	chance	which piotr does in manage.py
2014-05-23 14:38:24	chance	but i think its all a huge hack
2014-05-23 14:38:42	chance	in the end, settings are just less nested into our virtualenv
2014-05-23 14:38:44	chance	but they're still in there
2014-05-23 14:38:59	chance	this is another reason why i dont like the whole idea of trying to package our app
2014-05-23 14:39:08	chance	rails projects dont get installed as gems
2014-05-23 14:39:18	chance	django projects dont get installed as eggs/python packages
2014-05-23 14:39:23	chance	you git clone them, and go through the steps
2014-05-23 14:39:50	chance	we can minimize the steps after a clone, but im finding everytime we try to do more than that we run into bigger issues
2014-05-23 14:41:57	kennric	so I was under the impression that the python package was actually functional at some point
2014-05-23 14:42:08	chance	its functional, you can install it as a package
2014-05-23 14:42:49	kennric	but wsgi has issues?
2014-05-23 14:43:01	kennric	what precisely is the blocking issue?
2014-05-23 14:43:07	chance	settings
2014-05-23 14:43:21	chance	the wsgi file is given a python module to the settings file
2014-05-23 14:43:31	kennric	I mean, what is failing, if the package is functional? serving it with uwsgi?
2014-05-23 14:44:05	kennric	python package functional - does that mean a working app, or just a package that installs without errors?
2014-05-23 14:44:12	chance	the latter
2014-05-23 14:44:15	chance	kind of
2014-05-23 14:44:25	chance	its hard to explain, why dont you come here
2014-05-23 14:44:48	kennric	ok
2014-05-23 15:23:46	chance	one thing im thinking
2014-05-23 15:23:53	chance	we could use more env variables, and also
2014-05-23 15:24:08	chance	if we just made base.py workable without a settings.py
2014-05-23 15:24:14	chance	where it could read from a yaml config in like
2014-05-23 15:24:20	chance	/etc/ganeti_webmgr/config.yaml
2014-05-23 15:24:28	chance	where all settings could be modified there
2014-05-23 15:24:31	chance	that would be awesome
2014-05-23 15:24:57	chance	and i could write a fabric script to create that directory and config file if it doesnt exist as well
2014-05-23 15:25:27	chance	then its nothing fancy, config is all just plain text, no python
2014-05-23 15:25:31	kennric	env variables would be nice
2014-05-23 15:25:41	chance	yeah, that part would be pretty easy too
2014-05-23 15:26:20	chance	anyways im going to head out
2014-05-23 15:26:22	chance	cya next week
2014-05-23 15:26:36	kennric	I don't think it is unreasonable to have a package whose install instructions just say "you need to have these in your env", and maybe some examples of how to do that with uwsgi, etc
2014-05-23 15:26:44	kennric	have a good long weekend
2014-05-27 11:01:35	Ramereth	chance: ping
2014-05-27 12:18:37	chance	Ramereth: pong
2014-05-27 12:18:59	chance	today's a short day for me, got class @ 2 and meetings after
2014-05-27 12:58:03	chance	ugh i hate django deployments and i hate python dependencies
2014-05-27 12:58:10	chance	i cant ever understand the bugs that prop up
2014-05-27 13:01:44	kennric	what bug is it this time?
2014-05-27 13:08:55	Ramereth	chance: was just wondering what the status of the ganeti_webmgr cookbook was. I was going to have the pgd student take a look as a reference
2014-05-27 13:11:37	chance	Ramereth: it works! and i think its a good example
2014-05-27 13:12:09	chance	kennric: im trying to find out what things i need fix up for gwm in terms of deployment, and its complaining about whoosh not being installed or something
2014-05-27 13:13:15	kennric	chance: I feel like issues we fixed long ago for the old fabric install are popping up to be fixed again for this deployment system
2014-05-27 13:20:03	chance	i dont know about that, fabric didnt really do anything
2014-05-27 13:20:16	chance	this whoosh issue is odd, i havent seen it before
2014-05-27 13:20:38	chance	it also very intermitant
2014-05-27 13:20:43	chance	i think it might be related to path issues
2014-05-27 13:20:44	chance	not sure
2014-05-27 13:20:45	kennric	we have had whoosh issues in the past though
2014-05-27 13:23:28	chance	yeah i think they're different though
2014-05-27 13:23:46	chance	the version of whoosh didnt change, it's pinned, which is why this is odd
2014-05-27 13:26:16	kennric	probably a path or venv issue
2014-05-27 13:32:12	chance	yeah.
2014-05-27 13:32:26	jnoah	chance, kennric, deanj what is needed on fenestra for widgets?
2014-05-27 13:32:34	jnoah	we don't have any issues up for them yet
2014-05-27 13:32:55	jnoah	and after talking with kennric, the issues on code.o.o may not be relevant anymore
2014-05-27 13:33:46	chance	arg
2014-05-27 13:33:48	chance	MissingDependency: The 'whoosh' backend requires the installation of 'Whoosh'. Please refer to the documentation.
2014-05-27 13:34:06	chance	jnoah: ask deanj , he had the google doc spreadsheet with a list of widgets we wanted
2014-05-27 13:34:11	chance	but he never put it anywhere
2014-05-27 13:40:42	jnoah	chance: thanks. i sent deanj a text, hopefully he'll pop in and link it here soon
2014-05-27 13:41:51	chance	i am so confused with this error
2014-05-27 13:42:16	chance	trying to test these changes on staging, where i remove some unnecessary pathing things, and it works if i do it in release/0.11
2014-05-27 13:42:31	chance	but i have a branch from release/0.11, which does the same thing, and also includes the novnc change
2014-05-27 13:42:45	chance	and it complains about whoosh on that branch, but not release/0.11 with the same changes manually
2014-05-27 13:43:25	kennric	hmm
2014-05-27 13:43:44	chance	arg i hate this
2014-05-27 13:43:56	chance	it makes no sense
2014-05-27 13:45:16	chance	well ill have to figure it out later
2014-05-27 13:45:19	chance	ive got class.
2014-05-27 13:45:39	kennric	chance: thanks for the effort so far, we'll figure it out eventually
2014-05-27 14:35:39	deanj	https://docs.google.com/document/d/1G5wfvZlda7aabRNwu5Jlw8MBICGt7qO0OmB5ZFxsiCY/edit?usp=sharing
2014-05-27 14:35:55	deanj	jnoah, chance: there's the fenestra stuff
2014-05-27 15:05:54	muricula	edunham: so I've spent some time reading the rfcs reguarding snmp and don't understand more than when I started. I read the manual for the pdu.
2014-05-27 15:21:34	mathuin	kennric: where would you like to meet to discuss PGD?
2014-05-27 16:18:35	mathuin	kennric: just checked the fenestra repo, looks like for whatever reason my commits came out as owned by vagrant -- they were committed, though...
2014-05-27 16:19:47	kennric	anonymous vagrants do a lot of work around here
2014-05-27 16:22:07	mathuin	Probably my number one problem with using vagrant for development.
2014-05-27 16:23:40	kennric	it really shouldn't be so easy to do that
2014-05-27 16:24:10	mathuin	Perhaps an org-wide pre-commit hook could reject vagrant commits.
2014-05-27 16:26:45	kennric	you can't check code in as vagrant, as vagrant is not a user in gitolite or github, so someone has to commit as vagrant then take that code and push it as their user
2014-05-27 16:27:23	kennric	which ought to be awkward and raise alarms
2014-05-27 16:30:02	mathuin	I wonder what kind of patch to vagrant would be required to change the default userid of 'vagrant' to the userid running vagrant.
2014-05-27 16:31:42	kennric	I think it all gets provisioned via puppet, it should not be that hard to capture the uid and insert it
2014-05-27 16:31:59	kennric	make the vm not very portable though
2014-05-27 16:32:18	kennric	maybe creating a separate user account based on uid would be better
2014-05-27 20:54:30	chance	deanj: you need to put that on the OSL gdrive
2014-05-27 20:55:30	chance	mathuin: userid doesnt matter
2014-05-27 20:55:43	chance	well it does in a way
2014-05-27 20:56:02	chance	the uid could match the userid running vagrant but it wouldnt change anything
2014-05-27 20:56:09	chance	it wouldnt make git use the correct info
2014-05-28 10:42:51	Ramereth	mathuin: i'm trying to remember, are your hours up to date for PGD?
2014-05-28 11:06:52	mathuin	I suspect not.  I will do that this week.  How should I log/bill time spent with MaraJade on PGD?  I don't recall how we decided I should log time spent with Sarvesh.
2014-05-28 11:43:26	jnoah	chance, kennric for github, what's the difference between a colaborator and a contributor?
2014-05-28 11:50:14	kennric	good question
2014-05-28 11:50:38	kennric	I would assume collaborator implies a team member, while contributor is just somneone who has contributed code
2014-05-28 11:50:44	kennric	but that's just an assumption
2014-05-28 12:06:31	chance	jnoah: collaborators have access to the repo, contributors dont
2014-05-28 12:09:04	jnoah	ah
2014-05-28 12:09:06	jnoah	ty
2014-05-28 12:24:13	chance	kennric: so it complains about whoosh when https://github.com/osuosl/ganeti_webmgr/blob/develop/ganeti_webmgr/ganeti_web/wsgi.py#L7 is removed
2014-05-28 12:24:35	chance	only on my fix_packaging_problems branch though
2014-05-28 12:24:52	chance	its so weird
2014-05-28 12:25:05	chance	if i remove that line on release/0.11 alone, its all fine and dandy
2014-05-28 12:26:24	kennric	the wsgi file is adding to the python path
2014-05-28 12:26:57	kennric	but only the app_root
2014-05-28 12:26:59	kennric	hmm
2014-05-28 12:27:10	chance	and her is the diff https://github.com/osuosl/ganeti_webmgr/compare/release%2F0.11...fix_packaging_problems
2014-05-28 12:27:40	chance	i can literally remove those lines in wsgi.py on our release/0.11 branch and it makes no complaints
2014-05-28 12:29:31	chance	i would like to remove them because i think it could potentially cause problems. Now I understand how python installs packages, (previously we didnt do this, until piotr made it into a package), so i think they're unnecessary
2014-05-28 12:30:10	kennric	sigh - I am trying to convince twisted has the vncap command with an updated tvap package - seems like everything is a path problem
2014-05-28 12:30:36	kennric	if uwsgi can find everythign without that....
2014-05-28 12:31:35	chance	what changes did you make?
2014-05-28 12:33:51	kennric	on this iteration, just added the vncap .vnc and vncap.ssh to setup.py
2014-05-28 12:34:17	kennric	but am goign back to tvap 1.0 to see how that operates
2014-05-28 12:34:38	chance	why not try adding 'graft vncap' to MANIFEST.in
2014-05-28 12:36:08	kennric	I did that last iteration
2014-05-28 12:36:21	kennric	but I think I am missing somethign else, so going back and stepping through it all again
2014-05-28 12:38:25	kennric	after lunch, that is
2014-05-28 12:41:58	chance	mk
2014-05-28 13:18:39	Ramereth	mathuin: just log it in a specific ticket that I can look at
2014-05-28 13:47:25	mathuin	I am feeling ill, so I will be leaving work before the dev meetnig today.  I will be in tomorrow if I don't feel horribly sick then too.  Ken has my status update so I'm covered there.  See you all later...
2014-05-28 13:49:12	chance	kennric: so i replicated what i was doing in another branch in a new one
2014-05-28 13:49:13	chance	works..
2014-05-28 13:49:19	 *	chance pulls hair out
2014-05-28 13:53:01	kennric	chance: it just wanted to be in a different branch, maybe the view is better
2014-05-28 13:55:24	chance	maybe
2014-05-28 13:55:55	chance	so piotr's scripts are MIT licensed, and we're GPLed
2014-05-28 13:55:58	chance	do i need to worry?
2014-05-28 13:59:12	kennric	chance: I don't think so, but I'll double check the wording
2014-05-28 14:02:10	jnoah	MIT is not copyleft. i'm not sure how well they play together
2014-05-28 14:02:28	jnoah	(GPL has restrictions...many restrictions...that MIT does not have)
2014-05-28 14:03:39	jnoah	http://www.dwheeler.com/essays/floss-license-slide.html
2014-05-28 14:05:11	jnoah	we might need piotr to upgrade his license to bsd first...
2014-05-28 14:05:28	jnoah	or he can just relicense the code as gpl
2014-05-28 14:08:25	jnoah	according to http://en.wikipedia.org/wiki/List_of_FSF_approved_software_licenses the licenses are actually compatible; so it shouldn't be a problem
2014-05-28 14:08:29	manatee	jnoah's tiny URL is http://bit.ly/1oL7McM
2014-05-28 14:10:39	chance	kennric: so, im not sure if we want to have people install gwm from our git checkout, or if we should upload it to pypi and install it from pypi
2014-05-28 14:11:21	chance	mostly for whether or not we pip install ganeti_webmgr or pip install /path/to/ganeti_webmgr
2014-05-28 14:11:44	chance	in any case, its a pip install to get it into our virtualenv
2014-05-28 14:23:12	kennric	if the package works as a pip install, we might as well put it on pypi, unless you see a reason not to?
2014-05-28 14:24:23	chance	ive got mixed feelings, since it doesnt really work out of the box as a python package anyways
2014-05-28 14:25:08	kennric	yeah, that is problematic
2014-05-28 14:25:13	chance	but at the same time, im trying to figure out how much of it *could* be made to work out of the box
2014-05-28 14:25:29	chance	settings are a particular problem in that regard.
2014-05-28 14:26:10	kennric	a pypi install could cause more confusion than it solves, as people have expectations of how python packages behave
2014-05-28 14:26:42	kennric	let's not worry about pypi until we have the wrinkles ironed out and we can be pretty sure that will be a straightforward route for people
2014-05-28 14:28:36	chance	okay
2014-05-28 14:31:25	chance	atm im trying to make sure setup.py.dist gets included when you pip install it, and see if i can make manage.py available as a bin command
2014-05-28 14:31:27	chance	in the virtualenv
2014-05-28 14:31:53	chance	im editing setup.sh to do system package installation, im looking into if it makes sense to have it wrap pip install
2014-05-28 14:44:09	chance	kennric: so, we wrote a bunch of really nice helper functions for dealing with paths, and relative paths and things, however.
2014-05-28 14:44:15	chance	they dont work when you pip install
2014-05-28 14:44:20	chance	because the app is now in a virtualenv
2014-05-28 14:44:34	chance	and they do not refer to the paths we'd probably want in a deployment scenario
2014-05-28 14:45:13	chance	im thinking of ripping out these helper functions, and then using something like an ini or yaml style config from a dir like /opt/ganeti_webmgr/config.{yaml,ini}
2014-05-28 14:45:26	chance	we could provide a base template to use
2014-05-28 14:45:36	chance	and then if you want to put config somewhere else, you update settings.py
2014-05-28 14:45:49	chance	but by default you dont need a settings.py i was hoping, and this could fix that
2014-05-28 14:48:51	kennric	that does seem simpler than having django load python settings modules from arbitrary locations
2014-05-28 14:49:37	chance	yeah.
2014-05-28 14:49:44	chance	ideally, only absolute paths
2014-05-28 14:49:53	chance	and ideally, make it easy for devs to still do settings stuff
2014-05-28 14:51:07	kennric	if it is not a long painful process to implement, I say go ahead
2014-05-28 14:51:09	chance	i think the settings helper make sense, just only in a small context, not for users, anymore.
2014-05-28 14:51:15	chance	ill give it a shot, see how it goes.
2014-05-28 15:29:46	-->	tschuy (~tschuye@osuosl/staff/tschuy) has joined #osuosl-dev
2014-05-28 15:31:10	kennric	graft vncap includes all the files under vncap, but the twisted vncap plugin can't find the vnc factory. Adding vncap.vnc to setup.py packages works fine though, in that the twisted command runs, but the console times out on my test cluster
2014-05-28 15:54:06	chance	well the time out wouldnt surprise me, configuration of that isnt simple
2014-05-28 15:54:22	chance	how are you testing?
2014-05-28 15:54:41	chance	also how are you packaging/installing the app with the new setup.py packages changes
2014-05-28 16:24:57	deanj	Fenestra notes should be in OSL Devs Google Drive folder. On a side note - Google Drive is a pain :p
2014-05-28 17:00:54	deanj	kennric: All fixed up.
2014-05-28 17:02:33	kennric	deanj: good, was it chef?
2014-05-28 17:42:17	muricula	kennric: so the example you had which was supposed to turn off the pdus doesn't work.
2014-05-28 17:42:53	muricula	Or at least changing "on" to "off" doesn't make it turn off.
2014-05-28 18:18:10	muricula	tschuy: http://pastebin.osuosl.org/7541/
2014-05-28 18:26:59	deanj	kennric: cfengine, but yes, config management was the issue.
2014-05-29 10:06:13	pono	mathuin: Did you have a name for the new PGD VM?  pgd-dev.o.o is taken.
2014-05-29 10:06:41	mathuin	pono: good question, you in the NOC?
2014-05-29 10:06:46	pono	Yep.
2014-05-29 10:06:50	mathuin	OMW
2014-05-29 10:06:50	kennric	mathuin: pgd-ng?
2014-05-29 10:23:50	mathuin	kennric: sine pgd-dev.o.o is used by internal developers for testing and only shared with external folks for validation, I think we should use that one instead.
2014-05-29 10:24:22	mathuin	If this works the way it should, it can become the next pgd.science.oregonstate.edu and zeus can be retired.
2014-05-29 10:24:32	mathuin	Once, of course, all the stakeholders weigh in.
2014-05-29 10:25:04	mathuin	At that point we'll make a new pgd-dev.o.o (and pgd-staging.o.o if necessary) and work from there.
2014-05-29 10:25:36	kennric	mathuin: works for me
2014-05-29 10:26:12	mathuin	Creating a support ticket now for tracking purposes.
2014-05-29 10:26:22	pono	mathuin: ty
2014-05-29 10:28:10	pono	mathuin: On an interesting not, pgd.osuosl.org is a cname for openberry and not zeus...
2014-05-29 10:28:14	pono	Ramereth: any idea why?
2014-05-29 10:28:32	pono	pgd2.osuosl.org does point to zeus though.
2014-05-29 10:28:44	mathuin	I think that's historical.
2014-05-29 10:28:55	mathuin	If you would rather use pgd.o.o I'm totes cool with that.
2014-05-29 10:30:19	pono	That would be ideal. I'm cautious about breaking something though.
2014-05-29 10:30:46	mathuin	I am unfamiliar with openberry.
2014-05-29 10:32:26	Ramereth	pgd.o.o is not the prod dns
2014-05-29 10:32:33	Ramereth	openberry used to host the app however
2014-05-29 10:32:40	Ramereth	but we moved it to zeus
2014-05-29 10:32:44	mathuin	Ah!
2014-05-29 10:32:56	pono	Do you think removing the CNAME and recreating for the new VM would break anything?
2014-05-29 10:33:21	Ramereth	the pgd.o.o cname?
2014-05-29 10:33:26	Ramereth	what would you name the vm?
2014-05-29 10:33:35	pono	Yeah, if I removed it and just made it a host instead.
2014-05-29 10:33:49	Ramereth	i would prefer pgd-prod
2014-05-29 10:34:07	pono	Sounds good.
2014-05-29 10:39:10	mathuin	pono: support request sent.
2014-05-29 10:39:36	pono	Thanks
2014-05-29 11:48:45	mathuin	ps -auxww | grep chance | awk '{ print $2 }' | sudo xargs kill -9
2014-05-29 11:49:11	mathuin	A more clever version would use awk to select only processes with a $1 of 'chance'.
2014-05-29 11:52:27	muricula	lucyw: pop_n_fresh http://pastebin.osuosl.org/7541/
2014-05-29 12:05:47	chance	kennric: what do i do to create the 1.1.1 tarball again? bdist/sdist?
2014-05-29 12:06:26	muricula	mathuin: pdu response data: http://pastebin.osuosl.org/7561/
2014-05-29 12:06:34	muricula	mathuin: pysnmp code http://pastebin.osuosl.org/7566/
2014-05-29 12:08:34	kennric	chance: sdist
2014-05-29 12:08:40	muricula	mathuin: scratch that, here's the debugging dialed up to 11 and the pysnmp code used to produce it. 
2014-05-29 12:11:24	muricula	http://pastebin.osuosl.org/7571/
2014-05-29 12:12:52	muricula	http://pastebin.osuosl.org/7576/            << Code using pysnmp
2014-05-29 12:39:03	mathuin	http://osuosl.org/blog/protein-geometry-what-heck -- PGD blog post went up today
2014-05-29 12:51:34	chance	kennric: well its working
2014-05-29 12:51:40	chance	on both chrome/firefox
2014-05-29 12:51:42	chance	locally
2014-05-29 12:51:44	kennric	chance: good
2014-05-29 12:51:46	chance	im going to test it out on staging
2014-05-29 12:51:59	kennric	let me know
2014-05-29 13:04:23	chance	seems to work
2014-05-29 13:04:30	chance	:D
2014-05-29 13:04:39	chance	so i think we're good to push to pypi
2014-05-29 13:06:32	kennric	ok, I'll do that shortly
2014-05-29 13:06:35	chance	sweet
2014-05-29 13:06:38	pono	MaraJade: pubkey?
2014-05-29 13:07:00	MaraJade	pono: I sent it to you.
2014-05-29 13:07:14	pono	Oh e-mail.
2014-05-29 13:07:25	MaraJade	Is there another way that I should use?
2014-05-29 13:07:49	pono	pastebin.osuosl.org is usually where we drop them, then you can just have it sit there for months
2014-05-29 13:07:56	pono	E-mail is absolutely fine though.
2014-05-29 13:08:10	MaraJade	Oh, okay
2014-05-29 13:08:22	pono	You should be able to $ ssh pgd@pgd-prod.osuosl.org now
2014-05-29 13:10:32	pono	MaraJade mathuin The host is up, but I need to get python 2.7 installed
2014-05-29 13:28:22	edunham	chance: the VM list is soooooooo sloooooooow
2014-05-29 13:30:20	edunham	also what does "Memory (Min/Max)-1 MiB / 512 MiB" even mean
2014-05-29 13:30:28	edunham	how does a VM use -1 MiB
2014-05-29 13:30:37	pono	Unlimited!
2014-05-29 13:31:18	edunham	also your date format is unamerican Last modified16/01/2014
2014-05-29 13:32:37	pono	I use epoch time from 1776
2014-05-29 13:32:56	edunham	pono: yes, that's a pretty epoch way to handle dates
2014-05-29 13:33:08	edunham	err. that would've worked better verbally.
2014-05-29 13:33:19	pono	:P
2014-05-29 13:40:41	jnoah	pop_n_fresh: your counter should actually be a decent template to go off of for widgets. If you have questions, feel free to ask
2014-05-29 13:44:20	chance	edunham: i didnt specifiy date format, that was the default made by someoen long before me. you can change that in settings.
2014-05-29 13:44:30	chance	also -1 is jnoahs bug
2014-05-29 13:44:41	chance	min/max ram
2014-05-29 13:44:53	edunham	jnoah: ^^
2014-05-29 13:45:07	chance	when the VM doesnt have a min apparently its default is -1, and instead of checking if it existed, he probably just put in vm.minram into the template
2014-05-29 13:45:31	chance	i can fix it, just kinda on my "dont give a crap" bugs list, given that gwm is pretty much in a state of "only updating what breaks things"
2014-05-29 13:45:38	chance	anyways, class time
2014-05-29 13:50:05	pop_n_fresh	jnoah: Yeah, I'm writing a tutorial using the counter as an example. I'm going to create a dir with stripped out versions of those files as the starting files for the tutorial.
2014-05-29 13:51:35	jnoah	awsome!
2014-05-29 13:52:06	pop_n_fresh	jnoah, deanj: When do you want to go over the ORVSD for documentation stuffs?
2014-05-29 13:52:50	jnoah	installation, usage
2014-05-29 13:53:52	jnoah	pop_n_fresh: are you ready to start in on that?
2014-05-29 13:54:13	pop_n_fresh	jnoah: Probably not today, I'm leaving in about half an hour, but tomorrow works.
2014-05-29 13:54:47	jnoah	ok
2014-05-29 13:54:57	jnoah	i may be leaving after lunch...but i'll be around in the morning
2014-05-29 13:57:00	pop_n_fresh	We can do it earlier. I'm here from 11 to about 3.
2014-05-29 14:55:43	deanj	pop_n_fresh: I'll be around tomorrow about 12 - 5.
2014-05-29 14:56:08	pop_n_fresh	deanj: Awesome. We'll on what needs to be worked on.
2014-05-29 15:09:23	pop_n_fresh	What's the best way to create a template for the widget files? Shoud I replace widget specific names with generic names and add comments to specify what should go where?
2014-05-29 15:12:25	mathuin	Have you guys completed a super-simple example widget for the new world yet?
2014-05-29 15:13:18	pop_n_fresh	There is a 'counter' widget which increments an integer by 1 every second. That's as simple as I could get it, but for explanation purposes I'm not sure how generic to make it.
2014-05-29 21:06:14	<--	bryon (bryon@osuosl/staff/bryon) has quit (Ping timeout: 240 seconds)
2014-05-29 21:06:34	<--	kennric (kennric@osuosl/staff/kennric) has quit (Ping timeout: 240 seconds)
2014-05-29 21:07:02	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-05-30 01:03:54		irc: disconnected from server
2014-05-30 01:04:30	--	#osuosl-dev: Cannot join channel (+i) - you must be invited
2014-05-30 12:10:35	muricula	test
2014-05-30 12:10:35	--	#osuosl-dev: Cannot send to channel
2014-05-30 12:11:07	muricula	test
2014-05-30 12:11:07	--	#osuosl-dev: Cannot send to channel
2014-05-30 12:11:15	-->	muricula (kronquii@osuosl/staff/muricula) has joined #osuosl-dev
2014-05-30 12:11:15	--	Nicks #osuosl-dev: [bramwelt chance deanj edunham jnoah kennric manatee MaraJade muricula pop_n_fresh Ramereth]
2014-05-30 12:11:15	--	Channel #osuosl-dev: 11 nicks (0 ops, 0 halfops, 0 voices, 11 normals)
2014-05-30 12:11:16	--	URL for #osuosl-dev: http://code.osuosl.org
2014-05-30 12:11:17	--	Channel created on Thu, 14 Mar 2013 11:51:55
2014-05-30 12:11:18	muricula	test
2014-05-30 12:12:35	edunham	muricula: hi
2014-05-30 12:13:20	muricula	edunham: hi
2014-05-30 12:13:32	edunham	your test was probably successful :)
2014-05-30 12:14:52	muricula	so whenever I disconnect I need to reidentify reinvite myself to dev and rejoin this channel, so I was checking that I had told ChanServ the proper incantations.
2014-05-30 12:17:53	muricula	edunham: did you make me an account on larch, because I can't log in.
2014-05-30 12:19:33	kennric	chance: I don't know
2014-05-30 12:20:34	kennric	to both questions - though if we are doing wheels anyway, can we generate and serve out tarball in the same way?
2014-05-30 12:21:28	chance	what do you mean
2014-05-30 12:21:38	chance	same way as?
2014-05-30 12:22:57	edunham	muricula: try now; I added you in ldap but forgot to explicitly make you a homedir
2014-05-30 12:23:07	muricula	Permission denied (publickey).
2014-05-30 12:23:08	kennric	when/where/how are wheel packages being generated?
2014-05-30 12:23:18	chance	kennric: all of that depends
2014-05-30 12:23:23	edunham	muricula: you have your ldap ssh public key added to your agent, right?
2014-05-30 12:23:31	chance	none of thats automatic, ideally jenkins would do that whenever a tag is pushed to github
2014-05-30 12:23:34	chance	but in general
2014-05-30 12:23:49	chance	wheel packages are generated using pip, or our shell script, and it should be done by us or the user
2014-05-30 12:24:29	muricula	edunham: well apparently not on fir.
2014-05-30 12:24:31	kennric	well, that's the point - we should do both those things in the same way (for the wheels we generate and host, that is)
2014-05-30 12:24:55	edunham	muricula: yeah i believe there's an incantation you can use to forward the key
2014-05-30 12:24:55	kennric	if we don't have a well defined way yet, we need to figure that out
2014-05-30 12:25:03	edunham	i just don't know it off the top of my head :)
2014-05-30 12:25:35	chance	kennric: why do we need to do them the same way?
2014-05-30 12:26:02	muricula	Is my ldap key id_rsa ?
2014-05-30 12:26:30	edunham	muricula: how would i know what file you saved it in?
2014-05-30 12:26:57	edunham	the comment is iankronquist@orange.workstation
2014-05-30 12:27:41	kennric	we don't -need- to, but if we have an automated process to do it, making the tarball makes sense, rather than having one more external thing going on
2014-05-30 12:27:58	muricula	edunham: thanks
2014-05-30 12:28:15	chance	kennric: well we *dont* have an automated process, so what do we want to do
2014-05-30 12:28:39	chance	and that doesnt seem to becoming along too fast, and probably not by the time im leaving
2014-05-30 12:28:43	chance	so we need to decide on what we want
2014-05-30 12:28:44	kennric	make an automated process :) but for now, the github urls will work
2014-05-30 12:28:50	chance	im not going to have enough time for that.
2014-05-30 12:28:57	kennric	sorry, a bit distracted by meeting...
2014-05-30 12:29:04	chance	ah
2014-05-30 12:30:48	kennric	if github will do it for us with permalinks, use that, if that is a pain, we'll figure something else out
2014-05-30 12:31:40	muricula	pop_n_fresh: you may want to do the same thing for this project:
2014-05-30 12:31:49	muricula	https://github.com/osuosl-cookbooks/orvsd_central
2014-05-30 13:05:14	muricula	kennric: I'm trying to clone a copy of the pdumaster repo to larch, but the remote is unexpectedly hanging up.
2014-05-30 13:14:46	-->	lucyw (wymanl@osuosl/staff/lucyw) has joined #osuosl-dev
2014-05-30 13:14:53	lucyw	Hi chance
2014-05-30 13:19:02	edunham	lucyw: you're not in #staff?
2014-05-30 13:19:09	edunham	/join #osuosl-staff
2014-05-30 13:20:12	lucyw	edunham: thank you :)  I didn't notice I'd fallen out
2014-05-30 13:20:26	edunham	np
2014-05-30 13:32:48	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 13:33:55	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 13:37:48	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 13:38:04	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 13:40:36	kennric	muricula: the git@ git url? Do you have your gitolite key on larch?
2014-05-30 13:42:16	chance	kennric: do we want to default to using wheels? and not install the proper system development headers for compiling packages, or do we want to default to not-wheels, and install the proper system devel packages
2014-05-30 13:42:42	muricula	kennric: I figured it out
2014-05-30 13:42:48	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 13:43:44	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 13:44:15	kennric	chance: hmmm, for easy one-click type install, fewer dependencies is better, are there other technical considerations?
2014-05-30 13:44:34	chance	well, to default wheels, we need to upload wheels packages to ftp
2014-05-30 13:44:42	chance	which shouldnt be hard.
2014-05-30 13:44:52	chance	but id like to test that out some
2014-05-30 13:45:12	chance	if we do use wheels, do we want to provide an option without wheels?
2014-05-30 13:45:32	chance	in which case we should install the proper system packages that might be required to setup gwm, (which might be harder)
2014-05-30 13:46:16	kennric	I am trying to think of a reason, other than development, why someone might prefer non-wheels install
2014-05-30 13:46:56	chance	dont trust us?
2014-05-30 13:47:01	chance	idk
2014-05-30 13:47:43	kennric	I think the default should be the easiest, most bulletproof setup, other install modes can require jumping through hoops
2014-05-30 13:47:46	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 13:48:01	chance	ok
2014-05-30 13:48:02	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 13:48:13	kennric	I like having other modes available, but those would be lower-priority features
2014-05-30 13:48:23	chance	so we'll leave out the system dependencies for things assume wheels, and we can upload wheels packages
2014-05-30 13:48:32	chance	sounds fine
2014-05-30 13:52:48	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 13:53:50	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 13:57:46	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 13:58:01	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 14:00:35	chance	kennric: are we doing a fenestra meeting?
2014-05-30 14:01:01	kennric	only if there are things you guys want to talk about
2014-05-30 14:01:28	chance	i dont think there is anything to talk about really
2014-05-30 14:01:34	kennric	I didn't think so
2014-05-30 14:01:43	chance	just wanted to check
2014-05-30 14:02:13	kennric	dynamic meetings will only happen when meetings are usefull (hopefully)
2014-05-30 14:02:20	kennric	in theory
2014-05-30 14:02:49	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 14:03:36	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 14:04:00	jnoah	kennric: when's the fenestra meeting today?
2014-05-30 14:05:22	kennric	jnoah: we don't have one unless there are things you want to talk about
2014-05-30 14:07:04	jnoah	ah, ok. nothing really. assumed we were just having one weekly
2014-05-30 14:07:47	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 14:07:56	kennric	I think we'll try to have those little team meeting when things have been happening and we want to get everyone synced, but not make them into a pointless weekly obligation
2014-05-30 14:08:05	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 14:10:18	jnoah	alright, sounds good
2014-05-30 14:12:48	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 14:13:34	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 14:17:46	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 14:18:01	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 14:20:10	jnoah	lucyw++ for fixing up the grid on develop
2014-05-30 14:20:34	jnoah	chance: i guess you are lead on the project. there's an issue on github that needs to be reviewed
2014-05-30 14:21:17	kennric	chance: do you -want- to be lead?
2014-05-30 14:22:48	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 14:23:33	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 14:23:58	kennric	manatee is having issues today
2014-05-30 14:25:08	jnoah	the monitoring tool is down i guess, which causes manatee to think everything is broken
2014-05-30 14:27:31	chance	kennric: im too busy at this point
2014-05-30 14:27:39	chance	im working on gwm and getting it released
2014-05-30 14:27:47	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 14:27:55	chance	atm its mostly documentation help, and answering questions
2014-05-30 14:28:06	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 14:28:32	lucyw	kennric: I can be lead if chance can't
2014-05-30 14:28:41	chance	lucyw would be a good lead
2014-05-30 14:28:56	chance	lucyw volunteer's as tribute?
2014-05-30 14:29:21	lucyw	chance: way to steal my joke.
2014-05-30 14:30:42	kennric	lucyw: tag, you're it
2014-05-30 14:30:51	jnoah	lucyw: http://ganeti-webmgr.readthedocs.org/en/latest/dev/developers.html#branch-layout
2014-05-30 14:30:51	lucyw	Sweet.
2014-05-30 14:30:52	manatee	jnoah's tiny URL is http://bit.ly/1o8fmgc
2014-05-30 14:30:57	jnoah	you'll want to read that section
2014-05-30 14:31:51	kennric	it means understanding the project fairly well, and having a good idea of its direction, plus bugging developers to complete features/bugs they are assigned to
2014-05-30 14:32:42	kennric	and being a leadership voice on what we do next with it. Also means you are the gatekeeper for merging code into master.
2014-05-30 14:32:48	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 14:33:16	kennric	but it means you can delegate, which is nice
2014-05-30 14:33:38	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 14:34:14	lucyw	kennric: Given the scope of the project, I think it'll be pretty manageable.
2014-05-30 14:34:56	lucyw	and a good intro project to being a dev :)
2014-05-30 14:37:28	kennric	yep, but more responsibility than just a dev, I'll be expecting you to answer for things (so make sure you make good use of your experienced devs)
2014-05-30 14:37:46	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-05-30 14:38:02	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-05-30 14:39:42	lucyw	kennric: can do!  Chance has already given me a pretty good run down of where the project is at, what changes he's made, and where it's going.  Plus I'll be in contact with everyone over the summer, if any questions come up.
2014-05-30 14:40:29	 *	lucyw is going to go take CS midterm
2014-05-30 14:43:30	edunham	good luck!
2014-05-30 15:21:29	-->	tschuy (~tschuye@osuosl/staff/tschuy) has joined #osuosl-dev
2014-05-30 20:46:04	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (*.net *.split)
2014-05-31 21:36:01	-->	kennric_ (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-05-31 21:37:28	<--	kennric (kennric@osuosl/staff/kennric) has quit (Write error: Broken pipe)
2014-06-01 17:16:58	<--	pop_n_fresh (voigte@osuosl/staff/popnfresh) has quit (Ping timeout: 240 seconds)
2014-06-02 10:50:39	--	kennric_ is now known as kennric
2014-06-02 12:12:21	-->	pop_n_fresh (voigte@osuosl/staff/popnfresh) has joined #osuosl-dev
2014-06-02 12:14:29	pop_n_fresh	jnoah: Hey, I'm working on the example widget for fenestra and was wondering if I could get you to look at it. I broke it and can't find where/how to fix it.
2014-06-02 12:18:45	jnoah	pop_n_fresh: i'm currently wfh right now. though, if you have it on a branch and push it, i can take a look
2014-06-02 12:19:34	pop_n_fresh	I'll push in a second.
2014-06-02 12:32:38	pop_n_fresh	Chance and I are working on it. I'll keep you updated jnoah
2014-06-02 12:32:48	jnoah	ok, thanks pop_n_fresh
2014-06-02 12:34:16	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-02 12:34:20	chance	git status
2014-06-02 12:34:28	chance	oops
2014-06-02 12:34:38	jnoah	currently on branch develop
2014-06-02 12:34:58	chance	:<
2014-06-02 12:35:16	chance	git checkout -- jnoah/*
2014-06-02 12:35:41	jnoah	lookin' fine
2014-06-02 12:37:42	chance	kennric: btw, i got django-admin.py to work with gwm
2014-06-02 12:37:57	chance	basically i learned a lot about python imports and that we managed to a lot of it wrong!
2014-06-02 12:38:09	chance	or at least, piotr forgot to use fully qualified imports.
2014-06-02 12:39:10	chance	https://github.com/osuosl/ganeti_webmgr/commit/e94d3aba4ac60c679957db71df7f803f21b50e66
2014-06-02 12:39:12	chance	xD
2014-06-02 12:42:30	kennric	oh, yeah, that would make a difference
2014-06-02 12:43:08	chance	mhm
2014-06-02 12:43:25	chance	basically, manage.py already adds its current app to its path
2014-06-02 12:43:37	chance	but django-admin.py cant, since its not in the same dir as the app
2014-06-02 12:43:50	kennric	right
2014-06-02 12:44:02	chance	so when i was using django-admin.py --settings "ganeti_webmgr.ganeti_web.settings" it would error in settings, unable to import our INSTALLED_APPS
2014-06-02 12:44:17	chance	so i updated installed_apps to be ganeti_webmgr.clusters instead of just clusters, for all our apps.
2014-06-02 12:44:20	chance	including muddle
2014-06-02 12:44:29	chance	then i found i needed to do that same thing to every module
2014-06-02 12:44:33	chance	to make imports work properly
2014-06-02 12:45:15	kennric	everything works now?
2014-06-02 12:45:54	chance	mostly
2014-06-02 12:46:00	chance	fixing migration imports right now
2014-06-02 12:46:25	chance	then i need to finish up my installation docs stuff
2014-06-02 12:46:48	chance	and merge in some dev doc changes from tschuy, and then work with him on getting the config docs finished according to the new stuff i did
2014-06-02 12:46:53	kennric	and this isn't going to cause issues with the dev install?
2014-06-02 12:46:53	chance	then should be a'ok
2014-06-02 12:46:56	chance	nope
2014-06-02 12:48:39	kennric	ok, test the heck out of it
2014-06-02 12:49:20	chance	its surprising how well this all has worked
2014-06-02 12:49:27	chance	ive been rewriting imports and things with sed
2014-06-02 12:49:36	chance	i cant begin to tell you how much i expect things to break
2014-06-02 12:49:38	chance	and it just odenst
2014-06-02 12:49:40	chance	doesnt
2014-06-02 12:49:50	chance	gotta verify tests and things still, but im almost ther.e
2014-06-02 12:50:31	kennric	fully qualified imports are a little unusual
2014-06-02 12:50:39	chance	not really
2014-06-02 12:50:58	chance	we didnt have a python package before
2014-06-02 12:51:00	chance	just a django 'app'
2014-06-02 12:51:06	chance	so there was no top level module
2014-06-02 12:51:14	chance	i could have done a bunch of relative imports
2014-06-02 12:51:21	chance	i was having a hard time doing that though
2014-06-02 12:52:01	kennric	well, this is the use case for fqi
2014-06-02 12:52:08	chance	yeah.
2014-06-02 12:52:08	kennric	or a use case
2014-06-02 12:52:18	chance	fixed imports woot.
2014-06-02 12:52:22	chance	err migraiton imports*
2014-06-02 12:52:23	kennric	I am glad the solution is this straightforward
2014-06-02 12:52:46	chance	yep
2014-06-02 12:52:55	chance	all that 'gwm-manage' will be changed to django-admin.py
2014-06-02 13:20:35	pop_n_fresh	deanj | jnoah When do you want to work on ORVSD Documentation this week? I'm here for about an hour+ and 11-2:30 wed/thur/fri.
2014-06-02 13:21:00	jnoah	wed/thurs works for me
2014-06-02 14:03:07	pop_n_fresh	jnoah: I'm working on my the next tutorial for fenestra widgets. What should I tackle?
2014-06-02 14:03:36	jnoah	that's a good question
2014-06-02 14:03:48	jnoah	do we have deanj's google doc of widgets anywhere yet?
2014-06-02 14:04:05	pop_n_fresh	Yep, he shared it with a few people.
2014-06-02 14:04:10	pop_n_fresh	I can paste the link.
2014-06-02 14:04:26	pop_n_fresh	https://docs.google.com/document/d/1G5wfvZlda7aabRNwu5Jlw8MBICGt7qO0OmB5ZFxsiCY/edit?usp=sharing
2014-06-02 14:05:40	jnoah	hmm, gimme a sec to look that over real quick
2014-06-02 14:06:28	jnoah	pop_n_fresh: want a deep project for you, but may serve as a good long tutorial?
2014-06-02 14:07:40	pop_n_fresh	Sure. If it's good tutorial I'm down.
2014-06-02 14:08:06	jnoah	if so, i'd figure out the nagios api and see if you can't pull data from it for a widget. That would serve as a good tutorial for those learning to combine APIs and widgets and serve to complete a widget we need.
2014-06-02 14:09:40	jnoah	Also, I'm still here to help, but lucyw is now lead on the project. She may have a different direction for you to go.
2014-06-02 14:10:27	pop_n_fresh	Yeah, I'll ask her for direction next time I see her.
2014-06-02 14:10:50	jnoah	nagios seems fun to do imo :)
2014-06-02 14:11:00	pop_n_fresh	I may need some assistance with this Nagios stuff, but I'll give it a shot.
2014-06-02 14:11:54	jnoah	alright. our manatee source may have some stuff about that. (It's what gets manatee to report NOTICEs in channel all the time)
2014-06-02 14:12:11	jnoah	that and the nagios documentation are where I'd start
2014-06-02 14:14:00	pop_n_fresh	Where is the manatee source?
2014-06-02 14:16:01	jnoah	hmmm, i knew at one point. jordane / pwnguin might now.
2014-06-02 14:16:06	jnoah	might know*.
2014-06-02 14:17:28	pop_n_fresh	I'll message them about it later. Heading out now.
2014-06-02 15:27:17	chance	woot tests passing
2014-06-02 15:27:52	chance	also urls working
2014-06-02 15:28:09	chance	i knew we had tests for a reason
2014-06-02 15:28:11	chance	:D
2014-06-02 15:29:11	jnoah	chance: what for?
2014-06-02 15:29:30	jnoah	fenestra?
2014-06-02 15:29:44	chance	gwm
2014-06-02 15:30:45	chance	https://github.com/osuosl/ganeti_webmgr/compare/develop...fix_packaging
2014-06-02 20:32:39	pop_n_fresh	I'm pretty sure the fenestra tests at this point are "Is it still broke?... Yep."
2014-06-02 21:23:24	deanj	pop_n_fresh: Wednesday sounds good to me. I'll be in at that time.
2014-06-02 21:23:52	deanj	jnoah: We don't have a doc of the developed widgets, but we do have a list of widgets that were requested. That should be shared on Google Drive.
2014-06-03 08:35:20	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-03 08:56:24	mathuin	oreilly.com's ebook deal of the day is on "Learning PHP, MySQL, JavaScript, CSS & HTML5".  Was $39.99.  Now $19.99.  Use code: DEAL  (I am on their mailing list, I get no benefit if you make a purchase.)
2014-06-03 09:36:14	mathuin	Ping!
2014-06-03 09:40:56	kennric	mathuin: Pong!
2014-06-03 09:41:04	mathuin	Thank you!
2014-06-03 09:41:09	-->	jordane (~jordane@osuosl/staff/jordane) has joined #osuosl-dev
2014-06-03 09:41:10	mathuin	Checking out to run a club errand, will be back in a bit.
2014-06-03 09:46:18	-->	pono (pono@osuosl/staff/dspt) has joined #osuosl-dev
2014-06-03 10:13:40	pono	MaraJade mathuin /opt/python is 2.7.1
2014-06-03 10:13:46	pono	Last up is getting glusterfs going
2014-06-03 10:13:52	pono	(for pgd-prod)
2014-06-03 10:13:56	mathuin	Woo!
2014-06-03 10:14:04	mathuin	What's the plan for Django?
2014-06-03 10:15:00	pono	pip can get the specific version can't it?
2014-06-03 10:15:30	mathuin	Yeah, that's the easy part.  Where in the file system will the Django app itself be installed?
2014-06-03 10:15:49	mathuin	/var/lib/django seems very wrong, but it's possible that the meaning of /var has changed over time.
2014-06-03 10:16:34	MaraJade	Should I have sudo access on pgd-prod?
2014-06-03 10:16:47	mathuin	The 'pgd' user will have sudo access, you will log in as that user.
2014-06-03 10:16:53	pono	I'll add that.
2014-06-03 10:16:55	mathuin	Your key should be in the pgd user's authorized keys.
2014-06-03 10:17:04	pono	mathuin: is /var/www/pgd/ bad?
2014-06-03 10:17:18	mathuin	If that makes sense to you as an admin, then that's fine with me.
2014-06-03 10:17:25	mathuin	Oh, and as long as it's documented. ;-)
2014-06-03 10:18:32	pono	Heh sure.
2014-06-03 10:20:01	mathuin	This is one of those cases where we have too much flexibility IMHO.  "You can put it anywhere!" turns into "What were you thinking?" a short time later.
2014-06-03 10:20:15	mathuin	You probably want /var/www/pgd-prod since this is for pgd-prod.
2014-06-03 10:20:28	pono	Yeah, that's fine
2014-06-03 10:21:46	kennric	pono: as long as /var/www isn't anyone's (apache, nginx) default webroot
2014-06-03 10:22:30	kennric	I often see django and other apps rooted in /var/www/, with the default web server docroot at /var/www/html
2014-06-03 11:39:13	chance	mathuin: the /var/lib/django is i just think convention some person at the osl arbitrarily picked
2014-06-03 11:39:32	chance	could have just as easily been /opt/django/{app1,app2}
2014-06-03 11:40:14	mathuin	*nod*
2014-06-03 11:45:34	kennric	the question is, what is the organizing principle? "here is where we keep the web apps" or "here is where we keep the Django stuff"
2014-06-03 11:48:26	mathuin	Perhaps by framework and then by app, so we can have Rails and Flask apps as well as Django apps?
2014-06-03 11:52:08	kennric	is it important to reflect the framework in the directory structure? Do you go looking for django apps because you know pgd is django, or do you just go looking for pgd?
2014-06-03 11:52:47	kennric	nothing stops you from /var/www/pgd and /var/www/fenestra at the same time
2014-06-03 11:56:36	chance	kennric: did you upload tvap 1.1.1?
2014-06-03 11:58:13	kennric	chance: oops, no I didn't, will do that now
2014-06-03 12:11:04	kennric	chance: 1.1.1 is now live
2014-06-03 12:31:57	lucyw	Lunch anyone?
2014-06-03 12:33:06	lucyw	Also, can/should I be added to the dev calendar
2014-06-03 12:33:09	lucyw	?
2014-06-03 12:33:31	pono	lucyw: Sure
2014-06-03 12:33:34	pono	I'm in the NOC
2014-06-03 12:33:51	pono	MaraJade mathuin You have the gluster mount now.
2014-06-03 12:34:18	mathuin	Excellent.
2014-06-03 12:34:41	pono	Figuring out /vaw/www/pgd-prod is next.
2014-06-03 13:16:07	pono	mathuin: Are you wanting to create a Chef cookbook for the app?
2014-06-03 13:35:44	mathuin	I'm not sure what that entails, to be honest.
2014-06-03 13:53:54	kennric	mathuin, pono - I think you could make a cookbook based on what chance is doing with gwm, I suspect it would not be too hard
2014-06-03 14:00:38	chance	fyi, im going to try and revamp the gwm cookbook according to use the setup.sh script
2014-06-03 14:00:39	chance	so
2014-06-03 14:00:47	chance	that might change
2014-06-03 14:01:11	mathuin	kennric pono MaraJade: let's have a meeting after finals where we take over the whiteboard, document everything necessary to set up an instance from scratch, and figure out how to chef it up from there.
2014-06-03 14:04:26	kennric	mathuin: yes, lets
2014-06-03 14:04:41	pono	I should  be around the whole week.
2014-06-03 14:08:06	chance	kennric: i should branch of release/0.11 now right?
2014-06-03 14:09:24	kennric	chance: what are you making a branch for, the import changes?
2014-06-03 14:09:53	kennric	I wish we were not making such large changes on a release branch
2014-06-03 14:12:03	chance	for tvap
2014-06-03 14:12:12	chance	the import changes is already branched of release
2014-06-03 14:12:18	chance	we could also merge the release branch into develop
2014-06-03 14:12:21	chance	instead of the release
2014-06-03 14:12:28	chance	i dont think it matters where we make changes
2014-06-03 14:12:32	chance	this big changes had to happen anyways
2014-06-03 14:12:58	chance	the setup script didnt work, so it would have been in develop otherwise, which would have been made into a release branch
2014-06-03 14:13:30	chance	err we could also merge the import changes branch into develop
2014-06-03 14:13:41	chance	and then just re-create the release branch
2014-06-03 14:14:04	mathuin	Conceptually big changes belong in develop, changes to repair unreleased releases go in release branches, right?
2014-06-03 14:14:14	mathuin	hotfixes are for repairing released releases, of course.
2014-06-03 14:14:21	chance	yes, but the release branch is really not much atm
2014-06-03 14:14:32	mathuin	No, it's usually bumping version numbers in documentation.
2014-06-03 14:15:14	mathuin	A change this big, that's tied in with another package which also had a new release, may belong in its own release.
2014-06-03 14:15:15	chance	heh, i updated that stuff in the import changes branch since i had to re-write a ton of docs, and it all points to 0.11 specifically
2014-06-03 14:15:37	chance	this is its own release
2014-06-03 14:15:45	chance	the last release of gwm was prior to piotr's gsoc changes
2014-06-03 14:15:59	mathuin	Okay.  I guess I wonder why it was done in "the release branch" instead of in "the develop branch before cutting a release branch".
2014-06-03 14:15:59	chance	this release includes those changes, which include new deployment using a setup.sh script
2014-06-03 14:16:03	chance	ive changed his setup.sh
2014-06-03 14:16:13	chance	mathuin: cause we already branched off the release branch
2014-06-03 14:16:16	 *	chance shrug
2014-06-03 14:16:25	chance	err
2014-06-03 14:16:29	mathuin	What's our brand new developer documentation have to say on the topic?
2014-06-03 14:16:45	chance	after a release branch has been cut, you branch off of it
2014-06-03 14:17:26	chance	although im finding that we almost always branch too early
2014-06-03 14:17:37	muricula	kennric: I'm looking at the SNMP Sentry3 tree file and I don't see anything about outlet groups
2014-06-03 14:17:41	chance	but otherwise, other devs could continue working on develop
2014-06-03 14:17:51	chance	and the idea is we only fix whats absolutely required, so thats why its in its own branch
2014-06-03 14:17:58	chance	so another dev can continue working in develop
2014-06-03 14:18:00	muricula	I see an even information group and a seystem group though
2014-06-03 14:18:01	chance	and i wont have their changes
2014-06-03 14:18:05	chance	which is what we want
2014-06-03 14:20:07	kennric	chance: yes, that is the problem, we should be cutting the release branch itself after all those big changes have been made
2014-06-03 14:20:26	chance	we didnt know until after we cut the branch
2014-06-03 14:20:27	chance	so
2014-06-03 14:20:39	kennric	but here we are, so yes, branch from 0.11
2014-06-03 14:21:01	kennric	then merge things back into develop so we don't diverge too far and forget
2014-06-03 14:21:45	kennric	muricula: the pdus don't know about groups, the admins have to label two outlets with the same name or prefix, we'll have to use the labels to infer groups and hope the admins name them right
2014-06-03 14:21:45	chance	including the imports stuffs?
2014-06-03 14:22:20	kennric	or make them do all the naming through our interface...
2014-06-03 14:22:42	muricula	kennric: so i will need to define an internal naming standard for outlet labels?
2014-06-03 14:23:36	kennric	chance: are the imports a bug on 0.11, or a general bug? I could go either way, put it in develop and rebase 0.11, or 0.11 and merge back into develop, depending on how we think about it
2014-06-03 14:24:12	chance	kennric: okay, i think i might merge it into develop then, and then rebase release onto develop
2014-06-03 14:24:23	kennric	muricula: if you can get data from an existing pdu, you'll see that many of them already have grouped labels - not sure if that is on the test pdu or not though
2014-06-03 14:25:10	muricula	okay, and they are all labeled ina machine parsable standard way? Is this a question for infra?
2014-06-03 14:26:14	kennric	I think that is an infra question, I only saw a limited set of existing labels
2014-06-03 14:34:53	chance	kennric: im fixing all this branching stuff
2014-06-03 14:35:39	chance	release/0.11 will be basically just a version bump
2014-06-03 14:35:40	chance	ideally
2014-06-03 14:36:12	chance	and im going to put all this work onto develop
2014-06-03 14:36:45	kennric	ok
2014-06-03 14:37:13	chance	in fact, i think i might delete the release branch until we're done with these changes
2014-06-03 14:37:23	chance	then we'll heavily test develop
2014-06-03 14:37:28	chance	and if it fits, then we release a release branch
2014-06-03 14:37:39	chance	only small changes should be added to it
2014-06-03 14:37:40	mathuin	I think that's a better choice TBH.
2014-06-03 14:37:48	chance	i think so too
2014-06-03 14:37:54	chance	and i can do this without fudging develop
2014-06-03 14:38:01	chance	release isnt being used by anyone except me
2014-06-03 14:38:08	chance	so deleting it should be fine.
2014-06-03 14:38:43	kennric	chance: yeah, I think that makes sense, the release branch should be practically ready to go when we cut it, not needing a lot of major changes
2014-06-03 14:39:00	chance	yeah
2014-06-03 14:39:16	kennric	we cut it too early, dump it and pretend it never happened
2014-06-03 14:39:24	 *	chance sweeps it under the rug
2014-06-03 14:39:41	chance	also, things are turning out great in the fix up branch
2014-06-03 14:40:42	kennric	good to hear
2014-06-03 14:53:10	chance	kennric: would you mind taking a look at the branch? i have everything done except the config file stuff
2014-06-03 14:53:18	chance	which im having tschuy do, and im going to help on that too
2014-06-03 14:53:33	chance	i can explain it in the issue on code.o.o some
2014-06-03 14:55:56	kennric	sure
2014-06-03 15:00:00	chance	k, im writing up the details
2014-06-03 15:02:39	chance	https://code.osuosl.org/issues/16269
2014-06-03 15:02:41	chance	also
2014-06-03 15:03:08	chance	notes:
2014-06-03 15:03:17	chance	i need to update chef to not run it's git sync thing
2014-06-03 15:03:24	chance	so checkout develop, vagrant up
2014-06-03 15:03:31	chance	then git checkout bug/16269
2014-06-03 15:03:35	chance	after you have vagrant provision
2014-06-03 15:03:51	chance	cause otherwise it'll rewrite your current branch to origin/develop
2014-06-03 15:05:51	kennric	ok, give me a few
2014-06-03 15:16:14	chance	also, you'll probably need to delete the settings.py file that chef creates
2014-06-03 15:16:18	chance	it isnt updated for this
2014-06-03 15:23:01	kennric	I am doing this from home, so waiting for the box to download, provision, etc. Oh, and: Vagrant:
2014-06-03 15:23:04	kennric	* Unknown configuration section 'berkshelf'.
2014-06-03 15:23:04	kennric	* Unknown configuration section 'omnibus'.
2014-06-03 15:23:29	kennric	so, apologies, it'll be a few minutes
2014-06-03 15:25:52	chance	kennric: need to install vagrant-berkshelf and vagrant-omnibus
2014-06-03 15:25:55	chance	they're in the developer docs i think
2014-06-03 15:26:03	chance	and fixes to them from tschuy need to be merged in
2014-06-03 15:26:06	chance	thats what im about to work on
2014-06-03 15:33:23	MaraJade	mathuin: I will not be available the week after finals
2014-06-03 15:33:38	mathuin	What about the week of finals?
2014-06-03 15:33:46	mathuin	My last one is on Wednesday.
2014-06-03 15:37:48	MaraJade	I'm not coming in during finals either
2014-06-03 15:38:13	mathuin	When do you return?
2014-06-03 15:38:35	MaraJade	The week after the week after finals
2014-06-03 15:39:31	mathuin	I will be out of the office June 21-24, I should be back on the 25th.
2014-06-03 15:40:15	mathuin	And oh look, you actually it it on the calendar, go you. :-)
2014-06-03 15:40:55	mathuin	I will mark myself as out June 20-25, just to be safe.
2014-06-03 15:40:56	MaraJade	I do try to keep that up to date
2014-06-03 15:41:04	mathuin	I hadn't done summer term yet.
2014-06-03 15:41:09	mathuin	So let's plan on the 26th?
2014-06-03 15:46:42	pono	Work's for me
2014-06-03 15:46:58	<--	pop_n_fresh (voigte@osuosl/staff/popnfresh) has quit (Ping timeout: 240 seconds)
2014-06-03 15:49:04	MaraJade	Pretty sure that'll work
2014-06-03 16:35:04	kennric	an hour of upgrading vagrant and fighting ruby later... vagrant-berkshelf is still broken.
2014-06-03 16:35:14	edunham	:(
2014-06-03 16:35:19	kennric	chance: I'll review when I am in the office tomorrow
2014-06-03 16:36:06	kennric	cannot load such file -- hashie/hash_extensions
2014-06-03 16:36:28	kennric	(hashie gem is installed)
2014-06-03 17:27:03	chance	docs for vagrant should be up to date in develop
2014-06-03 17:28:18	chance	http://ganeti-webmgr.readthedocs.org/en/develop/dev/vagrant.html
2014-06-03 17:28:19	manatee	chance's tiny URL is http://bit.ly/1pQamht
2014-06-04 13:07:49	deanj	jnoah: When do you think you'll be in today? I'd like to work on the app_context stuff for celery with you when you get the chance. Oh, and you've got at least 4 bugs waiting for review. :)
2014-06-04 13:09:04	chance	deanj: for what?
2014-06-04 13:17:02	deanj	orvsd central
2014-06-04 13:18:30	jnoah	deanj: sweet. alright. I'll be in at about 3 and I'm staying late tonight
2014-06-04 13:18:48	chance	deanj: i dont work on orvsd central
2014-06-04 13:24:14	deanj	chance: I didn't ping you intentionally. See: 'I'd like to work on the app_context stuff for celery with you when you get the chance'.
2014-06-04 13:27:19	chance	oh
2014-06-04 13:27:22	chance	i see
2014-06-04 14:02:38	deanj	kennric, jnoah, chance: Should we be generating or writing any docs for our front-end code?
2014-06-04 14:03:50	kennric	deanj: always
2014-06-04 14:04:34	chance	deanj: at least comments, probably
2014-06-04 14:05:06	chance	and architecture documentation could mention how the front end obtains data
2014-06-04 14:10:01	deanj	I was definitely thinking comments, just wasn't sure how far we wanted to go with it. I'll be sure to mention it to pop_n_fresh when we get together for more documentation on Friday.
2014-06-04 14:39:24	chance	kennric: could you take a look at the bug/16269 stuff now?
2014-06-04 14:39:37	chance	i got a ton of doc updates, and the code should all be working pretty well
2014-06-04 14:39:47	chance	i also fixed vagrant like i said
2014-06-04 14:39:51	chance	and that change is in develop and this branch
2014-06-04 14:40:03	kennric	chance: will do - everythign seemed to function well, but I haven't updated to your latest yet
2014-06-04 14:40:10	chance	gonna restart to get rid of these .nfs* files
2014-06-04 14:40:39	chance	not only is the functionality important, but docs too. it should be extremely comprehensive now
2014-06-04 14:41:01	chance	want to get as much looking at them now, so that we dont have to spend a lot of time after this week fixing anything
2014-06-04 14:41:07	chance	so that we can get at least staging upgraded
2014-06-04 14:41:18	chance	and hopefully get the other gwm instances updated too
2014-06-04 14:41:29	chance	brb
2014-06-04 14:41:53	kennric	are you easily able to deploy feature branches to staging, or is it setup for develop only?
2014-06-04 15:00:05	chance	with what?
2014-06-04 15:00:47	kennric	chance:  I mean, is it a pain to put your bug branch on staging for testing purposes?
2014-06-04 15:00:51	chance	no
2014-06-04 15:01:14	chance	its a matter of git checkout foo;
2014-06-04 15:01:19	chance	touch wsgi.py
2014-06-04 15:02:04	chance	i could deploy it to staging using setup.sh
2014-06-04 15:04:57	chance	id rather use the new staging server though
2014-06-04 15:05:03	chance	jordane: ping
2014-06-04 15:06:52	jordane	chance: pong
2014-06-04 15:06:59	jordane	new staging ganeti server?
2014-06-04 15:11:48	chance	im going to try and get chef updated to use the new stuff
2014-06-04 15:11:48	chance	then ill try getting it up on staging.ganeti.o.o
2014-06-04 15:12:31	chance	yeah, so it seems like its got chef on there
2014-06-04 15:12:48	chance	so if i update chef to deploy it, all id need to do is point apache/nginx at it right?
2014-06-04 15:13:21	chance	although, im also wondering, i probably need apache/nginx on that server so it can refer to the wsgi file
2014-06-04 15:19:24	kennric	hmm, wiped out my gwm clone and started from scratch - following http://ganeti-webmgr.readthedocs.org/en/develop/dev/vagrant.html, failing with settings not being found
2014-06-04 15:19:26	manatee	kennric's tiny URL is http://bit.ly/1kMs5l0
2014-06-04 15:20:50	chance	kennric: settings?
2014-06-04 15:21:15	kennric	AttributeError: 'Settings' object has no attribute 'ROOT_URLCONF'
2014-06-04 15:21:21	kennric	etc
2014-06-04 15:21:27	chance	running what?
2014-06-04 15:21:33	kennric	(on bug/16269)
2014-06-04 15:22:03	chance	what did you run to cause that?
2014-06-04 15:22:08	kennric	develop works fine
2014-06-04 15:22:18	kennric	python ganeti_webmgr/manage.py runserver 0.0.0.0:8000
2014-06-04 15:22:32	chance	you shouldnt be running that
2014-06-04 15:22:38	chance	thats only for a dev install
2014-06-04 15:22:39	kennric	as stated in the docs
2014-06-04 15:22:47	chance	your supposed to be testing the prod install
2014-06-04 15:23:07	chance	make the docs and use the gettingstarted installation docs
2014-06-04 15:23:25	chance	ill check out the rooturl conf thing though
2014-06-04 15:23:27	kennric	are you saying the dev install is broken?
2014-06-04 15:23:40	chance	shouldnt be.
2014-06-04 15:24:08	chance	ill test it out
2014-06-04 15:24:10	chance	but for now ignore that
2014-06-04 15:24:11	kennric	following the docs step by step results in breakage on that bug
2014-06-04 15:24:24	kennric	ok
2014-06-04 15:25:22	kennric	readthedocs is being a pain, somethign on their page is grabbing keyboard focus and not letting it go
2014-06-04 15:26:47	chance	dont use rtd
2014-06-04 15:26:52	chance	you need to build the docs in the repo
2014-06-04 15:27:20	kennric	yes, I know, but I am complaining about rtd
2014-06-04 15:27:54	kennric	in fact, I am extending the complaint to sphinx docs, firefox and ubuntu (same behavior on local html)
2014-06-04 15:28:02	chance	idk what would cause that
2014-06-04 15:28:04	chance	i dont have that problem.
2014-06-04 15:29:34	kennric	OSError: [Errno 13] Permission denied: '/opt/ganeti_webmgr'
2014-06-04 15:29:57	kennric	yeah, it may be time for a reboot, a lot of desktop flakiness suddenly
2014-06-04 15:30:02	chance	kennric: did you see the note?
2014-06-04 15:30:10	chance	the docs mention you might need to run it as root
2014-06-04 15:30:37	chance	although the OSError should be in an exception
2014-06-04 15:30:41	chance	err a try catch
2014-06-04 15:30:50	kennric	yep, just mentioning it as I go, and yes, it should be
2014-06-04 15:30:58	chance	what's the latest commit your on ?
2014-06-04 15:31:20	chance	alos, im not running into any issue with rooturl conf
2014-06-04 15:32:00	kennric	fffbc65897
2014-06-04 15:32:01	chance	could be possible chef put settings.py into your settings directory, which you will probably need to get rid of
2014-06-04 15:32:23	chance	chef isnt really doing any thing good for us atm since most of this is changed
2014-06-04 15:32:40	chance	thats the right commit
2014-06-04 15:32:41	kennric	hmmm, yes, there does seem to be a settings.py
2014-06-04 15:32:52	chance	also, dont run any of this in a virtualenv
2014-06-04 15:33:03	kennric	thought I had removed it, but I will go through that again when I am done with the other run-through
2014-06-04 15:33:05	chance	this is expecting your essentially installing this from scratch
2014-06-04 15:33:26	chance	with no chef/vagrant stuff have happened, which is possibly messing with your stuff
2014-06-04 15:41:20	kennric	django-admin.py syncdb --migrate
2014-06-04 15:41:25	kennric	NameError: name 'load_secret' is not defined
2014-06-04 15:41:49	chance	you need to delete the settings.py file
2014-06-04 15:42:04	chance	chef added that, and the one it has is out of date for this stuff
2014-06-04 15:42:53	kennric	it is deleted
2014-06-04 15:43:17	chance	you delete the .pyc file too?
2014-06-04 15:43:27	kennric	yes
2014-06-04 15:44:55	kennric	currently /opt/ganeti_webmgr/config/config.yml has only an sqlite config in it, and /opt/ganeti_webmgr/.secrets/SECRET_KEY.txt exists
2014-06-04 15:45:40	chance	load_secret indicates that an old file is being used
2014-06-04 15:45:45	kennric	I am trying to do this as naively as possible, just going step by step through the docs
2014-06-04 15:45:51	chance	you're in the /opt/ganeti_webmgr virtualenv right?
2014-06-04 15:45:54	chance	not /home/vagrant/venv?
2014-06-04 15:46:13	chance	oh
2014-06-04 15:46:22	chance	you probably deleted settings.py in /home/vagrant/ganet_webmgr huh
2014-06-04 15:46:23	kennric	source /opt/ganeti_webmgr/bin/activate
2014-06-04 15:46:35	chance	when it installed it with setup.sh, it got installed into the virtualenv
2014-06-04 15:46:56	kennric	ok, deleting from there
2014-06-04 15:47:02	chance	rm /opt/ganeti_webmgr/lib/python2.6/site-packages/ganeti_webmgr/ganeti_web/settings/settings.*
2014-06-04 15:47:36	kennric	ok, that got it
2014-06-04 15:50:58	kennric	so the dev server shoudl serve this install correctly, or is iot setup with nginx or apache on the vm?
2014-06-04 15:52:15	chance	it will serve it correctly, you will need to add DEBUG: true into settings to have it serve static files though
2014-06-04 15:52:24	chance	and it isnt set up with nginx/apache yet
2014-06-04 15:52:33	kennric	ah, I was about to say, 404's on the static files...
2014-06-04 15:52:46	chance	django-admin.py runserver 0.0.0.0:8000 to access it from outside
2014-06-04 15:52:56	chance	yeah, they're only served in debug mode, according to django :)
2014-06-04 15:53:08	chance	debug isnt in the sample config cause you shouldnt mess with that unless your a dev
2014-06-04 15:55:51	kennric	should there have been working default settings in place such that I would not have to add /opt/ganeti_webmgr/config/config.yml at all?
2014-06-04 15:56:10	chance	the only settings which *have* to be added are database settings
2014-06-04 15:56:15	chance	i didnt set a default for those
2014-06-04 15:56:32	chance	everything else has defaults that should work
2014-06-04 15:57:05	kennric	we should make it clear that this is a necessary step - the docs link out to the config page, but everything else has defaults, I think people will skip past that assuming they can go back to it later to customize
2014-06-04 15:57:15	chance	okay
2014-06-04 15:58:26	kennric	aside from the chef setting confusion, this seems to work well
2014-06-04 16:00:49	kennric	we need to get the dev/vagrant docs correct as well
2014-06-04 16:01:02	kennric	please deploy this bug branch to staging and test
2014-06-04 16:01:24	chance	the config step does mention that the database settings are required
2014-06-04 16:01:35	chance	it could be emphasized
2014-06-04 16:02:44	chance	kennric: i think you underestimated the #of people coming to work today
2014-06-04 16:03:25	kennric	I think the emphasis needs to be on the getting started page, as in "hey, you have to make a minimal config next before you move on, here are the configuration docs"
2014-06-04 16:03:35	chance	yeah, i agree
2014-06-04 16:03:46	lucyw	are we meeting in here?
2014-06-04 16:03:56	kennric	devs: does anyone feel the need for a meeting today?
2014-06-04 16:05:16	chance	i have stuff id rather work on
2014-06-04 16:05:31	chance	and i know anyone who needs to know, knows whats going on with gwm
2014-06-04 16:05:34	chance	for the most part
2014-06-04 17:08:41	tschuy	pep8 ganeti_webmgr/muddle/tests/__init__.py
2014-06-04 17:08:49	tschuy	whoops, wrong window
2014-06-04 17:41:23	jnoah	deanj: all your bugs that were up for review have been merged into develop.
2014-06-04 17:44:25	chance	jordane: either tomorrow/friday or next week, would you be able to help me with getting databag stuff setup?
2014-06-04 20:36:45	deanj	jnoah: Cool, thanks.
2014-06-05 09:50:47	jordane	chance: yeah, just ping me when you're in.
2014-06-05 09:56:46	jnoah	deanj: we can put off the final celery/context day until tomorrow for when you're in, but i think that'll be it. :(
2014-06-05 09:57:00	jnoah	this really shouldn't be that hard
2014-06-05 10:28:58	MaraJade	So I tried running manage.py syncdb on pgd, but I get "_mysql_exceptions.OperationalError: (1045, "Access denied for user 'root'@'localhost' (using password: YES)")"
2014-06-05 10:29:27	MaraJade	How do I fix this?
2014-06-05 10:31:36	jnoah	do you have a db setup and proper creds in your config?
2014-06-05 10:31:52	jnoah	MaraJade: ^
2014-06-05 10:32:16	MaraJade	I have no idea
2014-06-05 10:32:26	jnoah	lucyw: gimme widgets to do :)
2014-06-05 10:32:39	jnoah	MaraJade: well, that would be why
2014-06-05 10:32:57	jnoah	is there documentation for it? I imagine the wiki might have some help there
2014-06-05 10:33:32	MaraJade	This is supposed to initialize the database though. Do you have to have a database before you can initilize it?
2014-06-05 10:33:50	jnoah	yes
2014-06-05 10:33:53	MaraJade	Oh
2014-06-05 10:34:06	jnoah	typically that just creates tables.
2014-06-05 11:06:18	pono	MaraJade: How is PGD going?
2014-06-05 11:07:59	MaraJade	pono: Well, I think I have a database now. Trying to figure out the importing data bit without having to spend two days doing it
2014-06-05 11:09:10	pono	So
2014-06-05 11:09:26	pono	The /data/ mount should have what you want
2014-06-05 11:22:26	lucyw	jnoah: Let me see if muricula wants/needs help with the bandwidth usage widget.  I'm not entirely sure of where he is on that, but I know it's been giving him some trouble.  Elsewise, I think an internal widget showing who is checked in and who is checked out would be a nice challenge, and a useful tool
2014-06-05 11:58:10	kennric	MaraJade: have you talked with our PGD gsoc student yet? Sounds like he will have the upgrade to Django 1.4 done soon, we'll want to deploy/test that in the same way you are doing the current version
2014-06-05 11:59:07	MaraJade	kennric: No, I haven't
2014-06-05 12:00:26	kennric	you are welcome to join #osuosl-gsoc, he is s1991
2014-06-05 12:00:53	chance	im limited on hours left this week, so i probably wont be in much today
2014-06-05 12:00:54	chance	if at all
2014-06-05 12:01:01	chance	probably will work friday though
2014-06-05 12:01:35	chance	i think i got chef mostly setup for my branch though
2014-06-05 12:01:41	kennric	chance: ok, tschuy and I might have code review bugs for you tomorrow
2014-06-05 12:05:57	MaraJade	kennric: I'm in there, just haven't said anything
2014-06-05 12:06:16	chance	kennric: mostly pep8 right?
2014-06-05 12:07:00	kennric	chance: probably, and probably can assign them to tschuy to fix
2014-06-05 12:09:17	kennric	MaraJade: how goes the pg-staging vm work?
2014-06-05 12:10:05	MaraJade	Well, I have a database, just trying to figure out how to do the importing of the data from a different folder instead of ftp
2014-06-05 12:11:17	jnoah	kennric: looks like the celery issue may be fixed (and i may have just jinxed it...)
2014-06-05 12:11:37	kennric	jnoah: what was the issue?
2014-06-05 12:11:39	jnoah	anyway, deanj is fixing up install course stuff itself now, rather than dealing with celery
2014-06-05 12:11:55	jnoah	celery = Celery(app.import_name, broker=app.config['CELERY_BROKER_URL']
2014-06-05 12:12:10	jnoah	instead of app.import_name, "tasks" was hardcoded
2014-06-05 12:12:26	kennric	ah
2014-06-05 12:12:39	jnoah	that's seems to have done the trick
2014-06-05 12:13:03	chance	kennric: well ill merge them in, i think thats what he sent me yesterday
2014-06-05 12:16:26	kennric	MaraJade: let me know if you need any help
2014-06-05 12:21:20	deanj	kennric: Is the install_course plugin installed on flvs-22?
2014-06-05 12:22:12	kennric	deanj: probably, but I am not sure, you should be able to log in and look
2014-06-05 12:23:04	kennric	or look on the filesystem where it is installed
2014-06-05 12:23:08	deanj	Hmm, looks like it is. (I forgot I could check) Justin and I got install_course working (without errors anyways), but it's installing to sites
2014-06-05 12:23:21	deanj	it's not installing to sites**
2014-06-05 12:23:54	kennric	then it isn't "working" exactly
2014-06-05 12:24:26	kennric	you should be able to see some log activity on the moodle site itself
2014-06-05 12:24:28	deanj	Yes, but we fixed the celery stuff :p. Anyways, just getting moodle errors now.
2014-06-05 12:24:58	kennric	make sure the token and other things are set correctly
2014-06-05 12:26:47	deanj	Yup, already did. It's database errors, so I'm gonna re-install the plugins to make sure all the correct tables are there.
2014-06-05 12:27:24	kennric	I am going to grab lunch, I'll help debug when I get back
2014-06-05 12:27:47	deanj	That's alright; I have to leave soon, but I'll be back tomorrow.
2014-06-05 13:43:06	muricula	lucyw: huh?
2014-06-05 14:45:36	jnoah	deanj: ping
2014-06-05 14:46:20	jnoah	what's wrong with install_course now?
2014-06-05 14:46:26	jnoah	seems to work just fine for me
2014-06-05 14:50:19	jnoah	deanj: how can we check jub status / etc?
2014-06-05 15:01:42	jnoah	kennric: what's the site adress for the staging site?
2014-06-05 15:02:28	kennric	orvsd staging, or the staging moodle sites?
2014-06-05 15:03:24	jnoah	http://<staging where i can install courses to flvs22>.org
2014-06-05 15:04:05	kennric	http://flvs-22.orvsd.org/ is the flvs-22 site
2014-06-05 15:04:45	jnoah	what's the staging orvsd-central's address?
2014-06-05 15:04:59	kennric	http://orvsd-central.stg.orvsd.org
2014-06-05 15:05:20	jnoah	excellent, thanks
2014-06-05 15:05:38	deanj	jnoah: Try installing to flvs-22.orvsd.org, that doesn't work.
2014-06-05 15:05:50	jnoah	deanj: that's what i'm about to do
2014-06-05 15:06:00	jnoah	where're the logs?
2014-06-05 15:06:05	kennric	you'll need to make sure the plugin is installed on that site, and you can view logs from within moodle
2014-06-05 15:06:42	deanj	And as for checking job status, we never kept Qi's code, so I don't think we can view jobs. (I can write that next week if need be) And I was just printing the response text from the post request to get the errors.
2014-06-05 15:07:24	kennric	why do we not have Qi's code?
2014-06-05 15:07:52	kennric	https://flvs-22.orvsd.org/report/log/index.php
2014-06-05 15:10:46	jnoah	deanj: so the branch you were testing with is an ooooooooold develop
2014-06-05 15:11:01	jnoah	i just updated everything and am now trying the bug/16215 branch
2014-06-05 15:11:42	jnoah	(waiting on compilation for the requirements.txt changes atm though)
2014-06-05 15:13:38	kennric	jnoah: you should be able to test install-course from a local dev install of
2014-06-05 15:13:42	kennric	oc
2014-06-05 15:14:03	kennric	since it just sends a post to the external moodle site
2014-06-05 15:28:47	jnoah	where're the flask logs located again?
2014-06-05 15:28:59	jnoah	i'm getting an internal server error when installing a course
2014-06-05 15:32:16	kennric	/var/log/uwsgi
2014-06-05 15:32:26	kennric	forget the exact file name
2014-06-05 15:32:32	kennric	should be obvious
2014-06-05 15:32:45	jnoah	that's not giving me any issues...
2014-06-05 15:32:54	jnoah	issues = tracebacks
2014-06-05 15:34:19	kennric	internal server error where? Is this coming back from moodle, or is it the flask app? flask's tracebacks should all be in the uwsgi log
2014-06-05 15:34:38	deanj	jnoah: You shouldn't be getting internal server errors from installing courses (at least locally, as I was testing it).
2014-06-05 15:34:46	kennric	moodles will be innginx and/or php-fpm logs
2014-06-05 15:35:01	deanj	jnoah: I rebased off develop earlier today, there's no way bug/16215 was too old. o.O
2014-06-05 15:35:27	jnoah	deanj: when i went over to staging, staging was on develop and a really old one at that
2014-06-05 15:35:40	deanj	jnoah: I'm not testing with staging
2014-06-05 15:36:07	deanj	jnoah: It's a post request to another server either way, so just test with your local branch.
2014-06-05 15:36:35	deanj	I can ping you the INSTALL_COURSE_TOKEN if you need it.
2014-06-05 16:03:38	jnoah	kennric, deanj "Can not find data record in database table course_categories." is the error i'm getting
2014-06-05 16:06:16	kennric	from moodle, or from OC?
2014-06-05 16:06:18	jnoah	kennric: dml_missing_record_exception
2014-06-05 16:06:44	jnoah	those are both part of the message we are getting back from moodle
2014-06-05 16:06:52	kennric	hmm.
2014-06-05 16:08:07	kennric	plugin is up to date
2014-06-05 16:10:43	jnoah	kennric: where's the code for the plugin?
2014-06-05 16:11:40	kennric	git@git.osuosl.org:orvsd/createcourse
2014-06-05 16:13:16	kennric	that is a strange error, I suspect the issue is sending a category id that moodle doesn't have - the default is "Miscellaneous", but I think we send the numeric id, not the name
2014-06-05 16:13:34	kennric	but some kind of confusion there is probably the problem
2014-06-05 16:20:37	deanj	We definitely send the id, not the category. (This has been a filed issue for a while, just hasn't been tackled yet) I'm not sure what was causing the error, that's as far as I got before I left.
2014-06-05 16:25:35	jnoah	kennric: ok, so hilsboro is using moodle 2.2.6
2014-06-05 16:25:49	jnoah	(you can see the version in version.php)
2014-06-05 16:26:41	kennric	jnoah: the plugin should still work in 2.6, but I don't think it has been tested past 2.5
2014-06-05 16:27:07	jnoah	kennric: how about on 2.2
2014-06-05 16:27:16	jnoah	that's where hilsboro is at
2014-06-05 16:31:11	kennric	2.2 and 2.5 were tested
2014-06-05 16:32:22	jnoah	kennric: the moodle default admin does not work on beaverton or hilsboro
2014-06-05 16:34:51	kennric	jnoah: questions about the staging moodle sites are probably best directed to basic`
2014-06-05 16:46:04	jnoah	kennric: flvs22 is running 2.2.9
2014-06-05 22:15:34	<--	kennric (kennric@osuosl/staff/kennric) has quit (*.net *.split)
2014-06-05 22:15:37	<--	pono (pono@osuosl/staff/dspt) has quit (*.net *.split)
2014-06-05 22:15:37	<--	mathuin (jmt@osuosl/staff/mathuin) has quit (*.net *.split)
2014-06-05 22:15:40	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (*.net *.split)
2014-06-05 22:15:42	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (*.net *.split)
2014-06-05 22:15:42	<--	manatee (manatee@ash.osuosl.org) has quit (*.net *.split)
2014-06-05 22:15:43	<--	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has quit (*.net *.split)
2014-06-05 22:15:44	<--	tschuy (~tschuye@osuosl/staff/tschuy) has quit (*.net *.split)
2014-06-05 22:15:45	<--	MaraJade (goossenm@osuosl/staff/MaraJade) has quit (*.net *.split)
2014-06-05 22:27:33	-->	pono (pono@osuosl/staff/dspt) has joined #osuosl-dev
2014-06-05 22:27:33	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-05 22:27:33	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-05 22:27:33	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-06-05 22:27:33	-->	tschuy (~tschuye@osuosl/staff/tschuy) has joined #osuosl-dev
2014-06-05 22:27:33	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-05 22:27:33	-->	MaraJade (goossenm@osuosl/staff/MaraJade) has joined #osuosl-dev
2014-06-05 22:27:33	-->	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has joined #osuosl-dev
2014-06-05 22:27:33	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-05 22:28:53	<--	kennric (kennric@osuosl/staff/kennric) has quit (*.net *.split)
2014-06-05 22:28:56	<--	pono (pono@osuosl/staff/dspt) has quit (*.net *.split)
2014-06-05 22:28:56	<--	mathuin (jmt@osuosl/staff/mathuin) has quit (*.net *.split)
2014-06-05 22:28:59	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (*.net *.split)
2014-06-05 22:29:01	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (*.net *.split)
2014-06-05 22:29:01	<--	manatee (manatee@ash.osuosl.org) has quit (*.net *.split)
2014-06-05 22:29:02	<--	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has quit (*.net *.split)
2014-06-05 22:29:04	<--	tschuy (~tschuye@osuosl/staff/tschuy) has quit (*.net *.split)
2014-06-05 22:29:04	<--	MaraJade (goossenm@osuosl/staff/MaraJade) has quit (*.net *.split)
2014-06-05 22:33:46	-->	pono (pono@osuosl/staff/dspt) has joined #osuosl-dev
2014-06-05 22:33:46	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-05 22:33:46	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-05 22:33:46	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-06-05 22:33:46	-->	tschuy (~tschuye@osuosl/staff/tschuy) has joined #osuosl-dev
2014-06-05 22:33:46	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-05 22:33:46	-->	MaraJade (goossenm@osuosl/staff/MaraJade) has joined #osuosl-dev
2014-06-05 22:33:46	-->	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has joined #osuosl-dev
2014-06-05 22:33:46	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-05 22:36:33	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (Ping timeout: 240 seconds)
2014-06-05 22:43:23	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-06 10:39:52	jnoah	deanj: just realized this...do we have the celery db url seporate from the app db uri for a reason?
2014-06-06 10:40:04	jnoah	shouldn't they be one in the same for our purposes?
2014-06-06 10:45:55	jnoah	why is moodle so terrible
2014-06-06 10:48:30	jnoah	kennric: is the "ORVSD Course Innstallation Plugin" producing logs anywhere (and if so, where can I find them)?
2014-06-06 10:54:47	kennric	it isn't, but the moodle log shoudl ahve some debugging messages in it
2014-06-06 10:55:12	kennric	feel free to locally edit the code to add some debug output though
2014-06-06 11:09:26	-->	pop_n_fresh (voigte@osuosl/staff/popnfresh) has joined #osuosl-dev
2014-06-06 11:22:26	pop_n_fresh	deanj | jnoah: I'm in today. If you want to go over ORVSD docs I should be up for it. I appologize for not being in the past two days.
2014-06-06 11:36:37	<--	pop_n_fresh (voigte@osuosl/staff/popnfresh) has quit (Quit: leaving)
2014-06-06 11:39:20	-->	pop_n_fresh (voigte@osuosl/staff/popnfresh) has joined #osuosl-dev
2014-06-06 11:48:44	kennric	jnoah: I'd like pop_n_fresh to also get familiar with the plugins, and the debugging process
2014-06-06 11:52:57	deanj	jnoah: I'll take a look at it when I get in. pop_n_fresh: We can also do docs when I get in.
2014-06-06 12:32:11	chance	ill probably be in around 1ish
2014-06-06 13:36:38	jnoah	kennric: where can i find the api key on a moodle25 site so that I can test install course on flvs-25.orvsd.org?
2014-06-06 13:38:30	kennric	site administration/plugins/web services/
2014-06-06 13:38:49	kennric	it is hard coded in the plugin
2014-06-06 13:39:00	jnoah	ah, ok
2014-06-06 13:40:41	jnoah	kennric: where in the plugin is that?
2014-06-06 13:42:19	kennric	where it sets up the web service, lib.php
2014-06-06 13:55:23	jnoah	deanj: are you showing up today?
2014-06-06 13:57:46	jnoah	deanj: looks like your /<category>/object/add may not be working
2014-06-06 13:58:02	jnoah	(that, or it's not ducumented how to properly use it)
2014-06-06 15:11:05	muricula	kennric: did you want to talk to me about something? 
2014-06-06 15:12:58	kennric	muricula: just the state of the orvsd-central cookbook, and whether it can deploy two instances, on e staging and one production
2014-06-06 15:13:08	muricula	Yes
2014-06-06 15:14:50	kennric	we have machines to deploy to, can you work with armiller, jnoah and deanj to deploy a staging site?
2014-06-06 15:14:57	muricula	sure
2014-06-06 15:15:21	muricula	jnoah: and deanj when to grab a snack, they'll be back soon
2014-06-06 15:34:34	jnoah	back
2014-06-06 16:55:22	jnoah	so, it's trying '1' for an id. Aren't id's always a number?
2014-06-07 01:58:39	<--	lucyw (wymanl@osuosl/staff/lucyw) has quit (*.net *.split)
2014-06-07 01:58:39	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (*.net *.split)
2014-06-07 01:58:54	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-07 01:58:54	-->	lucyw (wymanl@osuosl/staff/lucyw) has joined #osuosl-dev
2014-06-07 02:01:14	<--	lucyw (wymanl@osuosl/staff/lucyw) has quit (*.net *.split)
2014-06-07 02:01:15	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (*.net *.split)
2014-06-07 02:01:18	<--	kennric (kennric@osuosl/staff/kennric) has quit (*.net *.split)
2014-06-07 02:01:21	<--	pono (pono@osuosl/staff/dspt) has quit (*.net *.split)
2014-06-07 02:01:21	<--	mathuin (jmt@osuosl/staff/mathuin) has quit (*.net *.split)
2014-06-07 02:01:24	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (*.net *.split)
2014-06-07 02:01:26	<--	manatee (manatee@ash.osuosl.org) has quit (*.net *.split)
2014-06-07 02:01:26	<--	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has quit (*.net *.split)
2014-06-07 02:01:28	<--	tschuy (~tschuye@osuosl/staff/tschuy) has quit (*.net *.split)
2014-06-07 02:01:28	<--	MaraJade (goossenm@osuosl/staff/MaraJade) has quit (*.net *.split)
2014-06-07 02:01:46	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-07 02:01:46	-->	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has joined #osuosl-dev
2014-06-07 02:01:46	-->	MaraJade (goossenm@osuosl/staff/MaraJade) has joined #osuosl-dev
2014-06-07 02:01:46	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-07 02:01:46	-->	tschuy (~tschuye@osuosl/staff/tschuy) has joined #osuosl-dev
2014-06-07 02:01:46	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-06-07 02:01:46	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-07 02:01:46	-->	pono (pono@osuosl/staff/dspt) has joined #osuosl-dev
2014-06-07 02:01:46	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-07 02:01:46	-->	lucyw (wymanl@osuosl/staff/lucyw) has joined #osuosl-dev
2014-06-07 02:02:03	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (*.net *.split)
2014-06-07 02:04:25	<--	lucyw (wymanl@osuosl/staff/lucyw) has quit (*.net *.split)
2014-06-07 02:04:30	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-07 02:11:25	-->	lucyw (wymanl@osuosl/staff/lucyw) has joined #osuosl-dev
2014-06-09 01:59:07	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (Ping timeout: 240 seconds)
2014-06-09 10:46:40	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-09 11:40:56	jnoah	kennric: http://pastebin.osuosl.org/7801/
2014-06-09 11:41:16	jnoah	that's the only diff between the moodle2 and moodle25 folders in the createcourse plugin repo
2014-06-09 11:42:45	jnoah	looks like the location and variable used for backups may be different
2014-06-09 11:45:29	kennric	jnoah: ok, then 2.5 is the correct code
2014-06-09 11:46:01	kennric	lets remove the other from the repo
2014-06-09 11:46:07	jnoah	k, will do
2014-06-09 11:46:44	jnoah	jordan is out for until 1-ish, so we may get some moodle25 (or later) sites to play with then
2014-06-09 11:48:04	jnoah	kennric: removed and pushed
2014-06-09 12:02:13	jnoah	kennric: were you able to find the flvs-25 location?
2014-06-09 12:02:25	jnoah	I'd like to jump on that server and poke around a bit
2014-06-09 12:04:26	chance	kennric: im going to merge this branch into develop
2014-06-09 12:04:47	chance	and then try and deploy it to our existing staging server
2014-06-09 12:05:10	chance	and when jordan is around, after my final, ill try to get staging.g.o.o (the new staging) up with chef
2014-06-09 12:08:02	kennric	chance: do you need to merge it to test it on staging? Can you deploy the branch to staging?
2014-06-09 12:08:23	chance	well its getting merged sooner or later, its been tested in just about every case
2014-06-09 12:08:34	chance	not to mention i already merged it
2014-06-09 12:08:39	chance	if there are issues, we make more branches
2014-06-09 12:09:12	kennric	with all the unforseen issues we keep runnign into, it might be a good idea to start deploying our branches to staging as a first test before merging with develop
2014-06-09 12:09:37	kennric	but I suppose it doesn't matter for this one, since you already merged
2014-06-09 12:09:48	kennric	go ahead, and let me know how it goes
2014-06-09 12:10:05	jnoah	kennric: what box did you ssh into for the flvs site (but ended up on the wrong box)
2014-06-09 12:12:15	chance	kennric: oh yeah i remember why i didnt want to deploy to our current staging server
2014-06-09 12:12:34	chance	our setup script doesnt work cause the virtualenv version doesnt allow the --setuptools options
2014-06-09 12:12:56	kennric	chance: well, that's good to know - what version is on there?
2014-06-09 12:12:57	chance	guess i can try upgrading :<
2014-06-09 12:13:09	kennric	jnoah: one of the php nodes, php5 I think
2014-06-09 12:13:22	chance	1.0 something
2014-06-09 12:13:31	chance	current is 1.11.6
2014-06-09 12:13:43	chance	easy enough to fix.
2014-06-09 12:13:54	jnoah	kennric: no worries. i greped logs and found it
2014-06-09 12:14:36	jnoah	and yeah, there's not a moodle instance on there :/
2014-06-09 12:16:45	kennric	chance: that is a little worrying for our plan to make it easily deployable by anyone
2014-06-09 12:26:44	chance	kennric: we only support specific distros, namely not gentoo
2014-06-09 12:26:59	chance	it detects debian/centos/ubuntu
2014-06-09 12:31:05	chance	huzzah
2014-06-09 12:31:11	chance	staging is running develop
2014-06-09 12:33:51	chance	minus novnc being 404ing
2014-06-09 12:33:53	kennric	woo hoo! and is everythoing working? We need to get some systems people banging on it
2014-06-09 12:33:53	chance	hrmm
2014-06-09 12:33:57	chance	well, some of it
2014-06-09 12:34:01	 *	chance investigates
2014-06-09 12:34:27	chance	ah, i see what happened >.<
2014-06-09 12:39:17	chance	forgot about the vnc assets being in the include dir
2014-06-09 12:39:19	chance	heh
2014-06-09 12:39:45	kennric	that would do it, easy fix?
2014-06-09 12:39:50	chance	yeah 1 line change
2014-06-09 12:42:20	chance	also got vnc up
2014-06-09 12:42:27	chance	using the new install's virtualenv
2014-06-09 12:42:30	chance	running 1.1.1
2014-06-09 12:42:36	chance	encryption is working
2014-06-09 12:44:43	chance	now its a matter of making sure the cookbook works, and getting it to configure apache
2014-06-09 12:44:45	chance	which shouldnt be hard
2014-06-09 12:44:52	chance	only thing needed is the apache part and databag setup
2014-06-09 12:45:00	kennric	fingers crossed
2014-06-09 12:45:33	chance	i can work more this week
2014-06-09 12:45:42	chance	so im sure we'll get enough done
2014-06-09 12:45:47	chance	ive also got monday/tuesday next week
2014-06-09 12:58:33	kennric	muricula: how goes the chef?
2014-06-09 13:39:58	jnoah	kennric: i have a fix for the plugin I want to try, but we need our test moodle sites
2014-06-09 13:40:07	jnoah	or at least a test moodle site
2014-06-09 13:43:14	kennric	jnoah: well, they aren't set up yet, and jordane is out - but maybe we can get another systems person to pick up the ticket...
2014-06-09 13:43:23	kennric	https://rt.orvsd.org/Ticket/Display.html?id=122517
2014-06-09 13:43:39	jnoah	kennric: jordane should be on about now...iirc from his email anyway
2014-06-09 13:44:48	jnoah	oh, that has changed. looks like he is out for the day
2014-06-09 13:44:54	jnoah	jordane: happy birthday!
2014-06-09 13:59:52	kennric	jnoah: I have to run out for lunch/errands, but when I get back I'll see if I can deploy a few sites to the old staging server using the jenkins job, sounds like systems is swamped at the moment
2014-06-09 14:11:13	muricula	kennric: I won't be in today. I'm not sure whether I will be in tomorrow either, that depends how my homework/projects go today.
2014-06-09 15:10:15	jnoah	kennric: ok, sounds good
2014-06-09 15:10:47	jnoah	kennric: since we are doing moodle 2.6+, might as well deploy only that version and we'll just test from there
2014-06-09 15:18:50	deanj	Oh, just a heads up that I'll be in Tuesday, Wednesday, Thursday, and possibly Friday morning.
2014-06-09 15:20:59	jnoah	deanj: when're your finals?
2014-06-09 15:21:18	jnoah	Also, I hate moodle documentation.
2014-06-09 15:22:50	jnoah	kennric: http://docs.moodle.org/dev/lib/formslib.php_Form_Definition#Most_Commonly_Used_PARAM_.2A_Types PARAM_INT is a possible fix
2014-06-09 15:22:51	manatee	jnoah's tiny URL is http://bit.ly/1kf4tpi
2014-06-09 16:21:35	jnoah	deanj: i'm not seeing you on the dev calendar. Are you coming in at all this week?
2014-06-09 16:22:18	jnoah	(just read backlog...derp) what times will you be in? you and pop_n_fresh should finish up the documentation ASAP
2014-06-09 17:52:34	deanj	9-5 ideally on those days.
2014-06-09 18:09:47	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (Remote host closed the connection)
2014-06-09 18:17:26	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-09 20:38:40	pop_n_fresh	deanj | jnoah: If you need me in tomorrow I can do some documentation for ORVSD. Ping me with the times that work best.
2014-06-09 20:41:04	pop_n_fresh	11-3 works best for me. I have to get some math help form 3-5pm.
2014-06-09 20:41:15	pop_n_fresh	*from
2014-06-10 08:43:36	<--	manatee (manatee@ash.osuosl.org) has quit (Remote host closed the connection)
2014-06-10 08:43:59	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-10 10:48:57	jnoah	kennric: are you in?
2014-06-10 10:49:01	<--	kennric (kennric@osuosl/staff/kennric) has quit (Quit: leaving)
2014-06-10 10:49:51	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-06-10 10:51:58	kennric	just killed irssi and logged out to refresh my session, but just as it was dying I saw someone say somethign to me here - but missed what it was
2014-06-10 10:53:10	jnoah	kennric: was me just seeing if you were in
2014-06-10 10:53:38	kennric	jnoah: yes, I am in
2014-06-10 10:54:07	jnoah	sweet, how are the moodle sites coming along?
2014-06-10 10:54:16	jnoah	Anything I can do to help getting them setup?
2014-06-10 10:55:53	kennric	they are not - turns setting up the vhosts, dns, etc, is too much trouble for a temporary fix
2014-06-10 10:56:50	jnoah	joy :(
2014-06-10 10:57:07	<--	mathuin (jmt@osuosl/staff/mathuin) has quit (Quit: ZNC - http://znc.in)
2014-06-10 11:03:11	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-10 11:24:12	pop_n_fresh	jnoah | deanj: I'm studying at the library but if you want to work on orvsd docs ping me and I'll come in.
2014-06-10 11:24:51	jnoah	pop_n_fresh, deanj is in right now. You two may want to coordinate a time to finish the documentation
2014-06-10 11:26:39	deanj	pop_n_fresh: I'd like to start finishing it up with you no later than Wednesday, so I'm sure it gets done before I go. If you have time today to work on it with me though, that would be sweet.
2014-06-10 11:31:25	deanj	kennric: Do you know how long until we can get a moodle 2.6 site up?
2014-06-10 11:31:36	pop_n_fresh	i can be there in 10.
2014-06-10 11:32:01	deanj	pop_n_fresh: Cool, as long as it doesn't interfere with doing well with your finals.
2014-06-10 11:35:37	kennric	deanj: it's up to systems, but I'll see if I can hurry things along
2014-06-10 11:36:21	deanj	kennric: I can try to assist if needed. Functionality wise, ORVSD Central seems to work great; We just need to finish up docs and make sure you guys can do the course installs over the summer.
2014-06-10 11:41:46	jnoah	deanj: so, looking at 13203....all the code on that branch has been merged into develop....by you...https://code.osuosl.org/issues/13203
2014-06-10 11:41:55	jnoah	where were you actually at with the bug?
2014-06-10 11:42:14	jnoah	The only comment from you is "I pushed some code for this, but it hasn't been tested because it needs to be tested on prod."
2014-06-10 11:43:26	deanj	jnoah: Yeah.. I know, I'm not sure what happened with that really. But the bug is *exactly* where it says in the comment. I added in some more logic and it wasn't tested because I thought it needed to be tested on prod.
2014-06-10 11:43:57	jnoah	the comment is vague. it says you added stuff, but not *what* you added.
2014-06-10 11:44:18	jnoah	there are a lot of little things in the description. what parts did you add or did you get it all done, just not tested?
2014-06-10 11:45:19	deanj	Whatever it says in the bug.
2014-06-10 11:45:29	jnoah	it doesn't
2014-06-10 11:45:32	jnoah	that's my point
2014-06-10 11:45:38	deanj	.. the bug description.
2014-06-10 11:45:48	jnoah	so you did all of it?
2014-06-10 13:33:18	<--	tschuy (~tschuye@osuosl/staff/tschuy) has quit (*.net *.split)
2014-06-10 13:33:18	<--	MaraJade (goossenm@osuosl/staff/MaraJade) has quit (*.net *.split)
2014-06-10 13:39:29	-->	MaraJade (goossenm@osuosl/staff/MaraJade) has joined #osuosl-dev
2014-06-10 13:42:48	deanj	kennric: *Should* be my finalized schedule as long as nothing comes up: Tuesday, Wednesday, Thursday 10/11 - 5. I'll throw it on the calendar for reference for anyone who needs me.
2014-06-10 13:43:34	kennric	deanj: thanks
2014-06-10 13:51:30	<--	mathuin (jmt@osuosl/staff/mathuin) has quit (Disconnected by services)
2014-06-10 13:52:18	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-10 14:04:18	jnoah	deanj: the bug we just discussed, I'll open it, but I think that'll be a great thing for pop_n_fresh to work on when you guys are done with the documentation
2014-06-10 14:06:30	jnoah	deanj: created and assigned to pop_n_fresh
2014-06-10 14:09:25	deanj	jnoah: nice, sounds good.
2014-06-10 14:42:20	pop_n_fresh	jnoah: Heading out for the day but I'll work on that bug tomorrow.
2014-06-10 14:51:22	jnoah	pop_n_fresh: no worries, I think it can be put off until documentation is done
2014-06-10 15:40:18	jnoah	i like how we have one commit by `=` in our history
2014-06-10 15:40:23	jnoah	deanj: ^
2014-06-10 15:58:09	deanj	Hahaha, yeah..
2014-06-10 16:13:49	jnoah	deanj: ping
2014-06-10 16:13:55	jnoah	i thought you merged 16323?
2014-06-10 16:14:04	jnoah	the bug is still tagged as needs review
2014-06-10 16:15:16	deanj	jnoah: Oops, I'll go fix that.
2014-06-10 20:09:05	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (Remote host closed the connection)
2014-06-10 20:09:31	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-10 23:00:12	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (Ping timeout: 245 seconds)
2014-06-10 23:01:39	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-11 08:57:15	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (Quit: *poof*)
2014-06-11 08:57:41	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-11 10:45:28	pono	mathuin MaraJade When did we want to schedule the pgd meeting?
2014-06-11 11:10:10	jnoah	deanj: gather_siteinfo is some magic...
2014-06-11 11:15:28	deanj	Just found out my landlord is coming over in an hour, so I need to be around the house to talk with him about something. I'll just be working from here until he comes. Sorry for the late notice!
2014-06-11 11:52:31	pop_n_fresh	jnoah | deanj: What version of ORVSD Central are we on?
2014-06-11 11:55:17	jnoah	0.0.0
2014-06-11 11:55:26	jnoah	we will be releasing 0.1.0 soon
2014-06-11 11:55:40	jnoah	(Though we may want to change it to 1.0...we've done a lot)
2014-06-11 11:55:42	deanj	Technically 0.0, but we're gonna push 0.1 once we confirm install course works properly.
2014-06-11 11:56:01	pop_n_fresh	Just setting up sphinx docs and it asked. Thanks.
2014-06-11 11:56:26	jnoah	pop_n_fresh: our config should say 0.1.0 iirc
2014-06-11 12:38:03	jnoah	kennric: https://moodle.org/mod/forum/discuss.php?d=201041#p971560
2014-06-11 12:38:17	jnoah	Error: "Can not find data record in database table course_categories."
2014-06-11 12:38:24	jnoah	seems like we may have bad data?
2014-06-11 12:40:13	kennric	jnoah: I think there is a course category set somewhere in the course file itself, or what we are sending it, that is not in the database
2014-06-11 12:44:09	jnoah	yet i was getting a sql query error
2014-06-11 12:45:07	kennric	did you look at the database?
2014-06-11 12:49:44	jnoah	no, i've not been where flvs-25 is hosted yet
2014-06-11 12:51:28	jnoah	kennric: http://pastebin.osuosl.org/7846/
2014-06-11 12:52:28	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (Remote host closed the connection)
2014-06-11 12:55:10	deanj	jnoah: So the id is a string and it should be an int I guess?
2014-06-11 13:01:58	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-11 13:02:16	jnoah	that's my guess
2014-06-11 13:08:53	kennric	jnoah: what user info are you sending it?
2014-06-11 13:39:54	<--	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has quit (*.net *.split)
2014-06-11 13:40:18	-->	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has joined #osuosl-dev
2014-06-11 14:18:27	<--	lucyw (wymanl@osuosl/staff/lucyw) has quit (*.net *.split)
2014-06-11 14:28:42	deanj	jnoah: can you put a vagrantfile in pop_n_fresh's homedir?
2014-06-11 14:38:51	pop_n_fresh	jnoah: Vagrant file?
2014-06-11 14:43:27	jnoah	deanj, pop_n_fresh sorry, was waiting on things
2014-06-11 14:43:31	jnoah	http://pastebin.osuosl.org/7851/
2014-06-11 14:44:04	deanj	jnoah: Already did it
2014-06-11 14:44:28	jnoah	k, sorry 'bout that
2014-06-11 14:49:05	chance	jordane:
2014-06-11 14:49:13	chance	i think my cookbook is ready for primtime
2014-06-11 14:49:15	chance	primetime, even.
2014-06-11 14:53:14	chance	so, what do i need to do in order to get my cookbook deployed onto our staging vm
2014-06-11 15:13:44	deanj	jnoah: Mind pastebin'ing your config too?
2014-06-11 15:17:36	jnoah	deanj: first link from google for "mysql grant" http://dev.mysql.com/doc/refman/5.1/en/grant.html
2014-06-11 15:18:17	jnoah	when you see the first example, the first line "CREATE USER..." make it something like 'orvsd'@%
2014-06-11 15:18:30	jnoah	iirc the % is NOT in quotes
2014-06-11 15:18:54	jnoah	then just use the last line of that first example for the grant
2014-06-11 15:19:07	jnoah	(First and last lines with the user/pass you want)
2014-06-11 15:20:01	jnoah	REATE USER 'orvsd'@% IDENTIFIED BY 'central';
2014-06-11 15:20:03	jnoah	GRANT USAGE ON *.* TO 'orvsd'@%;
2014-06-11 15:20:06	jnoah	there, that should be it
2014-06-11 15:20:16	jnoah	deanj: ^
2014-06-11 15:20:28	jnoah	pop_n_fresh: ^
2014-06-11 15:21:08	deanj	jnoah: The create user syntax is wrong.
2014-06-11 15:21:15	deanj	I think we do put the % in quotes.
2014-06-11 15:21:32	jnoah	ok, i couldn't remember
2014-06-11 15:23:13	jnoah	then in default.py SQLALCHEMY_DB_URI = 'mysql://orvsd:central@127.0.0.1/central'
2014-06-11 15:23:34	deanj	operation failed
2014-06-11 15:23:51	pop_n_fresh	^for create user
2014-06-11 16:19:19	chance	alright, im branching off of develop for our release branch
2014-06-11 16:19:45	chance	kennric: ^
2014-06-11 16:22:00	kennric	chance: did anyone else test on staging? Systems people?
2014-06-11 16:22:47	chance	idk
2014-06-11 16:23:16	chance	no one actually tests or even uses gwm
2014-06-11 16:23:20	chance	staging or prod really
2014-06-11 16:25:35	kennric	ok, I'll see if I can get someone to hit it tomorrow
2014-06-11 17:30:26	jnoah	kennric: ping, you around?
2014-06-11 17:56:10	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (Remote host closed the connection)
2014-06-11 17:58:25	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-11 20:15:17	-->	tschuy (~tschuye@osuosl/staff/tschuy) has joined #osuosl-dev
2014-06-12 09:22:35	kennric	jnoah: pong
2014-06-12 09:27:53	Ramereth	chance: moving feedback to here re: gwm staging
2014-06-12 09:28:04	chance	ok
2014-06-12 09:28:12	chance	you already found problems?
2014-06-12 09:28:16	Ramereth	chance: seems weird that you use a checkbox for template or virtual machine when creating
2014-06-12 09:28:19	Ramereth	why isn't it a drop down?
2014-06-12 09:28:25	chance	cause you can make both
2014-06-12 09:28:35	Ramereth	ah
2014-06-12 09:28:55	chance	it's also been like that since 0.10
2014-06-12 09:28:58	chance	:D
2014-06-12 09:29:06	chance	is gtest2 down?
2014-06-12 09:29:12	Ramereth	why doesn't owner default to my own user?
2014-06-12 09:30:09	chance	dont know
2014-06-12 09:30:36	Ramereth	masterd is back up on gtest2
2014-06-12 09:31:11	chance	it probably could make your user default, but its never done that, and the vm wizard was added in half done
2014-06-12 09:31:20	chance	so the only work on it that's been done is mostly fixing the half-done part
2014-06-12 09:31:26	chance	(thanks corbin)
2014-06-12 09:31:51	Ramereth	i realize this are minor feature-related stuff
2014-06-12 09:32:00	Ramereth	i'm just stating things I notice as a user
2014-06-12 09:32:02	chance	also possible that a user creating the VM can't be owner, but could still be a default
2014-06-12 09:32:17	chance	nonetheless, feature time is over
2014-06-12 09:32:22	chance	xD
2014-06-12 09:33:01	Ramereth	is there any reason why its kind of slow?
2014-06-12 09:33:13	chance	i dont know
2014-06-12 09:33:26	chance	its not on newrelic anymore, and its not set up with any other benchmarking tools
2014-06-12 09:33:50	chance	could just be rapi calls too, depending on what your doing
2014-06-12 09:33:56	chance	especially if its to a cluster timing out
2014-06-12 09:34:42	Ramereth	check ip and check hostname should be enabled by default
2014-06-12 09:35:08	chance	they're not because if you dont use a valid fqdn it breaks
2014-06-12 09:35:11	chance	err
2014-06-12 09:35:14	chance	it errors
2014-06-12 09:35:18	Ramereth	uhm
2014-06-12 09:35:19	Ramereth	that's kind of the point
2014-06-12 09:35:33	Ramereth	in a normal production env the dns record should be created first
2014-06-12 09:35:39	chance	i mean
2014-06-12 09:35:42	chance	if you create a vm 'foo'
2014-06-12 09:35:45	chance	instead of 'foo.example.org'
2014-06-12 09:35:47	Ramereth	but that's not normal
2014-06-12 09:35:53	chance	seems normalish
2014-06-12 09:35:57	Ramereth	how?
2014-06-12 09:36:00	Ramereth	maybe for testing
2014-06-12 09:36:09	chance	we have vm's that done have fqdn's
2014-06-12 09:36:13	Ramereth	but for prod you have to use a FQDN
2014-06-12 09:36:13	chance	dont*
2014-06-12 09:36:21	Ramereth	not for prod
2014-06-12 09:36:22	chance	it can be added.
2014-06-12 09:36:30	Ramereth	that really needs to be on by default
2014-06-12 09:36:42	chance	i dont have any way to test what happens if you use it though
2014-06-12 09:36:44	Ramereth	i realize its annoying for testing, but for prod it actually enabled
2014-06-12 09:37:01	chance	can you create a vm with an existing DNS entry to test it please?
2014-06-12 09:37:03	Ramereth	oh fun! i got an error page without an error :)
2014-06-12 09:37:36	chance	most errors go to logs,
2014-06-12 09:37:40	chance	dont want tracebacks on the frontpage
2014-06-12 09:37:44	chance	err on the main page
2014-06-12 09:37:52	Ramereth	I didn't do anything funky, just created a vm
2014-06-12 09:37:58	Ramereth	you might take a look and see what happened
2014-06-12 09:38:28	chance	oops forgot permissions on whoosh_index folder
2014-06-12 09:38:39	Ramereth	vnc is working \o/
2014-06-12 09:39:52	chance	so here's one thing im not sure of the proper way to handle
2014-06-12 09:40:02	chance	i set the wsgi_process group to 'ganeti_webmgr' in my apache vhost
2014-06-12 09:40:11	chance	so apparently apache changes users to run the python stuf
2014-06-12 09:40:33	chance	and in that case, the folder for the whoosh_index needs to be writable/readable to that group
2014-06-12 09:40:48	chance	atm its root:root 755
2014-06-12 09:41:01	chance	should it be root:ganeti_webmgr 766?
2014-06-12 09:41:23	Ramereth	ideally its best to create a service user for the app and just make it that user owned
2014-06-12 09:41:36	Ramereth	makes things a lot easier to manage
2014-06-12 09:41:38	chance	or root:apache?
2014-06-12 09:41:46	chance	yeah, i was thinking that.
2014-06-12 09:41:52	Ramereth	but for a permission you would want 770
2014-06-12 09:41:52	chance	useradd ganeti_webmgr?
2014-06-12 09:42:13	Ramereth	or 774
2014-06-12 09:42:27	Ramereth	well, you want to probably not give it a shell and set the homedir to where the app lives
2014-06-12 09:42:29	chance	this is on pine
2014-06-12 09:42:53	chance	i have no idea, this is why i like sysadmins to do deployment
2014-06-12 09:42:56	chance	:<
2014-06-12 09:43:21	Ramereth	you need to learn how to do it so you understand how things work in a prod env
2014-06-12 09:43:31	Ramereth	it will make you a much better developer in the long run
2014-06-12 09:44:26	chance	:<
2014-06-12 09:44:44	chance	i know 90%, if a sysadmin tells me to create the user account for an app deploy in my future job im afraid of that job :|
2014-06-12 09:45:03	chance	so what do i need to do then to setup/create an account properly
2014-06-12 09:46:32	Ramereth	jordane: can you help chance  with this? i need to go chat with josh before I head out
2014-06-12 09:47:48	chance	another problem with being root is when i run django-admin.py update_index for search, it creates the index files as root:root
2014-06-12 09:49:18	chance	aha chgrp + umask
2014-06-12 10:36:10	chance	jordane: the 'normal' key in the node file is the attributes right?
2014-06-12 10:37:44	jordane	yes
2014-06-12 10:38:40	chance	k
2014-06-12 10:40:58	chance	should be all set once things are setup
2014-06-12 13:29:49	jnoah	pop_n_fresh: http://tecadmin.net/how-to-setup-moodle-on-centos-rhel-6/#
2014-06-12 13:29:51	manatee	jnoah's tiny URL is http://bit.ly/1kRDF3h
2014-06-12 13:30:35	jnoah	admin/settings.php?section=debugging location on a moodle site to change the Debug Messages log level
2014-06-12 15:18:53	--	Mode #osuosl-dev [+o jordane] by ChanServ
2014-06-12 15:20:50	-->	lrr (stumped2@osuosl/staff/stumped2) has joined #osuosl-dev
2014-06-12 15:21:40	--	Mode #osuosl-dev [-o jordane] by ChanServ
2014-06-12 15:21:54	<--	lrr (stumped2@osuosl/staff/stumped2) has left #osuosl-dev ("WeeChat 0.4.3")
2014-06-12 16:06:39	pop_n_fresh	Should I install moodle on Vagrant?
2014-06-12 16:19:12	kennric	pop_n_fresh: can you clone: https://github.com/orvsd/moodle25
2014-06-12 16:20:32	kennric	pop_n_fresh: what is your github username?
2014-06-12 16:23:36	pop_n_fresh	kennric: ElijahCaine
2014-06-12 16:25:11	Ramereth	chance: echo 12.04 | cut -d . -f 1
2014-06-12 17:01:02	chance	so i think i got it mostly working, running into an issue with the db pass
2014-06-12 17:01:56	chance	telling me im not using a password, so it seems the databag isnt set up correctly
2014-06-12 17:02:13	chance	oh i see why
2014-06-12 17:02:20	chance	>.<
2014-06-12 17:27:25	chance	ill have to fix this internationalization issue later..urg
2014-06-12 17:27:30	chance	and the db pass.
2014-06-13 11:02:14	deanj	I should be in around 12:30/1 btw.
2014-06-16 04:58:43	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-06-16 04:58:58	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-16 08:40:15	<--	manatee (manatee@ash.osuosl.org) has quit (Remote host closed the connection)
2014-06-16 08:40:36	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-16 08:55:16	pono	kennric: What kind of access does pop_n_fresh need from fir?
2014-06-16 09:02:10	kennric	he just wanted to ssh to stagingwww.orvsd, which I believe you need to do as root from fir
2014-06-16 09:02:19	kennric	if there is a better way, let me know
2014-06-16 09:15:59	pono	kennric: It seems like johnsdea has ssh access to stagingwww.orvsd, is the normal workflow as your own user?
2014-06-16 09:18:03	kennric	pono: I don't think there is a normal workflow, I log in via fir/root, I didn't know johnsdea had ssh access
2014-06-16 09:18:27	kennric	pop_n_fresh mostly just needs to look around there, root access not necessary for now
2014-06-16 09:19:00	pono	Okay, I access for his user.
2014-06-16 09:21:16	kennric	thanks!
2014-06-16 09:21:37	kennric	pop_n_fresh: let me know if you have questions about the layout on stagingwww
2014-06-16 09:21:50	pop_n_fresh	okay. Will do.
2014-06-16 09:23:01	pop_n_fresh	What's the ssh command for logging into fir?
2014-06-16 09:25:53	kennric	ssh fir
2014-06-16 09:26:09	kennric	pono: you gave him access to fir, or access to stagingwww?
2014-06-16 09:26:37	pono	stagingwww
2014-06-16 09:27:22	pop_n_fresh	Awesome, I got it.
2014-06-16 09:51:52	pop_n_fresh	I don't have permission to look around at most of what I need to see.
2014-06-16 09:57:46	pono	pop_n_fresh: Which directories?
2014-06-16 10:00:51	pop_n_fresh	/data/moodledata/osl/ , /var/tmp/orvsdplatform/
2014-06-16 10:02:15	pop_n_fresh	Don't worry about the first one, I found a workaround.
2014-06-16 11:56:51	jnoah	hey all, forgot to send an OoO. I'm out today to pack up. I'll be in tomorrow.
2014-06-16 11:56:58	jnoah	kennric: ^
2014-06-16 13:15:50	Ramereth	mathuin: 10.1.100.13
2014-06-16 13:16:04	mathuin	TYVM!
2014-06-16 14:07:15	pop_n_fresh	I'm having a lot of trouble setting up moodle on a vagrant box. Does anybody have experience wtih this that can help?
2014-06-16 14:07:25	pop_n_fresh	*with
2014-06-16 14:08:47	pono	Problems with moodle or vagrant or both?
2014-06-16 14:09:24	chance	i remember moodle, it shouldnt be that bad. just mostly cping some files, create a database and run the web installer
2014-06-16 14:09:54	chance	 if you never set up apache/databases up before it might be a bit troublesome though
2014-06-16 14:11:52	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (Ping timeout: 245 seconds)
2014-06-16 14:13:01	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-16 14:46:22	pop_n_fresh	pono | chance: kennric and I got it set up. Thank you.
2014-06-16 15:36:34	pop_n_fresh	kennric: I have access to stagingwww.orvsd.org now. Thank you pono.
2014-06-16 15:38:32	pop_n_fresh	Oh wait, I checked the wrong directory. I still get 'permission denied'
2014-06-16 16:22:41	mathuin	Does the vagrant-osuosl repo have an associated project on code.o.o or elsewhere?
2014-06-16 16:26:36	jnoah	pop_n_fresh: when do you plan on being in tomorrow? I'm planning to get in at about 9-9:30 then staying for a full day
2014-06-16 16:27:14	pop_n_fresh	I'm planning on 9-5
2014-06-16 16:28:30	kennric	jnoah: we have testing moodle sites now
2014-06-16 16:28:46	jnoah	`awesome!
2014-06-16 16:43:27	kennric	please poke around on oc-test1.stg.orvsd.org (and test2, test3) - the front-end is acting weird for me
2014-06-16 21:12:04	chance	mathuin: i dont think there's a project page for it
2014-06-16 21:12:17	chance	although i think it is on gitolite right?
2014-06-17 01:19:43	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (*.net *.split)
2014-06-17 01:19:45	<--	manatee (manatee@ash.osuosl.org) has quit (*.net *.split)
2014-06-17 01:19:50	<--	mathuin (jmt@osuosl/staff/mathuin) has quit (*.net *.split)
2014-06-17 01:19:51	<--	MaraJade (goossenm@osuosl/staff/MaraJade) has quit (*.net *.split)
2014-06-17 01:19:52	<--	kennric (kennric@osuosl/staff/kennric) has quit (*.net *.split)
2014-06-17 01:19:54	<--	pono (pono@osuosl/staff/dspt) has quit (*.net *.split)
2014-06-17 01:22:50	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-17 01:22:50	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-17 01:22:50	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-17 01:22:50	-->	MaraJade (goossenm@osuosl/staff/MaraJade) has joined #osuosl-dev
2014-06-17 01:22:50	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-06-17 01:22:50	-->	pono (pono@osuosl/staff/dspt) has joined #osuosl-dev
2014-06-17 01:27:55	<--	tschuy (~tschuye@osuosl/staff/tschuy) has quit (Write error: Broken pipe)
2014-06-17 01:33:46	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (*.net *.split)
2014-06-17 01:33:47	<--	manatee (manatee@ash.osuosl.org) has quit (*.net *.split)
2014-06-17 01:33:52	<--	mathuin (jmt@osuosl/staff/mathuin) has quit (*.net *.split)
2014-06-17 01:33:53	<--	MaraJade (goossenm@osuosl/staff/MaraJade) has quit (*.net *.split)
2014-06-17 01:33:54	<--	kennric (kennric@osuosl/staff/kennric) has quit (*.net *.split)
2014-06-17 01:33:56	<--	pono (pono@osuosl/staff/dspt) has quit (*.net *.split)
2014-06-17 01:41:19	-->	pono (pono@osuosl/staff/dspt) has joined #osuosl-dev
2014-06-17 01:41:19	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-06-17 01:41:19	-->	MaraJade (goossenm@osuosl/staff/MaraJade) has joined #osuosl-dev
2014-06-17 01:41:19	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-17 01:41:19	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-17 01:41:19	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-17 01:56:24	<--	manatee (manatee@ash.osuosl.org) has quit (Ping timeout: 255 seconds)
2014-06-17 02:30:38	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-17 08:16:14	mathuin	It is on gitolite, I wanted to make an issue/pull-request to rename some env vars to match Openstack's documentation.
2014-06-17 08:16:20	mathuin	!check in
2014-06-17 08:28:57	--	deanj is now known as johnsdea
2014-06-17 08:29:02	--	johnsdea is now known as deanj
2014-06-17 08:30:44	kennric	mathuin, chance - vagrant-osuosl really ought to have a project page - it started as a place to stash all our vagrant stuff, but it is becoming somethign we maintain and add features to. We can make a project on Code, I don't know if there is anything particularly private in it that would make github a bad idea
2014-06-17 08:32:03	mathuin	I think it depends on what we plan on doing with it.  If it's to maintain generic "centos-6" style boxes, someone else is probably doing a better job. :-)  If it's to maintain "gwm" or "pgd" boxes, individual projects may be better homes.  I don't know.
2014-06-17 08:35:36	kennric	it should be for OSL-specific configurations, but you are probably right that individual projects should maintain their own vagrant code
2014-06-17 08:36:53	mathuin	One goal we have that may not be shared by other potential consumers is internal consistency for our hosting customers, so it may make perfect sense to keep the generic boxes and tell our next customer "pick a box from the github repo osuosl/boxesrus, build your stuff, make sure it works, and send us the vagrantfile" or something.
2014-06-17 08:37:01	mathuin	I'm somewhat unfamiliar with that side of the house.
2014-06-17 08:38:53	kennric	yeah, I am not sure how they use the boxes day to day, but they ought to have a project to, instead of doing the Systems way :)
2014-06-17 08:39:21	mathuin	Especially if they'd like us devs to start using their boxes for say openstack deploys.
2014-06-17 08:40:01	kennric	yep
2014-06-17 08:41:39	kennric	gwm is kind of an odd case, the project itself has a dev vagrant box, but the vagrant-osuosl ones are actually ganeti nodes for testing
2014-06-17 08:41:52	kennric	but both should probably be in gwm
2014-06-17 08:45:16	mathuin	Is the dev box suitable for prod?
2014-06-17 08:48:28	kennric	how do you mean?
2014-06-17 08:51:18	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-17 08:53:05	mathuin	There's no security issues with the dev box or anything that might preclude someone using it in production, right?  The only difference I know of is that the dev should have selenium and sphinx.
2014-06-17 08:56:12	kennric	other than the fact that it is a virtualbox vm running a mysql database, you mean? I suppose it coul dbe deployed as a production machine on openstack...
2014-06-17 09:04:10	mathuin	Is there anything required other than --provider="openstack" to make that work for production?  (Aside from settings.py and friends)
2014-06-17 09:08:46	kennric	I don't -think- so, but I have not explored that, and don't want to sell it as a working openstack config without some testing
2014-06-17 09:08:58	kennric	but ideally, that would be pretty nice
2014-06-17 09:16:03	mathuin	I'm about 95% done with making a Vagrantfile that will update the Centos image, install all the additional packages, build an arbitrary version of python, and install an arbitrary user and branch of PGD.
2014-06-17 09:16:25	mathuin	So far nothing I've done appears to have broken the VirtualBox provider...
2014-06-17 09:22:07	kennric	I'd say, if we can provide a tested vagrantfile that works with openstack and virtualbox, and make sure it is suitable for real use on openstack, then we should whenever we can - it doesn't cost us much but testing
2014-06-17 09:23:05	mathuin	We do need to make sure that we take all the OSL-specific magic out of our boxes, though, and stash it in our environments.  That's something I was going to bring up in the issue -- we use slightly different environment variables than Openstack docs describe, and some we hardcode and others we don't.
2014-06-17 09:25:00	kennric	which variables? The ones for our specific apps really should be namespaced
2014-06-17 09:29:02	mathuin	One that comes to mind is OS_TENANT versus OS_TENANT_NAME -- the latter is what Openstack uses for nova and other tools, the former is what we used.  Totally minor, but if you want to use nova to figure out the available flavors, you have to have it their way. ;-)
2014-06-17 09:29:17	mathuin	Another example is OS_AUTH_URL.  We have that hardcoded in the boxes when we probably shouldn't.
2014-06-17 09:30:15	kennric	yay for standards
2014-06-17 09:30:30	mathuin	Well, yay for not knowing about them and starting to set our own I guess.
2014-06-17 09:30:44	mathuin	I wanted to list flavors which is why I found out about those.
2014-06-17 09:31:05	mathuin	You need OS_AUTH_URL and OS_TENANT_NAME and I *think* OS_USERNAME and OS_PASSWORD to use that tool.
2014-06-17 09:31:17	kennric	I agree we should strive for compatibility as much as possible
2014-06-17 09:31:27	-->	tschuy (~tschuye@osuosl/staff/tschuy) has joined #osuosl-dev
2014-06-17 09:36:20	pop_n_fresh	pono: I don't have permission to see staging files on stagingwww.orvsd.org which I need to look at, specifically /data/moodledata/osl/* and /var/tmp/orvsdplatform/*
2014-06-17 10:03:44	jnoah	pop_n_fresh: ugh, alarm fail. i'll be in asap
2014-06-17 10:05:03	kennric	pop_n_fresh: are you abe to sudo?
2014-06-17 10:06:11	pop_n_fresh	"voigte is not in the sudoers file.  This incident will be reported."
2014-06-17 10:11:29	pop_n_fresh	kennric: ^
2014-06-17 10:12:03	kennric	yeah, I see, I will add you to the sudoers, but you have to promise not to break anything
2014-06-17 10:14:37	kennric	hmm, osldevs have sudo, can you do 'groups' and tell me what groups you are in?
2014-06-17 10:14:44	kennric	on stagingwww that is
2014-06-17 10:15:22	pop_n_fresh	"-bash-4.1$ groups
2014-06-17 10:15:24	pop_n_fresh	voigte sharedworkstation"
2014-06-17 10:15:42	pop_n_fresh	I guess I'm ont in the osldevs group.
2014-06-17 10:15:46	pop_n_fresh	*not
2014-06-17 10:16:20	kennric	you should be
2014-06-17 10:17:27	pop_n_fresh	Is it a complicated process to add me?
2014-06-17 10:18:29	kennric	I am asking on infra - I am not sure if that is comin from ldap on that machine or not, but we need to make sure you are in the right groups everywhere
2014-06-17 10:28:53	kennric	pop_n_fresh: give it a try now (log out and back into stagingwww)
2014-06-17 10:35:15	pop_n_fresh	w00tw00t
2014-06-17 10:35:32	pop_n_fresh	Sorry.
2014-06-17 10:35:38	pop_n_fresh	Wrong window
2014-06-17 10:38:33	pop_n_fresh	It works!
2014-06-17 10:40:24	kennric	od
2014-06-17 10:40:27	kennric	good
2014-06-17 10:44:36	pono	kennric: Whoever setup his ldap didn't have him in the osldev group.
2014-06-17 10:46:04	kennric	pono: yeah, thats what I was thinking, glad we got that fixed
2014-06-17 10:51:26	pop_n_fresh	Is there any way to scp files from staging / is that allowed? I keep getting permission denied when I try "scp -r stagingwww:/var/tmp/orvsdplatform ./"
2014-06-17 10:53:19	kennric	pop_n_fresh: why are you trying to copy that?
2014-06-17 11:39:58	pop_n_fresh	kennric: What should I name the foulder for the '$orvsdfqdn'?
2014-06-17 11:40:57	kennric	pop_n_fresh: anything you want, as long as it is consistent, I believe it has to match the fqdn for the moodle instance itself
2014-06-17 11:41:53	kennric	which might be 'localhost' - but since we want the vagrant box to eventually have multiple moodle instances (for various testing purposes), you should probably create some local fqdns
2014-06-17 11:42:30	pop_n_fresh	I'm calling the directory 'dev_stg' for now. I can change it if that turns out not to work later on.
2014-06-17 11:42:43	kennric	moodletest1.localhost, or moodle1.vagrant or something
2014-06-17 11:42:54	pop_n_fresh	Okay, I'll do that.
2014-06-17 11:43:12	kennric	just as long as you have the same hostname in nginx, hostname in /etc/hosts, and fqdn in the config.php
2014-06-17 12:02:05	pop_n_fresh	I don't remember setting up nginx before, is that something I need to do?
2014-06-17 12:03:14	kennric	oh, sorry, I mean apache
2014-06-17 12:03:46	pop_n_fresh	Ah. Okay
2014-06-17 12:09:19	<--	jordane (~jordane@osuosl/staff/jordane) has quit (Quit: ZNC - http://znc.in)
2014-06-17 12:11:05	-->	jordane (~jordane@osuosl/staff/jordane) has joined #osuosl-dev
2014-06-17 13:04:45	jnoah	pop_n_fresh: i'm in. I'm going to go through the tutorial i linked you, but use our moodle (basically what you've been working on). Hopefully I'll better understand some of the issues you were having and be of more help.
2014-06-17 13:19:40	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (*.net *.split)
2014-06-17 13:19:41	<--	jordane (~jordane@osuosl/staff/jordane) has quit (*.net *.split)
2014-06-17 13:19:44	<--	manatee (manatee@ash.osuosl.org) has quit (*.net *.split)
2014-06-17 13:19:46	<--	tschuy (~tschuye@osuosl/staff/tschuy) has quit (*.net *.split)
2014-06-17 13:19:46	<--	mathuin (jmt@osuosl/staff/mathuin) has quit (*.net *.split)
2014-06-17 13:19:47	<--	MaraJade (goossenm@osuosl/staff/MaraJade) has quit (*.net *.split)
2014-06-17 13:19:49	<--	kennric (kennric@osuosl/staff/kennric) has quit (*.net *.split)
2014-06-17 13:19:51	<--	pono (pono@osuosl/staff/dspt) has quit (*.net *.split)
2014-06-17 13:20:15	pop_n_fresh	jnoah: kennric and I got the tutorial stuff working. I do encourage you to get a better understanding of it so we can troubleshoot as I set this vagrantbox setup.
2014-06-17 13:20:32	-->	jordane (~jordane@osuosl/staff/jordane) has joined #osuosl-dev
2014-06-17 13:20:32	-->	tschuy (~tschuye@osuosl/staff/tschuy) has joined #osuosl-dev
2014-06-17 13:20:32	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-17 13:20:32	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-17 13:20:32	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-17 13:20:32	-->	MaraJade (goossenm@osuosl/staff/MaraJade) has joined #osuosl-dev
2014-06-17 13:20:32	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-06-17 13:20:32	-->	pono (pono@osuosl/staff/dspt) has joined #osuosl-dev
2014-06-17 13:35:03	jnoah	pop_n_fresh: what was the issue you were having?
2014-06-17 13:35:18	pop_n_fresh	It's solved now but I couldn't connect to the database.
2014-06-17 13:35:47	pop_n_fresh	we solved it by making "$CFG->wwwroot   = 'http://localhost:8080';
2014-06-17 13:36:06	pop_n_fresh	it was originally just 'http://localhost'
2014-06-17 13:37:15	jnoah	hmmm, ok
2014-06-17 13:37:41	pop_n_fresh	Or maybe it was even just 'localhost'. Either way we got it working.
2014-06-17 13:49:45	jnoah	kennric: do you know what muricula was using for the data bag secret key?
2014-06-17 13:50:20	kennric	jnoah: I don't, but he was working with armiller I think on setting that stuff up
2014-06-17 13:50:34	kennric	it may have ended up in the firfile
2014-06-17 13:53:25	jnoah	kennric: doesn't look to be in the firfile. I'll wait until armiller is free, then ask
2014-06-17 13:54:57	jordane	jnoah: the key for testing should have ended up in the cookbook repo itself
2014-06-17 13:55:04	jordane	it should have been a throw away one.
2014-06-17 14:05:33	jnoah	jordane: i found the databag...but no key anywhere, it seems
2014-06-17 14:05:53	jordane	jnoah: hmm. well the key can be regenerated and a new data bag made.
2014-06-17 14:06:10	pop_n_fresh	kennric: For this dev-test moodle database should I make "$CFG->dbpass    = 'JTpIhztMv8RVIE8v7dlA'" something simple like 'password'?
2014-06-17 14:06:29	pop_n_fresh	Also I'm not sure what "$CFG->passwordsaltmain" and "$CFG->passwordsaltalt1" are
2014-06-17 14:06:55	kennric	pop_n_fresh: it doesn't matter, as long as the user is created in the database with the right password
2014-06-17 14:07:16	pop_n_fresh	But it can be a throw-away password?
2014-06-17 14:07:22	kennric	the password salts are arbitrary
2014-06-17 14:07:52	kennric	yes, as long as you aren't opening your vagrant box up to the universe
2014-06-17 14:13:21	chance	kennric: the vagrant base boxes themselves access private repo's we host, so it wouldnt make sense to make them public i dont think
2014-06-17 14:14:31	pop_n_fresh	I wasn't planning on making this public to the world anyway.
2014-06-17 14:14:56	pop_n_fresh	Do I mannually need to set up the ORVSD ClamAV config/
2014-06-17 14:14:57	kennric	chance: we were talking about the security of the database password, not distribution of the vagrant box
2014-06-17 14:15:24	kennric	pop_n_fresh: clamav? where are you seeing that?
2014-06-17 14:15:58	pop_n_fresh	/var/www/moodle25/config.php
2014-06-17 14:16:13	pop_n_fresh	I'm not sure where it would be in staging, but it's in the main config.php file.
2014-06-17 14:16:56	kennric	it's a virus scanner, and I doubt it is on your vagrant box
2014-06-17 14:17:11	pop_n_fresh	Okay, so I'll just ignore it?
2014-06-17 14:18:12	kennric	yeah, unless it gives you errors
2014-06-17 14:19:05	chance	kennric: i know iw as referring to the dicussion a while ago when you mentioned me
2014-06-17 14:20:17	kennric	chance: oh, I see. yes, they may not be suitable, but a clean set of dev node boxes would be nice
2014-06-17 14:29:55	chance	we have boxes
2014-06-17 14:30:00	chance	openstack :)
2014-06-17 14:30:13	chance	and virtualbox too
2014-06-17 14:32:31	tschuy	chance: i'm preparing to use chef to install GWM on staging and my understanding of all of it is still a little shaky
2014-06-17 14:32:56	tschuy	from my understanding, I take your repo, I set up my local chef config to point to staging,
2014-06-17 14:34:13	tschuy	and run chef-client on the server?
2014-06-17 14:41:41	chance	its already deployed on staging, fyi
2014-06-17 14:42:00	chance	but yeah, you update knife.rb to use our chef server
2014-06-17 14:42:11	chance	you need the internal chef-repo as well
2014-06-17 14:42:23	kennric	chance: I am just having him run through it to understand the process
2014-06-17 14:42:30	chance	you should really ask jordane
2014-06-17 14:42:39	chance	there's a process to the chef server
2014-06-17 14:42:51	chance	most of its documented
2014-06-17 14:42:55	chance	on docs.o.o
2014-06-17 14:43:15	chance	https://docs.osuosl.org/config-management/chef/index.html
2014-06-17 14:43:46	chance	but you need the chef-repo, you need to set up MR, you then get all of the cookbooks, and our databags repo, you upload the ones you make changes to after bumping versions
2014-06-17 14:43:55	kennric	chance: does anything else need to be done on staging (or production when we get to that) to deploy?
2014-06-17 14:44:09	chance	staging needs vncauthproxy setup with an init script
2014-06-17 14:44:16	chance	so id work on making an init script
2014-06-17 14:44:36	chance	then make a recipe that copies it to the right place depending on the system (make sure its the right kind of script for the OS)
2014-06-17 14:45:04	chance	do all of that locally in vagrant
2014-06-17 14:45:09	chance	or on openstack
2014-06-17 14:45:13	chance	using vagrant
2014-06-17 14:45:33	kennric	yeah, we're looking at the init script
2014-06-17 14:45:45	chance	then when your sure its working, bump the version, upload the cookbook to the chef server, run chef-client on the node
2014-06-17 14:45:51	chance	the node would be staging in this case
2014-06-17 14:49:13	tschuy	so the init script would start/stop/restart the vncauthproxy, using twistd?
2014-06-17 14:49:38	tschuy	am I looking in the right place here? https://code.osuosl.org/projects/twisted-vncauthproxy/wiki/Setup
2014-06-17 14:50:09	jnoah	jordane: ok, ready to encrypt
2014-06-17 14:50:56	chance	tschuy: mhm
2014-06-17 14:51:11	chance	tschuy: takea  look at the initscript on pine
2014-06-17 14:51:16	chance	/etc/init/vncauthproxy
2014-06-17 14:51:42	tschuy	and the cookbook would copy it to /etc/init.d/ or /etc/rc.d/init.d/ or whatever depending on the OS?
2014-06-17 14:51:43	chance	its a gentoo init script, but the make piece is running twistd with the proper args
2014-06-17 14:51:48	chance	basically
2014-06-17 14:52:12	chance	you need the pid file/arg since you need to run both the web socket proxy & the flash policy proxy
2014-06-17 14:52:24	chance	otherwise it fails to start the 2nd one
2014-06-17 14:52:29	chance	you want the --logfile option too
2014-06-17 14:52:44	chance	depending on what/how you set up the init script you may or may not want -n which means to not daemonize
2014-06-17 14:53:03	tschuy	I don't seem to have access to pine
2014-06-17 14:53:08	chance	you need to use fir
2014-06-17 14:53:30	chance	do you have access to fir? you ssh there, sudo into root. then ssh as root to the box you need.
2014-06-17 14:53:49	chance	you'll need to know the ssh key passphrase to ssh from fir as well
2014-06-17 14:53:57	tschuy	permission denied on fir
2014-06-17 14:54:44	chance	make a new ssh private key
2014-06-17 14:54:49	chance	well, a key
2014-06-17 14:54:54	chance	put a passphrase on it for sure
2014-06-17 14:55:08	kennric	tschuy: you'll need systems to set you up on fir
2014-06-17 14:55:09	chance	send the public key as plain text in an email to support@osuosl.org and request access to fir
2014-06-17 14:55:17	tschuy	I have an ssh key, I guess I just never gave it to the requisite people...
2014-06-17 14:55:23	chance	then ask in #osuosl-infra to have them add it
2014-06-17 14:55:29	chance	tschuy: a key specifically for fir?
2014-06-17 14:55:36	chance	different from your normal key?
2014-06-17 14:55:39	tschuy	ah no
2014-06-17 14:55:57	chance	yeah, your supposed to make a new key for fir only
2014-06-17 15:03:45	jnoah	jordane: same issue
2014-06-17 15:04:40	jordane	jnoah: yeah, looks like you need an older version of mysql cookboko
2014-06-17 15:04:42	jordane	cookbook*
2014-06-17 15:04:58	jordane	we use 3.0.12
2014-06-17 15:06:40	jnoah	which version do you think should be used and how can I enforce it?
2014-06-17 15:07:01	jordane	use 3.0.12, and you can enforce it in the berksfile
2014-06-17 15:07:18	jordane	cookbook "mysql", "=3.0.12"
2014-06-17 15:07:33	jordane	then berks update
2014-06-17 15:09:22	jnoah	jordane: "Required artifacts do not exist at the desired version"
2014-06-17 15:09:57	jordane	:\
2014-06-17 15:10:31	chance	we really should update our cookbook, they really changed it heavily and fixed a bunch of stuff..
2014-06-17 15:10:46	chance	mostly need to make a template file containing all the variables/attributes we need.
2014-06-17 15:23:50	jnoah	jordane: https://github.com/opscode-cookbooks/database perhaps?
2014-06-17 15:24:10	jordane	yeah, that is where most of the magic moved to
2014-06-17 15:31:01	jnoah	jordane: hmmm, so I added database to the berksfile, ran berks install (all good), but am receiving a 'RecipeNotFound database' error now
2014-06-17 15:31:13	jnoah	OH, nvm
2014-06-17 15:31:15	jordane	you have to include it as a dep
2014-06-17 15:31:19	jordane	in metadata.rb
2014-06-17 15:32:02	jnoah	it's already there
2014-06-17 15:37:19	<--	kennric (kennric@osuosl/staff/kennric) has quit (Ping timeout: 252 seconds)
2014-06-17 15:38:07	<--	mathuin (jmt@osuosl/staff/mathuin) has quit (Ping timeout: 245 seconds)
2014-06-17 15:38:10	jordane	cool
2014-06-17 15:38:37	<--	pono (pono@osuosl/staff/dspt) has quit (Ping timeout: 276 seconds)
2014-06-17 15:38:39	<--	manatee (manatee@ash.osuosl.org) has quit (Ping timeout: 272 seconds)
2014-06-17 15:45:08	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has quit (Quit: ElsieP)
2014-06-17 15:53:51	jnoah	chef, why you so slow
2014-06-17 15:55:00	pop_n_fresh	jnoah: When you're free can you come out here to help troubleshoot some moodle/vagrant stuff? I think I'm just missing a step somewhere.
2014-06-17 15:56:53	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-17 16:01:21	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-06-17 16:01:37	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-17 16:04:08	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-06-17 16:06:50	-->	pono_ (pono@ash.osuosl.org) has joined #osuosl-dev
2014-06-17 16:06:54	<--	ChanServ has kicked pono_ (You are not authorized to be on this channel)
2014-06-17 16:08:25	jnoah	jordane: have you had issues with python/pip before? Chef is failing on updating virtualenv with pip and googling around isn't helping atm.
2014-06-17 16:08:49	jordane	Hmm I haven't had issues with it before.
2014-06-17 16:09:04	jordane	pastebin the error and pm me, I'm on my way out, but I'll look in the morning
2014-06-17 16:09:15	jordane	I'll be more likely to remember a pm
2014-06-17 16:09:17	jnoah	https://github.com/poise/python/issues/100 is the issue
2014-06-17 16:09:46	jnoah	exact error
2014-06-17 16:13:47	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-17 16:16:21	<--	manatee (manatee@ash.osuosl.org) has quit (Excess Flood)
2014-06-17 16:16:39	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-17 16:39:45	jnoah	woot, fixed the virtualenv issue
2014-06-17 16:40:45	jnoah	now more database stuff :/
2014-06-17 16:41:31	kennric	jnoah: what was the issue?
2014-06-17 16:47:47	jnoah	kennric: http://paste.debian.net/105560/
2014-06-17 16:48:15	jnoah	mysql_database_user node['orvsd']['db']['name'] do
2014-06-17 16:48:17	jnoah	    connection mysql_connection_info
2014-06-17 16:48:19	jnoah	    password node['orvsd']['db']['password']
2014-06-17 16:48:21	jnoah	    privileges [:all]
2014-06-17 16:48:23	jnoah	    action [:grant]
2014-06-17 16:48:25	jnoah	end
2014-06-17 16:48:27	jnoah	that's the code it's choking on
2014-06-17 16:49:51	jnoah	it's a deps issue I think. some recipe I may not be included
2014-06-17 16:50:36	jnoah	kennric: oh, the fix for installing virtualenv was to not install it via yum, but to install it via pip
2014-06-17 16:57:47	kennric	makes sense
2014-06-17 17:03:38	pop_n_fresh	jnoah: I'm getting stuck at the apache page. I changed everything to be 'localhost'
2014-06-17 17:08:12	jnoah	kennric: do we need php?
2014-06-17 17:08:41	jnoah	lol that was a dumb question
2014-06-17 17:08:54	jnoah	i forgot for a sec that moodle is written in php
2014-06-17 17:14:02	pop_n_fresh	jnoah: I'm heading out soon, when are you going to be in tomororow?
2014-06-17 17:26:21	jnoah	kennric: still in?
2014-06-17 17:28:55	jnoah	i may have what muricula had worked on working now
2014-06-17 17:36:50	jnoah	meh, uWSGI failed. I'm getting there.... :/
2014-06-17 23:19:48	<--	kennric (kennric@osuosl/staff/kennric) has quit (*.net *.split)
2014-06-17 23:23:58	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-06-18 08:15:46	mathuin	Is it a relatively new thing that flags and subcommands cannot be mixed in the command line location?  "vagrant -f destroy" doesn't work, "vagrant destroy -f" does.
2014-06-18 08:15:51	mathuin	Not saying new with vagrant, but new in general.
2014-06-18 08:18:23	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-18 08:31:21	jordane	it is a feature of a common ruby arg parsing lib
2014-06-18 08:37:09	mathuin	I think I saw it happen with Go as well, but it doesn't/didn't with argparse with Python or am I losing my mind?
2014-06-18 08:37:56	jordane	I think Python's argparse handles mixing just fine, iirc.
2014-06-18 08:38:52	jordane	It could also be that the commands are parsed in a way that doesn't expose the subcommand flags immediately.
2014-06-18 08:43:26	jnoah	argparse handles mixing iirc
2014-06-18 08:46:22	jordane	jnoah: so does upgrading setuptools a second time fix the issues you were having yesterday?
2014-06-18 08:51:59	jnoah	jordane: looks like it? I have pip update pip/distribute/virtualenv basically at the start and that seemes to have fixed the issue
2014-06-18 09:01:54	deanj	mathuin: Iirc argparse is usually used to parse arguments in python, which is a derivative optparse (C). That library allows mixing commands just fine.
2014-06-18 09:04:29	jordane	jnoah: cool.
2014-06-18 10:18:19	jnoah	kennric: uh, I think it's all working now (cookbook)
2014-06-18 10:18:25	jnoah	It's completing without errors
2014-06-18 10:21:18	kennric	jnoah: ok, and how is the oc code looking?
2014-06-18 10:22:42	jnoah	good? It's not properly setup on the chef'd box though. More tweaking is still needed it seems. At least the cookbook isn't failing though :T
2014-06-18 10:23:31	kennric	ok, we need to do two things - one is test the multi-site course install, second is to get deployment working
2014-06-18 10:23:55	kennric	when we have tested adequately, we'll need to cut a release branch and deploy that to staging and test there
2014-06-18 10:29:54	jnoah	kennric: we should be able to do that by the end of the week if not sooner (hopefully sooner)
2014-06-18 10:30:08	kennric	good
2014-06-18 10:30:56	jnoah	jordane: when ketchen tests pass, does it delete the generated Vagrant file? I'm not seeing it in .kitchen/ anymore
2014-06-18 10:31:02	jordane	yes
2014-06-18 10:31:10	jordane	use -d never if you want to keep the vm
2014-06-18 10:33:36	deanj	kennric: I'm not sure if you're talking about testing witht he chef cookbook (if we're just deploying code and you have the celery workers running it won't matter), but I already tested multi-site install. It works as intended.
2014-06-18 11:18:07	pop_n_fresh	kennric: I changed the permissions for my $CFG->dataroot and changed the user to be the appropriate user but I am still getting the moodle error. Do you know what else could be the problem?
2014-06-18 11:21:10	kennric	still a dataroot permissions error? double-check the real value of that $CFG->datadir, and make sure it is pointing to the right directory, and then make sure the permissions are right all the way up the tree
2014-06-18 11:21:32	kennric	you can look at what the perms are on staging-www
2014-06-18 11:23:12	pop_n_fresh	I'll check staging. Thank you.
2014-06-18 11:23:53	pop_n_fresh	jnoah: /var/www/$orvsduser/moodle25/$orvsdfqdn/moodle/
2014-06-18 11:25:04	jnoah	pop_n_fresh: ty
2014-06-18 11:36:00	tschuy	kennric: as far as I can tell, the ganeti_webmgr cookbook does not set up/install vncauthproxy
2014-06-18 11:37:34	kennric	it is in the requirements for gwm, so pip should be installing it
2014-06-18 11:40:17	tschuy	ah, found it
2014-06-18 11:51:48	mathuin	supervisor is pretty awesome, except when it's not.
2014-06-18 11:52:05	mathuin	I refactored the settings file to lean heavily on environment variables, so they wouldn't get committed.
2014-06-18 11:52:42	mathuin	When supervisor runs a program -- even as another user -- it inherits the environment in which the supervisor daemon was started and doesn't read the user's .bashrc.
2014-06-18 11:52:44	mathuin	So, that's neat.
2014-06-18 11:53:35	mathuin	I will probably try a workaround of "su - centos /home/centos/.virtualenv/pgd/bin/gunicorn blah blah blah" next.
2014-06-18 11:54:27	mathuin	or "su -c '/home/cen...gunicorn blah blah blah' - centos" nwo that I read the man page.
2014-06-18 12:08:43	jnoah	pop_n_fresh: lunch?
2014-06-18 12:29:21	kennric	mathuin: typically you have uwsgi set those for you, it doesn't come from a user bashrc
2014-06-18 12:29:34	kennric	or gunicorn, whatever is running your wsgi server
2014-06-18 12:30:09	kennric	for uwsgi, you actually explicitely set them in the ini file (or include a separate file of them that isn't in config management)
2014-06-18 12:31:13	mathuin	I have a mix of settings for both build and runtime, so it made more sense to me to put them in a single .bashrc -- if that's not conventional wisdom, let me know and I'll shuffle things around.
2014-06-18 12:31:19	mathuin	I was trying to avoid special config files for the most part.
2014-06-18 12:32:31	kennric	mathuin: http://pastebin.osuosl.org/8041/
2014-06-18 12:33:03	kennric	thats what I use for one of my apps, the ini=/etc/uwsgi/app-environments/animals_env.ini calls my file with the secret env variables in it
2014-06-18 12:34:40	mathuin	Okay, I'll look at how to do that kind of thing after lunch.  Still haven't gotten the static/media thing wrestled down.  So close!
2014-06-18 13:14:59	jnoah	pop_n_fresh: you go into the noc?
2014-06-18 13:26:05	pop_n_fresh	jnoah: nope.
2014-06-18 13:42:20	pop_n_fresh	kennric: I checked $CFG->datadir and it's pointing at the right place. I also checked staging and made sure all of the perms were identical to those on stagingwww but I'm getting the same error.
2014-06-18 13:44:25	mathuin	kennric: BTW, I was able to see all OSUOSL proposals by going to the 'view proposals` link http://www.google-melange.com/gsoc/proposal/list/org/google/gsoc2014 and changing Reviewable to All.
2014-06-18 13:44:25	manatee	mathuin's tiny URL is http://bit.ly/Uco0l4
2014-06-18 13:46:28	kennric	mathuin: "no records to view"
2014-06-18 13:46:46	mathuin	Did you change Reviewable to All?
2014-06-18 13:47:06	mathuin	I see all ten proposals.
2014-06-18 13:50:09	kennric	mathuin: ah, no, I hadn't, that's got it
2014-06-18 13:51:39	mathuin	If Melange loved us, they'd automatically switch the default from Reviewable to All once the review period closed.
2014-06-18 13:51:49	kennric	pop_n_fresh: you can test in a couple of ways - 'sudo su apache -' and ls that directory/file
2014-06-18 14:08:47	pop_n_fresh	kennric: I moved in the config where the data dir was and got the same error.
2014-06-18 14:09:07	pop_n_fresh	"Invalid permissions detected in $CFG->dataroot directory, administrator has to fix permissions."
2014-06-18 14:10:27	kennric	pop_n_fresh: did you copy or create all the subdirs like they were on staging, or just the config? It may be looking for all it's directories and not findign them
2014-06-18 14:14:46	pop_n_fresh	I manually created them. I can copy them from staging.
2014-06-18 15:19:09	pop_n_fresh	kennric: I'm not making any progress on this. I was thinking I could spend this time improving my php skills.
2014-06-18 15:42:34	pop_n_fresh	kennric: I got it working.
2014-06-18 15:43:26	kennric	pop_n_fresh: good!
2014-06-18 15:49:31	pop_n_fresh	Oh wait. I git the old error, but this time during moodle's installation.
2014-06-18 15:50:53	pop_n_fresh	*got
2014-06-18 15:52:20	pop_n_fresh	I'm working on a fix. It says "It is usually not possible to recover from errors triggered during installation, you may need to create a new database or use a different database prefix if you want to retry the installation."
2014-06-18 15:53:00	kennric	yes, if install fails, drop the database and re-create, it can get itself into a very confused state
2014-06-18 16:04:04	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has left #osuosl-dev
2014-06-18 16:04:46	mathuin	collectstatic is deleting my entire git checkout.  I'm doing something wrong.
2014-06-18 16:06:52	kennric	mathuin: that's not right
2014-06-18 16:15:01	mathuin	It seems overzealous at best.
2014-06-18 16:58:30	pop_n_fresh	kennric: I got an error immediately after you left: "SSL received a record that exceeded the maximum permissible length." should I bother fixing this ssl stuff on apache or work on nginx?
2014-06-18 17:00:50	pop_n_fresh	It wasn't a moodle error, just a firefox error.
2014-06-18 17:05:34	pop_n_fresh	I just dont' have ssl setup for this.
2014-06-18 17:06:42	pop_n_fresh	I'm heading out. I'll get everything working in time.
2014-06-18 18:14:03	mathuin	What's the insecure (i.e., no key required) link for gitolite?
2014-06-18 18:21:10	mathuin	... the answer was git://git.osuosl.org/gitolite/pgd.git fwiw
2014-06-19 08:22:08	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-19 08:35:24	mathuin	TIL that tunneling from home to cyan via ash for VNC doesn't work.
2014-06-19 08:35:49	jnoah	that's odd...it should
2014-06-19 08:36:00	mathuin	I get hangs, and no connection.
2014-06-19 08:36:10	jnoah	:(
2014-06-19 08:36:23	mathuin	From home:  ssh -L 5903:cyan.workstation.osuosl.bak:5903 ash.osuosl.org   then I run 'top' when I get into ash.
2014-06-19 08:36:29	mathuin	From home: vncviewer localhost:3
2014-06-19 08:36:33	mathuin	Tries to connect, hangs.
2014-06-19 09:16:20	deanj	mathuin: You could always do normal port forwarding :/ And if you REALLY need to see a program from cyan, you could X-forward, although it'd be incredibly slow.
2014-06-19 09:17:32	mathuin	Alas, X forwarding breaks at ash.  I tried normal VNC port forwarding, but I didn't try forwarding cyan's port 22.  Interesting idea.
2014-06-19 09:17:55	deanj	Do you need a GUI to a program?
2014-06-19 09:18:06	<--	mathuin (jmt@osuosl/staff/mathuin) has left #osuosl-dev ("Leaving")
2014-06-19 09:18:29	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-19 09:18:45	mathuin	I use VNC to basically have more on my desk.
2014-06-19 09:19:05	deanj	Oh, ok.
2014-06-19 09:21:57	mathuin	forwarding cyan's 22 kinda worked.
2014-06-19 09:27:28	mathuin	Yeah, too annoying to function. :-)  Back to the old way.
2014-06-19 10:03:58	-->	lucyw (wymanl@osuosl/staff/lucyw) has joined #osuosl-dev
2014-06-19 10:04:58	jnoah	lucyw: more games at lunch today/
2014-06-19 10:05:02	jnoah	today?*
2014-06-19 10:05:30	lucyw	Yeah! Set is in the noc, and I think someone was going to bring a different game
2014-06-19 10:05:45	jnoah	sweet :)
2014-06-19 10:09:01	jnoah	kennric: have you had experince setting up nginx? I'm only getting the "Welcome to nginx!" page when I'm pretty sure I should be getting a moodle page
2014-06-19 10:11:35	tschuy	kennric: am I correct in thinking that ganeti_webmgr/scripts/setup.sh should run apt-get update when run on Ubuntu?
2014-06-19 10:12:21	kennric	jnoah: I can come take a look
2014-06-19 10:12:21	tschuy	I've been switching Vagrant boxes to various distros (Centos 6, Ubuntu 11.10/12.04 since they're the ones listed as compatible)
2014-06-19 10:12:40	tschuy	and it fails to provision til I ssh and run apt-get update manually, and reprovision
2014-06-19 10:12:48	kennric	tschuy: I think so
2014-06-19 10:12:58	kennric	I don't know what the best practice is for that
2014-06-19 10:13:03	jnoah	kennric: awesome thanks
2014-06-19 10:22:12	jnoah	kennric: http://paste.debian.net/105872
2014-06-19 10:26:53	kennric	jnoah: what happens if you explicitely go to moodle1:8080/index.php
2014-06-19 10:30:31	jnoah	kennric: 404 Not Found
2014-06-19 10:31:52	kennric	try going directly to a file that definitely exists in that path - your configs are not calling out to a php server, so it is probably not finding an index file it recognizes and just giving you the default
2014-06-19 10:32:16	kennric	go directly to a file, though, and you'll see if the server block is actually working
2014-06-19 10:32:52	jnoah	kennric: went to help.php - got a 404
2014-06-19 10:33:07	kennric	and your logs say?
2014-06-19 10:33:11	jnoah	i guess the server block is not working
2014-06-19 10:33:38	jnoah	10.0.2.2 - - [19/Jun/2014:17:32:41 +0000] "GET /help.php HTTP/1.1" 404 168
2014-06-19 10:35:48	jnoah	I added a help.php to /var/www/help.php and still received a 404
2014-06-19 10:35:58	jnoah	so, idunno where it's looking
2014-06-19 10:47:17	kennric	jnoah: http://pastebin.osuosl.org/8071/
2014-06-19 10:48:23	kennric	you probably don't need/want the rewrite to index.php (that was setup for a wordpress site), you can probably just do the root and ~ \.php$ locations
2014-06-19 10:49:02	jnoah	kennric: what about the fastcgi_pass <address>:<port> ?
2014-06-19 10:49:10	jnoah	what port would I be using?
2014-06-19 10:49:51	kennric	depends on how you set up php-fpm, I think what I have there is the the debian7 default, but you can tell it to use a socket, too
2014-06-19 10:50:26	jnoah	ah, ok
2014-06-19 11:00:26	mathuin	Made a second one-line pull request on vagrant-openstack-plugin (this one to change HandleBoxUrl to HandleBox to fix the warning) and learned that one shouldn't use "master" for a pull request branch.
2014-06-19 11:08:56	<--	kennric (kennric@osuosl/staff/kennric) has quit (*.net *.split)
2014-06-19 11:08:58	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (*.net *.split)
2014-06-19 11:08:59	<--	jordane (~jordane@osuosl/staff/jordane) has quit (*.net *.split)
2014-06-19 11:09:02	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has quit (*.net *.split)
2014-06-19 11:09:03	<--	tschuy (~tschuye@osuosl/staff/tschuy) has quit (*.net *.split)
2014-06-19 11:09:05	<--	MaraJade (goossenm@osuosl/staff/MaraJade) has quit (*.net *.split)
2014-06-19 11:10:38	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-19 11:10:38	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-06-19 11:10:38	-->	jordane (~jordane@osuosl/staff/jordane) has joined #osuosl-dev
2014-06-19 11:10:38	-->	tschuy (~tschuye@osuosl/staff/tschuy) has joined #osuosl-dev
2014-06-19 11:10:38	-->	MaraJade (goossenm@osuosl/staff/MaraJade) has joined #osuosl-dev
2014-06-19 11:10:38	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-19 11:14:58	<--	kennric (kennric@osuosl/staff/kennric) has quit (*.net *.split)
2014-06-19 11:15:00	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (*.net *.split)
2014-06-19 11:15:01	<--	jordane (~jordane@osuosl/staff/jordane) has quit (*.net *.split)
2014-06-19 11:15:04	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has quit (*.net *.split)
2014-06-19 11:15:05	<--	tschuy (~tschuye@osuosl/staff/tschuy) has quit (*.net *.split)
2014-06-19 11:15:07	<--	MaraJade (goossenm@osuosl/staff/MaraJade) has quit (*.net *.split)
2014-06-19 11:16:06	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-19 11:16:06	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-06-19 11:16:06	-->	jordane (~jordane@osuosl/staff/jordane) has joined #osuosl-dev
2014-06-19 11:16:06	-->	tschuy (~tschuye@osuosl/staff/tschuy) has joined #osuosl-dev
2014-06-19 11:16:06	-->	MaraJade (goossenm@osuosl/staff/MaraJade) has joined #osuosl-dev
2014-06-19 11:16:06	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-19 11:30:07	jnoah	kennric: fpm is running, both fpm and nginx are not reporting errors, and yet no php is being rendered.
2014-06-19 11:30:50	jnoah	any php file, one that exists or not, returns a blank page
2014-06-19 11:31:09	kennric	php-fpm logs?
2014-06-19 11:32:02	jnoah	no errors in them
2014-06-19 11:32:19	jnoah	but no access either, just says the pid and that it's ready
2014-06-19 11:32:34	kennric	port/socket config all correct?
2014-06-19 11:32:39	jnoah	yep
2014-06-19 11:32:51	<--	mathuin (jmt@osuosl/staff/mathuin) has quit (Excess Flood)
2014-06-19 11:33:19	jnoah	fpm knows about the nginx user/group as well
2014-06-19 11:35:09	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-19 11:48:46	jnoah	kennric: afaict php should be working unless i'm missing something obvious again
2014-06-19 11:56:52	mathuin	isn't there a oneliner to test php using <?phpinfo or something?
2014-06-19 13:28:58	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has quit (Quit: ElsieP)
2014-06-19 13:35:46	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-19 14:56:30	mathuin	Okay, figured out the problem with the PGD instance.  m1.medium was too small, so I went to m1.large, and I now get 413 Request Entity Too Large
2014-06-19 15:48:15	jnoah	kennric: what have we decided for the data directory?
2014-06-19 15:48:20	jnoah	(for the moodle sites)
2014-06-19 15:48:40	jnoah	it looks like php is working now, but is failing because I don't have the data directory needed in the moodle config
2014-06-19 15:50:50	kennric	jnoah: copy it over from staging
2014-06-19 16:08:50	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has left #osuosl-dev
2014-06-19 16:42:39	-->	pono (pono@osuosl/staff/dspt) has joined #osuosl-dev
2014-06-19 16:42:53	pono	silver.workstation.osuosl.bak is reimaged with debian and shouldn't be crappy now
2014-06-19 16:59:40	mathuin	kennric: His 1.5 branch's django version is 1.4 :-)
2014-06-19 17:00:13	kennric	did he just forget to update requirements.txt?
2014-06-19 17:00:19	mathuin	Very possible.
2014-06-19 17:41:13	jnoah	kennric: so the folder you wanted me to copy to the VM is 108GB with a LOT of folders with permission denied for reading. SO, I tried mounting the folder in the VM, but I think the VMs don't have permission to do that
2014-06-19 18:28:24	jnoah	kennric: basically the best option, after trial and error'ing a few things, is to see if we can't get permissions to mount the folder directly in the VM. Doing otherwise seems to be problematic in worse ways.
2014-06-20 08:08:57	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-20 08:09:09	ElsieP	invite #osuosl-infra
2014-06-20 08:21:03	kennric	jnoah: or just copy a small subset of what is there, since we only need a couple of courses
2014-06-20 09:25:49	kennric	heads up all: I am switching code.o.o over to our chiliproject fork, I don't expect any noticeable changes for anyone, but if you see anything go haywire, please let me know immediately
2014-06-20 11:17:27	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has quit (Quit: ElsieP)
2014-06-20 12:43:12	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-20 13:34:07	jnoah	kennric: so what about the /data/moodledata/<user>/[....]/config.php ?
2014-06-20 13:34:20	jnoah	should I just copy one of those, make it a template and generate that data?
2014-06-20 13:38:24	jnoah	kennric: and in the mean time, it looks like i may have theoc working from within the vm
2014-06-20 13:38:24	kennric	jnoah: yes, probably
2014-06-20 13:39:05	jnoah	kennric: muricula wasn't generating a default config, but besides that, it looked to have been working
2014-06-20 13:39:18	kennric	good
2014-06-20 13:59:08	jnoah	since some servers may not have the moodle instances, we'll need two cookbooks. The staging/prod and the dev cookbook. I think though, the dev will just include the staging/prod and install moodle sites.
2014-06-20 13:59:22	jnoah	kennric: ^
2014-06-20 13:59:36	jnoah	may not need*
2014-06-20 14:00:12	jnoah	so it'll just split up the work muricula and i've done into two cookbooks
2014-06-20 14:00:41	kennric	jnoah: we only need the moodle installs for dev (vagrant) - we will have a couple of testing moodle sites in production we can test against when we deploy OC to staging
2014-06-20 14:01:30	jnoah	yeah, so the two cookbooks sounds like a good thing then
2014-06-20 14:02:08	jnoah	in that case, the staging/prod is nearly done. Some tweaks to the config are all that's needed, but besides that, it's good to go
2014-06-20 14:02:59	kennric	nice! as soon as you feel it is useable, lets deploy the dev branch to our staging environment
2014-06-20 14:17:48	jnoah	kennric: https://github.com/osuosl-cookbooks/orvsd_central/blob/master/templates/default/orvsd_central.conf.erb
2014-06-20 14:18:13	jnoah	if you know some of the details needed for staging, that'd be really helpful
2014-06-20 14:22:12	jnoah	kennric: i don't have permissions to get an example config from the data mount either :/
2014-06-20 14:25:26	kennric	jnoah: I don't, only the old staging - you'll need to ask systems what database to connect to, etc. What other settings do you need?
2014-06-20 16:00:31	jnoah	kennric: i'm out and about running errands currently. i'll be on tomorrow to finish up the cookbook
2014-06-20 16:01:55	kennric	jnoah: ok
2014-06-20 17:00:31	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has left #osuosl-dev
2014-06-21 08:05:05	<--	bramwelt (~bramwelt@osuosl/staff/bramwelt) has quit (Ping timeout: 264 seconds)
2014-06-21 08:05:05	<--	deanj (~johnsdea@osuosl/staff/johnsdea) has quit (Ping timeout: 264 seconds)
2014-06-21 08:05:15	<--	jordane (~jordane@osuosl/staff/jordane) has quit (Ping timeout: 264 seconds)
2014-06-21 09:45:01	<--	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has quit (Ping timeout: 240 seconds)
2014-06-21 09:45:31	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (Ping timeout: 240 seconds)
2014-06-21 10:00:24	-->	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has joined #osuosl-dev
2014-06-22 09:24:22	<--	tschuy (~tschuye@osuosl/staff/tschuy) has quit (Ping timeout: 245 seconds)
2014-06-22 10:54:40	muricula	jnoah: I wasn't supposed to generate a default config - that's supposed to be created by the user who deploys the application
2014-06-23 08:35:39	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-23 08:40:12	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has quit (Ping timeout: 245 seconds)
2014-06-23 09:04:49	-->	deanj (~johnsdea@osuosl/staff/johnsdea) has joined #osuosl-dev
2014-06-23 09:09:28	MaraJade	What happened to pgd-prod?
2014-06-23 09:09:53	pono	MaraJade: ?
2014-06-23 09:10:10	MaraJade	Well, I logged in, but there's nothing there?
2014-06-23 09:10:54	pono	I'm not sure, maybe someone was working on it.
2014-06-23 09:12:58	kennric	MaraJade: mathuin was working on things a lot last week, but unfortunately is out today
2014-06-23 09:13:42	kennric	you may want to check the PGD docs, issue tracker and git log - I am surprised he didn't send an email updating you on progress
2014-06-23 09:39:15	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-23 10:41:14	kennric	MaraJade: how is it going?
2014-06-23 10:41:56	MaraJade	kennric: I have found absolutely no information as to what mathuin has done to pgd
2014-06-23 10:42:32	kennric	ok, looking now
2014-06-23 11:03:40	kennric	MaraJade: well, I am not sure exactly where he was either, meanwhile you coudl work on 15999, getting the docs into the repo. I would start with copying from the wiki: https://code.osuosl.org/projects/pgd/wiki - we'll use that as a base and update from there
2014-06-23 11:04:22	kennric	I believe the docs tree has been started in that branch, but looks empty now
2014-06-23 11:14:09	jnoah	I've had some unexpected things come up. I'll try and be in later this afternoon, if not, I'll be in tomorrow morning.
2014-06-23 11:14:15	jnoah	kennric: ^
2014-06-23 15:58:05	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has left #osuosl-dev
2014-06-24 08:25:34	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-24 09:40:46	kennric	jnoah: ping
2014-06-24 09:56:36	kennric	MaraJade: I think I told you mathuin was back intoday, but he is actually back Thursday. How is the documentation going?
2014-06-24 09:57:09	MaraJade	kennric: It's going
2014-06-24 10:07:18	pop_n_fresh	jnoah or kennric: Where is the orvsdc cookbook I should look at with the nginx stuff? I tried opening jnoah's link from Friday and I get a 404
2014-06-24 10:08:24	kennric	pop_n_fresh: https://github.com/osuosl-cookbooks/orvsd_central
2014-06-24 10:11:26	pop_n_fresh	Still get a 404 page. Do I not have permission to see the repo?
2014-06-24 10:15:04	pop_n_fresh	I can get to https://github.com/osuosl-cookbooks/ but not https://github.com/osuosl-cookbooks/orvsd_central
2014-06-24 10:20:30	kennric	hmm
2014-06-24 10:21:52	kennric	what is your github username?
2014-06-24 10:22:26	pop_n_fresh	ElijahCaine
2014-06-24 10:23:11	kennric	ok, try now
2014-06-24 10:23:22	pop_n_fresh	It works!
2014-06-24 11:08:01	pop_n_fresh	kennric: I'm in the vagrant box for the cookbook but I'm not sure how to run the cookbook. What command should I run?
2014-06-24 11:11:20	kennric	pop_n_fresh: did you read the README? under Usage, it explains how to provision your VM
2014-06-24 11:15:54	pop_n_fresh	Okay. I'm a little confused, the only occurence of "run_list" s in ".kitchen.yml" but the syntax differs from the syntax in the README. I can still add what it says but I wasn't sure if I was editing the right file.
2014-06-24 11:17:57	kennric	I believe that is correct
2014-06-24 11:34:42	pop_n_fresh	kennric: Pono and I looked over the vagrant file and we can't find how it's meant to provision/ there isn't anything in "Vagrantfile" which looks like provisioning
2014-06-24 12:01:32	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has left #osuosl-dev
2014-06-24 12:04:38	deanj	pop_n_fresh: Looks like the project uses berkshelf, which from what I remember handles the running of chef scripts for you.
2014-06-24 12:06:01	deanj	pop_n_fresh: So, 'gem install vagrant-berkshelf' then 'berks install' I think.
2014-06-24 12:07:36	pono	deanj: It also uses test-kitchen, but none of that is in the README.md
2014-06-24 12:10:26	kennric	according to the calendar, jnoah will be in later today
2014-06-24 12:55:49	pop_n_fresh	I did the 'berks install', that seemed to execute without any problems.
2014-06-24 12:56:02	pop_n_fresh	There was a warning but that didn't seem to have any impact on the install.
2014-06-24 12:59:37	kennric	pop_n_fresh: good - is the app running on your vm correctly?
2014-06-24 13:05:56	jnoah	kennric: pong
2014-06-24 13:22:44	pop_n_fresh	kennric: There are some problems with the Vagrantfile and provisioning. Apperently things work fine if we're using TestKitchen, but regular Vagrant isn't setup to provision at all.
2014-06-24 13:23:17	pop_n_fresh	I'm pretty sure our options are either change the documentation so Testkitchen is always used or change the Vagrantfile to provision correctly.
2014-06-24 13:23:43	kennric	either way, as long as it is straightforward and well documented to set the vm up
2014-06-24 13:28:46	kennric	jnoah: how soon can you have OC deployed to staging?
2014-06-24 13:29:37	jnoah	I need to split out the dev stuff from the current cookbook, but after that I can
2014-06-24 13:29:50	jnoah	(couple hours, I think?)
2014-06-24 13:31:12	kennric	ok, and do you know what is wrong with the instance on the old staging? I get errors on login
2014-06-24 13:33:36	jnoah	what's the error?
2014-06-24 13:35:55	kennric	500
2014-06-24 13:36:56	jnoah	have you tried johnsdea/orvsd_central ?
2014-06-24 13:37:10	jnoah	(i just did with success)
2014-06-24 13:38:31	kennric	hmmm, that works
2014-06-24 13:38:52	kennric	I changed my password directly in the database, perhaps did something wrong?
2014-06-24 13:41:50	deanj	kennric: Did you hash it? Also ./manage.py initdb will let you setup an admin user.
2014-06-24 13:42:32	kennric	I just used the password method from the user model
2014-06-24 13:43:23	jnoah	deanj: not on staging
2014-06-24 13:43:30	jnoah	(unless you deployed recently)
2014-06-24 13:45:23	deanj	Is staging not up to date with develop?
2014-06-24 13:46:01	deanj	kennric: Did you include the encryption type? Every password is prefixed with sha512 or something similar.
2014-06-24 13:46:23	kennric	yep
2014-06-24 13:46:38	jnoah	deanj: it's at Jun 5th
2014-06-24 13:46:46	jnoah	with a hotfix of yours it looks like
2014-06-24 13:49:33	deanj	jnoah: Not a hotfix, but a fix yes. And the initdb command lets you set up a user, I just looked.
2014-06-24 13:49:54	jnoah	ah, cool. good to know
2014-06-24 13:49:59	jnoah	is that documented anywhere?
2014-06-24 13:50:26	deanj	It's a bit of a workaround. If we built the database how it's supposed to be built you'd create ana dmin account when initializing the database.
2014-06-24 13:50:41	deanj	* a workaround for creating an admin account.
2014-06-24 13:51:08	deanj	kennric: On staging you can run ./manage.py initdb (which won't clear the db) but will let you create an admin user.
2014-06-24 16:27:11	Ramereth	what's the orvsd_central_dev cookbook about?
2014-06-24 16:27:29	Ramereth	seems like anything dev related should be in the orvsd_central cookbook itself...
2014-06-24 16:27:59	Ramereth	pop_n_fresh: ^
2014-06-24 16:30:05	kennric	Ramereth: there is a cookbook to instrall testing moodle instances onto vagrant boxes
2014-06-24 16:30:31	Ramereth	i'm confused
2014-06-24 16:32:10	-->	jordane (~jordane@osuosl/staff/jordane) has joined #osuosl-dev
2014-06-24 16:32:14	kennric	I don't know if they need ot be separated, or if the name is appropriate, but jnoah and pop_n_fresh are making on that can deploy OC to prod/staging and/or a dev vagrant box, but test moodles are not needed on prod/staging, only the vagrant box
2014-06-24 16:34:11	Ramereth	jordane: i'm talking about the newly created orvsd_central_dev CB that pop_n_fresh made
2014-06-24 16:34:34	Ramereth	IMO we don't want to split up cookbooks. If there are separate environments it should be done in the same cookbook if done properly IMO
2014-06-24 16:34:46	jnoah	so, we have orvsd_central which is for prod/staging only and now we have orvsd_central_dev which includes the prod/staging cookbook and also installs moodle sites
2014-06-24 16:35:06	jordane	it'd be better to just have a dev recipe that does that
2014-06-24 16:35:11	Ramereth	^
2014-06-24 16:35:18	kennric	jnoah: ^
2014-06-24 16:36:11	Ramereth	ya that would make more sense :)
2014-06-24 16:36:36	Ramereth	having yet-another cookbook just means yet-another cookbook we have to maintain
2014-06-24 17:25:25	jnoah	kennric: long story short we need to get setup with chef stuff. we aren't engrained in the system's guys workflow
2014-06-24 17:25:37	jnoah	so, pop_n_fresh will talk with jordane tomorrow
2014-06-24 21:39:31	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-24 22:19:38	-->	bramwelt (~bramwelt@osuosl/staff/bramwelt) has joined #osuosl-dev
2014-06-25 04:05:46	-->	chekkaa (~chekkaa@osuosl/staff/chekkaa) has joined #osuosl-dev
2014-06-25 08:17:46	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-25 08:23:29	Ramereth	mathuin: ping (gsoc mentor eval reminder)
2014-06-25 08:40:28	Ramereth	kennric: hmm. it might be interesting to have someone work on ganeti support in fog: https://github.com/fog/fog/pull/80
2014-06-25 08:40:40	Ramereth	kennric: then it wouldn't be hard to make a kitchen-ganeti gem either
2014-06-25 08:42:04	Ramereth	https://github.com/test-kitchen/kitchen-openstack <- an example of using fog for an openstack provider
2014-06-25 08:42:13	kennric	interesting...
2014-06-25 08:42:25	Ramereth	having ganeti support in fog would be huge IMO
2014-06-25 08:42:37	Ramereth	and if we redesign GWM, we could add support for GWM too :)
2014-06-25 08:43:28	Ramereth	fog is used in a lot of other cloud-ish stuff
2014-06-25 09:26:08	pop_n_fresh	kennric: jnoah and I got the orvsd_central cookbook almost to staging yesterday. I can try to wrap that up as well as make the dev-environment recipe(s) today.
2014-06-25 09:26:51	kennric	pop_n_fresh: yes please, and document thoroughly as you go
2014-06-25 09:34:48	Ramereth	pop_n_fresh: make sure you work with a sysadmin that knows chef together at the same time when you deploy it
2014-06-25 09:34:58	Ramereth	it will save you a lot of trouble and teach you how we deploy stuff in prod
2014-06-25 09:36:16	pop_n_fresh	I'm working with jordane on deploying to py1 and py2.
2014-06-25 09:36:55	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has quit (Quit: ElsieP)
2014-06-25 09:57:05	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-25 12:50:52	mathuin	Ramereth: thanks, I came in to the office pretty much for that. :-)
2014-06-25 13:07:30	pono	!check in
2014-06-25 13:08:10	mathuin	Alas, it doesn't work here yet. ;-(
2014-06-25 13:16:28	<--	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has quit (Quit: ElsieP)
2014-06-25 13:43:56	chance	so kennric where is GWM at?
2014-06-25 13:44:17	chance	can we cut the release, merge it in to master and announce yet?
2014-06-25 13:51:05	kennric	chance: possibly, we need to look at what tschuy has done with the init script
2014-06-25 13:55:01	chance	k
2014-06-25 13:55:08	chance	well i think the release itself is ready
2014-06-25 13:55:16	chance	that's mostly an external thing
2014-06-25 13:55:38	chance	could be added to the docs possibly once its done, but that could happen later
2014-06-25 13:55:46	chance	i just want to make sure things are merged before im gone this saturday
2014-06-25 13:55:59	kennric	yep, but I honestly haven't looked at it much while you were out
2014-06-25 13:56:04	chance	ok
2014-06-25 13:56:30	kennric	tschuy should be back tomorrow
2014-06-25 13:58:49	chance	k
2014-06-25 13:59:08	chance	jordane: do we really not have any workstation attributes in the chef repo?
2014-06-25 13:59:12	chance	like the packages
2014-06-25 13:59:18	chance	or is that all on the chef server?
2014-06-25 14:00:40	pono	chance:
2014-06-25 14:00:49	pono	Packages are in the environment now
2014-06-25 14:01:07	pono	So you can freely edit the workstation.json file in the environments folder in the chef repo
2014-06-25 14:06:16	chance	ah
2014-06-25 14:06:19	chance	thank god
2014-06-25 14:07:39	jordane	you can also just install a portage snapshot + stage 3 into your homedir
2014-06-25 14:07:46	jordane	because why not?
2014-06-25 14:34:27	pop_n_fresh	I'm still getting the '502 Bad Gateway' nginx error. pono's link wasn't as helpful as I thought it was initially.
2014-06-25 14:35:46	pop_n_fresh	^ meant for infra, soryr
2014-06-25 14:35:48	pop_n_fresh	*sorry
2014-06-25 15:00:01	chance	kennric: so im wondering, is there anytihng i can do with GWM, am i safe to merge in, should i wait?
2014-06-25 15:01:12	kennric	cut the release branch, deploy that to staging, test
2014-06-25 15:02:09	kennric	we'll follow the rlease guide from there - testing is what we need most before you leave
2014-06-25 15:02:28	chance	well the staging is running what the release branch would be
2014-06-25 15:02:33	chance	atm stagings on dev
2014-06-25 15:02:44	chance	so it would be git checkout -b release/0.11.0
2014-06-25 15:02:58	chance	and then just updating it the branch
2014-06-25 15:03:03	kennric	yes
2014-06-25 15:03:11	chance	i thought people would be testing it all while i was gone
2014-06-25 15:03:19	kennric	create branch, push to remote, deploy new branch to staging
2014-06-25 15:03:24	chance	k
2014-06-25 15:03:31	kennric	I think it has been poked at minimally
2014-06-25 15:03:45	kennric	but a lot of people have been out
2014-06-25 15:04:21	kennric	when the release branch is on staging, lets pin down someone from systems to go through all their normal operations on it
2014-06-25 15:12:53	chance	its updated
2014-06-25 15:47:24	mathuin	kennric: pono and I have been going insane re: grsec, ffi, and friends.
2014-06-25 15:47:39	mathuin	I'm now going to try to make Sarvesh's code use the old py2cairo stuff.
2014-06-25 15:47:51	mathuin	If the code works with py2cairo and not with cairocffi, then I'm going to blame grsec.
2014-06-25 15:48:19	kennric	mathuin: ok
2014-06-25 15:48:35	mathuin	MaraJade: in your quest to sphinxify the docs, did you cover installation yet?
2014-06-25 15:49:12	MaraJade	mathuin: Yes
2014-06-25 15:51:05	mathuin	Awesome.  How brave do you feel with regard to actually doing that in the cleaned-out pgd-staging virtualenv on zeus.o.o ?
2014-06-25 15:51:53	MaraJade	I can try
2014-06-25 15:52:55	mathuin	Excellent.  Let me know how it goes, and if you think can help just ask!
2014-06-25 15:54:00	MaraJade	mathuin: Should I install the develpment branch, or the master branch?
2014-06-25 15:55:14	mathuin	[dev/master] which repository?
2014-06-25 15:55:39	mathuin	The checkout in /var/lib/django/pgd-staging/pgd is from sarvesh-onlyme/pgd, master branch.
2014-06-25 15:56:21	MaraJade	I was wondering about the instructions. There's directions for the develpment branch and the master branch
2014-06-25 15:57:58	mathuin	walking over
2014-06-25 16:56:08	pop_n_fresh	jnoah: ping [aka when you get a chance we need to have a bit of a powow on your dev cookbook stuff. Where you were/what I need to do/wrap up, how to use what you've done, etc.]
2014-06-25 17:00:18	pop_n_fresh	kennric: I've used up all my usefulness for today. I ended today successfully getting the dev(moodle) recipe to install for orvsd_central cookbook but came across some weird problems:
2014-06-25 17:01:42	pop_n_fresh	The uwsgi recipe doesn't seem to be called or isn't working correctly because you have to manually 'service uwsgi start', as opposed to the recipe taking care of it for you.
2014-06-25 17:04:34	pop_n_fresh	Also I'm unsure about how to deploy the three moodle sites, I think there are some missing parts/ parts which may have been implemented differently than I was expecting by jnoah. We'll figure everything out soon.
2014-06-25 17:07:11	pop_n_fresh	I'm documenting my problems/fixes along the way so documentation /should/ be pretty straight forward once everything gets figured setup.
2014-06-26 08:41:06	<--	mathuin (jmt@osuosl/staff/mathuin) has left #osuosl-dev ("Leaving")
2014-06-26 08:41:23	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-26 08:50:49	mathuin	kennric: did anyone add a license to the PGD code while I was gone?
2014-06-26 08:52:59	kennric	mathuin: no
2014-06-26 08:53:19	kennric	but I have a fishing license it can use
2014-06-26 08:53:24	mathuin	Okay.  Based on what I recall Ramereth saying before I left, the original authors supported either GPL or MIT as licenses.
2014-06-26 08:53:26	mathuin	Hee.
2014-06-26 08:53:43	kennric	yes, I believe that is correct
2014-06-26 08:54:04	mathuin	Is the license issue the only thing keeping us from putting it out on github?
2014-06-26 08:57:00	mathuin	... one problem with the osuosl repository is that I've got passwords in the files. :-(
2014-06-26 08:57:10	mathuin	(Kinda have to have them somewhere.)
2014-06-26 08:57:36	kennric	mathuin: :( yuck, those should never be in a git repo, for this very reason
2014-06-26 08:57:50	kennric	yes, I think the license is the only reason not to move to github
2014-06-26 08:58:01	mathuin	[never]  the original intent wasn't to publish this one yet.
2014-06-26 08:58:26	mathuin	[license]  Okay, I can do that today once MaraJade gets here and I find out her progress on setting up the virtualenv to support py2cairo.
2014-06-26 08:59:09	kennric	yeah, thats how it starts, now you have them in history... depending on what is in the repo, sometimes it is just easier to start a new repo and copy files for pushing to github
2014-06-26 09:00:26	mathuin	Which is fine, to be honest, since it's not really ready for prime time until it gets chefified TBH.
2014-06-26 09:00:55	mathuin	Having two Vagrant environments, one for testing and one for deployment, makes sense.  The former *should* be in the repo -- and is what Sarvesh should be making -- and the latter shouldn't.
2014-06-26 09:01:07	mathuin	Unless the latter is the former plus a chef cookbook.
2014-06-26 09:01:14	mathuin	In which case the cookbook gets locked away.
2014-06-26 09:04:17	kennric	ideally we have one cookbook that you can point to either a vagrant box or production machine and deploy the appropriate code
2014-06-26 09:06:38	mathuin	Just checked PGD to see if settings was in repo.  Last commit message for it was "removing settings.py from repo" in 2009.
2014-06-26 09:07:15	mathuin	It does include our real Google Analytics ID but I don't know if that's secret or not.
2014-06-26 09:07:42	mathuin	And it does include our SECRET_KEY.
2014-06-26 09:07:42	kennric	hmm, it shouldn't do that either
2014-06-26 09:07:50	kennric	google or secret key
2014-06-26 09:07:58	kennric	are they real, or just the defaults?
2014-06-26 09:08:10	kennric	secret key should always be changed in production
2014-06-26 09:08:22	kennric	but if we haven't been doing that...
2014-06-26 09:09:33	mathuin	SECRET_KEY is same in settings.py.dist in the repo as it is in production.
2014-06-26 09:10:00	mathuin	So is GOOGLE_ID
2014-06-26 09:10:24	mathuin	The database stuff has been sanitized.
2014-06-26 09:10:31	kennric	well, the secret key is not a problem with the repo, it is a problem with our deployment. The google id shouldn't be in git.
2014-06-26 09:11:49	kennric	MaraJade: please be sure to check in on irc when you arrive
2014-06-26 09:12:41	mathuin	I can commit a change to .dist for GOOGLE_ID and SECRET_KEY as None but that's only a little obscurity.
2014-06-26 09:14:13	mathuin	That plus changing the SECRET_KEY value in production seems to be the best way to do things.
2014-06-26 09:14:48	Ramereth	mathuin: why did you create a vagrant-pgd repo? You could just have the file in the pgd repo itself
2014-06-26 09:14:58	Ramereth	i don't really see the need to have its own repo IMO
2014-06-26 09:16:09	mathuin	I talked to kennric about it before doing it.  The purpose was to keep the work I've been doing somewhere safe until it's time to merge it into the real repo.
2014-06-26 09:16:26	Ramereth	can't you just do that in a branch?
2014-06-26 09:16:46	Ramereth	i just think it'll be a problem having to keep two repos
2014-06-26 09:16:49	mathuin	Sure.  I've been working in a separate repo for the past two weeks.
2014-06-26 09:16:54	mathuin	And it's temporary.
2014-06-26 09:17:02	mathuin	The student will be writing one as well.
2014-06-26 09:17:04	mathuin	Mine is to test his code.
2014-06-26 09:17:14	Ramereth	ah ok. just didn't make sense
2014-06-26 09:17:18	mathuin	That's why I kept it separate.
2014-06-26 09:17:28	mathuin	Yeah, I know, that's why I talked to Ken about it first. :-)
2014-06-26 09:17:30	Ramereth	just seems like a PR would do the job for that and a branch
2014-06-26 09:17:46	mathuin	Sure, but his is the general case, mine's the very specific "does his code work or not" case.
2014-06-26 09:17:50	mathuin	So his will go into the repo.
2014-06-26 09:18:06	mathuin	I will then apply the relevant changes (i.e., openstack support) to his file.
2014-06-26 09:18:27	kennric	yeah, this will be temporary and go away once the real code goes into the real repo
2014-06-26 09:18:31	Ramereth	btw, if this is all chef related we should be doing it in test kitchen eventually too
2014-06-26 09:18:42	Ramereth	so I wouldn't spend too much time investing vagrant itself
2014-06-26 09:18:53	mathuin	I'm not -- I just needed to get it up and running so MaraJade could chefify it.
2014-06-26 09:19:04	mathuin	but it turns out zeus is a snarling pile of special cases.
2014-06-26 09:19:19	mathuin	and I confess I </3 gentoo.
2014-06-26 09:20:55	Ramereth	ok, just make sure when the chef part comes it happens with test kitchen
2014-06-26 09:20:55	kennric	MaraJade: could you please work in the bullpen today? I think it would help to work in speaking distance to mathuin, and it will make it easier for me to walk up and check on progress
2014-06-26 09:21:19	Ramereth	what special cases are you running into?
2014-06-26 09:21:28	mathuin	CFFI.
2014-06-26 09:21:35	mathuin	https://cffi.readthedocs.org/en/release-0.6/
2014-06-26 09:22:04	Ramereth	not sure what the context is
2014-06-26 09:22:10	kennric	also, are you finished with copying the wiki docs into the sphinx tree? If so, please check in the code and re-assign the issue 15999 back to me for review
2014-06-26 09:22:16	kennric	MaraJade: ^^
2014-06-26 09:22:38	Ramereth	sorry to be nit picky, just making sure you're headed down the right path
2014-06-26 09:23:16	kennric	nit picky is good, not enough nit picky is how things become the mess that PGD used to be :)
2014-06-26 09:23:43	mathuin	Ramereth: we currently use py2cairo which is fragile and a real pain to set up (that's the thing I asked MaraJade to do yesterday).
2014-06-26 09:24:00	mathuin	We have tested a replacement for it called cairocffi that does everything cairo does but uses the CFFI module which is running C code in Python.
2014-06-26 09:24:17	mathuin	The installation of cairocffi is quick and clean like a normal Python package.
2014-06-26 09:24:35	mathuin	Unfortunately, the design which runs C code in Python does so in a separate file, which gives grsec the heebee jeebees apparently.
2014-06-26 09:25:06	Ramereth	sounds like a good reason to move to getting it to run on centos instead
2014-06-26 09:25:09	Ramereth	instead of fighting gentoo
2014-06-26 09:25:19	mathuin	Exactly.
2014-06-26 09:25:28	mathuin	That's why I have been doing the Vagrant thing with centos.
2014-06-26 09:25:28	Ramereth	does py2cairo not working on centos?
2014-06-26 09:25:34	mathuin	But zeus is gentoo.
2014-06-26 09:25:59	mathuin	kennric: MaraJade does not have the "log time" button on the PGD project.  is that easy to fix?
2014-06-26 09:26:27	mathuin	Ramereth: I have not yet determined whether py2cairo works on centos.  that's something I wanted to do today while MaraJade worked on zeus so we could test his code and our code in both places.
2014-06-26 09:26:47	mathuin	I know our code works on zeus, I know it fails a certain way on the openstack machine.  I know his code fails the same way on the openstack machine, but I haven't gotten his code to work on zeus.
2014-06-26 09:26:48	kennric	I guess the real question is - after the upgrade to django 1.6, will we  be moving it directly to a new os, or will it have to live on zues as-is for a bit?
2014-06-26 09:27:09	mathuin	kennric: I have been working under the assumption that the answer to that question is zeus for a little.
2014-06-26 09:27:59	kennric	if zeus/gentoo is in fact never going to need to run anything but its current code, then a lot of issues go away, but that means we need to be ready to put new PGD on a new machine by the end of gsoc
2014-06-26 09:28:00	Ramereth	kennric: i would assume the new version would be on CentOS
2014-06-26 09:28:04	Ramereth	zeus is getting deprecated
2014-06-26 09:28:18	Ramereth	i would not spend that much time trying to get it to work on gentoo
2014-06-26 09:28:32	Ramereth	and really, its a problem with the grsec kernel blocking things
2014-06-26 09:28:41	kennric	ok, can we set a definite plan and timeline for a new pgd machine then?
2014-06-26 09:28:47	Ramereth	(although we may end up running that kernel on centos eventually, but not an issue right now)
2014-06-26 09:28:48	jnoah	kennric: I've not updated my calendar yet, but I'm still in portland for osbridge.
2014-06-26 09:28:57	Ramereth	kennric: i'd like to have this migrated by the end of the summer
2014-06-26 09:29:08	kennric	mathuin: looking into the time thing on code.o.o
2014-06-26 09:30:38	kennric	MaraJade: you should be able to log time on PGD now
2014-06-26 09:30:42	Ramereth	so I'd rather have more time spent getting the CentOS environment working than testing new code on zeus
2014-06-26 09:31:00	Ramereth	assume the version that's on zeus is the last version we'll run on Gentoo
2014-06-26 09:31:13	Ramereth	at least from the GSoC perspective
2014-06-26 09:32:01	mathuin	Okay, then we'll abandon that effort and move forward on the CentOS environment.
2014-06-26 09:32:08	mathuin	Is there a non-virtual machine I can use for testing?
2014-06-26 09:32:14	mathuin	I don't need the whole thing, just an account. :-)
2014-06-26 09:32:19	Ramereth	why do you need a non-virtual machine?
2014-06-26 09:32:36	Ramereth	i guess, what do you need?
2014-06-26 09:34:43	mathuin	I just need something that I can log into and run the code on a high port to help me identify whether the problems I am running into with openstack and vagrant are related to those tools or to centos itself.
2014-06-26 09:35:25	mathuin	Something like a workstation would be adequate.
2014-06-26 09:38:25	Ramereth	i don't see why a physical machine would be any different than a physical machine
2014-06-26 09:38:41	Ramereth	what types of errors are you running into?
2014-06-26 09:39:09	Ramereth	its a lot of work to get a physical machine up for testing. I'd like to avoid that unless there's a good reason to do so. Seems odd to me
2014-06-26 09:39:12	mathuin	The plot doesn't work, and no error messages are generated, just a big red X, which after scrolling through the code with pono we determined it was throwing a "memory error" which did not match what we saw with top.
2014-06-26 09:39:35	mathuin	I do not need an entire physical machine here, just an account on something running centos which is known to work.
2014-06-26 09:39:46	Ramereth	no root?
2014-06-26 09:41:10	mathuin	If it's got Python 2.7 on it, I don't think I'll need root.  the packages I know I need for PGD are git python-devel mysql-devel libffi-devel plus the MySQL packages.
2014-06-26 09:41:16	mathuin	b
2014-06-26 09:41:46	Ramereth	what OS is the student using for his code?
2014-06-26 09:42:07	mathuin	I think Ubuntu but I don't recall him saying as much.  I will ask him as soon as he logs in.
2014-06-26 09:42:27	Ramereth	is this that memory thing you were talking about last week?
2014-06-26 09:42:39	kennric	mathuin: specifically python 2.7.3+, right?
2014-06-26 09:43:45	mathuin	kennric: yes
2014-06-26 09:44:56	Ramereth	i dont' think any of our standard centos boxes have that
2014-06-26 09:45:23	Ramereth	without adding the repo that supports it
2014-06-26 09:46:08	Ramereth	mathuin: were you only testing this on openstack or did you see the same thing in virtualbox?
2014-06-26 09:46:19	Ramereth	i ask because our default openstack vms don't have swap
2014-06-26 09:46:26	Ramereth	which may be a problem
2014-06-26 09:46:35	Ramereth	(but can easily be added)
2014-06-26 09:48:00	kennric	in theory django itself supports 2.6 all the way up to django 1.6, but 2.7 is recommended, and 1.7 will not support 2.6. mathuin was having issues on zeus with 2.7.1 I think?
2014-06-26 09:49:08	Ramereth	brb, osb break. will pop back on in 15min or so
2014-06-26 09:53:06	mathuin	yes, 2.7.1 works for us but didn't for sarvesh.
2014-06-26 09:53:31	mathuin	I wasn't able to run it on virtualbox because it required more memory than I had on cyan.
2014-06-26 10:07:30	Ramereth	what in the world is it doing requiring that much memory?
2014-06-26 10:10:49	 *	Ramereth kicks his znc
2014-06-26 10:34:02	pono	mathuin: If you need a box with more memory, pink has 16gb
2014-06-26 10:36:54	mathuin	Is anyone sitting at it?
2014-06-26 10:37:12	pono	No.  You could also ssh in.
2014-06-26 10:37:23	mathuin	I just wanted to avoid giving someone a bad user experience. :-)
2014-06-26 10:37:48	pono	Good thinking, but it can mostly handle a beefy VM and normal work load.
2014-06-26 10:38:14	mathuin	Awesome.  Once I get the student to see that he somehow converted the SQL template to a Unicode string, I'll give his code a try there.
2014-06-26 10:38:27	pono	Hah
2014-06-26 10:39:54	Ramereth	mathuin: have you looked into why its needing that much ram?
2014-06-26 10:41:44	mathuin	Not yet.  I wanted to get it running before profiling it.
2014-06-26 10:41:58	mathuin	Also, I'm hoping the upgrade to Django 1.6 and the concurrent upgrade of all the modules will help.
2014-06-26 10:42:58	Ramereth	you might look at strace output before spending all this time trying to find enough ram
2014-06-26 10:50:12	MaraJade	kennric: I don't have write access to the pgd repository
2014-06-26 10:50:34	kennric	MaraJade: hmm, ok, looking...
2014-06-26 10:51:16	kennric	are you using the git://git.osuosl.org/gitolite/pgd url?
2014-06-26 10:51:54	kennric	ah, I see, it's not open to the devs group, fixing....
2014-06-26 10:53:10	kennric	should work in a few minutes
2014-06-26 11:00:14	Ramereth	mathuin: i say that because when I run into ram problems like that. it usually means any amount of ram won't fix it
2014-06-26 11:00:26	Ramereth	seems like a leak somewhere
2014-06-26 11:46:06	<--	mathuin (jmt@osuosl/staff/mathuin) has quit (*.net *.split)
2014-06-26 11:46:10	<--	kennric (kennric@osuosl/staff/kennric) has quit (*.net *.split)
2014-06-26 11:46:13	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (*.net *.split)
2014-06-26 11:46:14	<--	bramwelt (~bramwelt@osuosl/staff/bramwelt) has quit (*.net *.split)
2014-06-26 11:46:15	<--	chekkaa (~chekkaa@osuosl/staff/chekkaa) has quit (*.net *.split)
2014-06-26 11:46:15	<--	chance (~ecnahc515@osuosl/staff/ecnahc515) has quit (*.net *.split)
2014-06-26 11:46:16	<--	pono (pono@osuosl/staff/dspt) has quit (*.net *.split)
2014-06-26 11:46:17	<--	jordane (~jordane@osuosl/staff/jordane) has quit (*.net *.split)
2014-06-26 11:46:17	<--	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has quit (*.net *.split)
2014-06-26 11:46:19	<--	MaraJade (goossenm@osuosl/staff/MaraJade) has quit (*.net *.split)
2014-06-26 11:47:00	-->	mathuin (jmt@osuosl/staff/mathuin) has joined #osuosl-dev
2014-06-26 11:47:00	-->	chekkaa (~chekkaa@osuosl/staff/chekkaa) has joined #osuosl-dev
2014-06-26 11:47:00	-->	bramwelt (~bramwelt@osuosl/staff/bramwelt) has joined #osuosl-dev
2014-06-26 11:47:00	-->	chance (~ecnahc515@osuosl/staff/ecnahc515) has joined #osuosl-dev
2014-06-26 11:47:00	-->	jordane (~jordane@osuosl/staff/jordane) has joined #osuosl-dev
2014-06-26 11:47:00	-->	jnoah (~brutal_ch@osuosl/staff/brutal-chaos) has joined #osuosl-dev
2014-06-26 11:47:00	-->	pono (pono@osuosl/staff/dspt) has joined #osuosl-dev
2014-06-26 11:47:00	-->	kennric (kennric@osuosl/staff/kennric) has joined #osuosl-dev
2014-06-26 11:47:00	-->	Ramereth (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-26 11:47:00	-->	MaraJade (goossenm@osuosl/staff/MaraJade) has joined #osuosl-dev
2014-06-26 11:56:56	<--	deanj (~johnsdea@osuosl/staff/johnsdea) has quit (*.net *.split)
2014-06-26 11:56:57	<--	manatee (manatee@ash.osuosl.org) has quit (*.net *.split)
2014-06-26 12:05:39	-->	deanj (~johnsdea@osuosl/staff/johnsdea) has joined #osuosl-dev
2014-06-26 12:19:02	-->	manatee (manatee@ash.osuosl.org) has joined #osuosl-dev
2014-06-26 12:21:21	pono	Is ganeti-staging supposed to be in the _default environment?
2014-06-26 12:21:41	pono	Would it be alright if I moved it into the dev one so it stops e-mailing us about it's errors?
2014-06-26 14:33:51	chance	what errors is it getting?
2014-06-26 14:35:11	pono	chance: http://pastebin.osuosl.org/8301/38185081/
2014-06-26 14:36:36	chance	oh i think i fixed that
2014-06-26 14:36:38	chance	maybe not though
2014-06-26 14:36:50	chance	oh yeah not fixed
2014-06-26 14:37:10	chance	vnc authproxy is using python so when i tries to replace the python interpreter being used by it in the install script it fails
2014-06-26 14:37:43	chance	not sure the proper fix for that thoguh
2014-06-26 15:25:52	mathuin	Ramereth: good news, bad news.  The same code that runs fine on cyan -- ours and his -- fails in the same way on the virtual machine.
2014-06-26 15:26:07	mathuin	The error message is "cairo returned CAIRO_STATUS_NO_MEMORY: out of memory" but I think it's a lie.
2014-06-26 15:27:23	mathuin	The reason I think so is that there's still two megabytes free.
2014-06-26 15:59:33	Ramereth	mathuin: what does strace show?
2014-06-26 15:59:41	Ramereth	mathuin: what's different about cyan vs other workstations?
2014-06-26 15:59:56	Ramereth	what's the same/different about cyan vs his environment?
2014-06-26 16:00:35	mathuin	I haven't strace'd yet.  cyan is no different than other workstations to the best of my knowledge except for pink which has more RAM.  His environment is Ubuntu 12.04.
2014-06-26 16:00:37	Ramereth	chance: is there much local data on ganeti-staging in case we want to blow away the vm and rebuild it to make sure the chef stuff works as intended?
2014-06-26 16:00:53	chance	no, should be fine
2014-06-26 16:01:02	Ramereth	mathuin: i would look at strace. It will give you more insight than looking at logs
2014-06-26 16:01:14	chance	vnc auth proxy isnt set up in chef yet
2014-06-26 16:01:18	chance	so it wont be running on boot
2014-06-26 16:01:22	Ramereth	strace -f -o /path/to/file.log $command
2014-06-26 16:01:24	chance	or after chef
2014-06-26 16:01:42	Ramereth	chance: are there instructions on how to set that up so we can finish adding that to chef?
2014-06-26 16:01:45	chance	sorry i havent made it in, ive been trying to get a hold of people before i leave
2014-06-26 16:01:54	Ramereth	at least manually
2014-06-26 16:02:01	Ramereth	no worries, you're doing the best you can!
2014-06-26 16:02:03	chance	its all in the vnc docs on simpson's github
2014-06-26 16:02:09	chance	also
2014-06-26 16:02:13	chance	our init scripts on prod/old staging
2014-06-26 16:02:21	chance	its really pretty simple
2014-06-26 16:02:26	Ramereth	ok, figured about the init scripts
2014-06-26 16:02:29	Ramereth	i can probably finish that up
2014-06-26 16:02:41	Ramereth	can you link the github docs so its in my irc log?
2014-06-26 16:03:00	chance	they're pretty meh
2014-06-26 16:03:03	chance	https://github.com/MostAwesomeDude/vncauthproxy
2014-06-26 16:03:16	chance	one thing i noticed...
2014-06-26 16:03:20	Ramereth	its basically the same way we do it in current prod right? just needs adjustments for centos
2014-06-26 16:03:24	chance	yeah.
2014-06-26 16:03:27	chance	exactly
2014-06-26 16:03:31	Ramereth	ok, i remember how that works
2014-06-26 16:03:38	chance	the only big thing i noticed we need to think about
2014-06-26 16:04:16	chance	the setup.sh script recreates the virtualenv each time it runs (kind of). it should work fine, but when trying to remove the old python interpreter binary during this, i noticed it failed when tvap was currently running
2014-06-26 16:04:27	chance	so chef might need to handle that
2014-06-26 16:04:47	chance	im pretty sure that its the same error as the one pono linked above, http://pastebin.osuosl.org/8301/38185081/
2014-06-26 16:05:13	chance	text file busy '/opt/ganeti_webmgr/bin/python'
2014-06-26 16:05:37	Ramereth	do you have an issue open on the CB repo about that?
2014-06-26 16:05:50	Ramereth	if not, can you please make one and jot down notes you know about with it^
2014-06-26 16:06:18	chance	CB?
2014-06-26 16:06:32	Ramereth	cookbook
2014-06-26 16:06:35	chance	ok
2014-06-26 16:06:48	chance	ill do that
2014-06-26 16:07:09	Ramereth	just re-enabled the issue tracker on github for that repo
2014-06-26 16:07:18	Ramereth	make any other issues you think we may run into
2014-06-26 16:07:19	chance	cool
2014-06-26 16:07:29	Ramereth	might as well open a feature one for tvap so we don't forget
2014-06-26 16:08:23	Ramereth	thanks for working on this!
2014-06-26 16:10:52	chance	i added an issue in the cookbook
2014-06-26 16:11:01	chance	it isnt really specific to tvap
2014-06-26 16:11:07	chance	just the virtualenv/python
2014-06-26 16:11:14	chance	plus ive only run into this with chef
2014-06-26 16:11:31	chance	then again i dont usually run vnc while recreating a virtualenv over an old one.
2014-06-26 16:11:44	chance	https://github.com/osuosl-cookbooks/ganeti_webmgr/issues/2
2014-06-26 16:12:03	Ramereth	you might include the pastebin as code text in case it gets removed from the pastebin
2014-06-26 16:12:20	chance	good point
2014-06-26 16:12:44	chance	added
2014-06-26 16:13:17	chance	btw, i think it might be worth moving production off of the current host it's on
2014-06-26 16:13:17	chance	same with supercell
2014-06-26 16:13:17	chance	and using chef with them
2014-06-26 16:13:25	chance	after testing migrations out
2014-06-26 16:13:35	chance	since staging is running on a dump of prod's DB, all should be fine
2014-06-26 16:13:48	Ramereth	yup that was m yplan
2014-06-26 16:13:57	Ramereth	once we get staging in a good place and tested we'll move them to new prod vms
2014-06-26 16:13:57	chance	i wish i had more time to do that myself, but alas.
2014-06-26 16:14:07	Ramereth	its ok, you got it started
2014-06-26 16:14:18	chance	at least we have a working staging with chef
2014-06-26 16:14:20	Ramereth	can you make an issue about getting tvap working on github too?
2014-06-26 16:14:26	chance	yeah
2014-06-26 16:14:29	Ramereth	thanks
2014-06-26 16:14:30	chance	was going to
2014-06-26 16:14:55	mathuin	Ramereth: okay, created the file, lookign at it as soon as I figure out how to move it to cyan. :-)
2014-06-26 16:15:39	chance	i think ill be in tomorrow at least, but we'll see.
2014-06-26 16:15:44	Ramereth	mathuin: best thing to do with the output is start from the end and work backwards
2014-06-26 16:15:50	Ramereth	k
2014-06-26 16:17:04	mathuin	Found the traceback.
2014-06-26 16:19:08	mathuin	And I found the last SQL query before the traceback.  Everything in the middle should be cairo related.
2014-06-26 16:19:45	mathuin	It opens a bunch of fonts, and then writes the exception.
2014-06-26 16:20:45	Ramereth	what's the actual syscall error
2014-06-26 16:21:51	mathuin	There's a few ENOENTs for the font files.  Nothing else obvious.
2014-06-26 16:22:27	Ramereth	ya you can ignore that
2014-06-26 16:22:33	Ramereth	but there should be one for that memory error
2014-06-26 16:22:42	mathuin	Sure, if it really is a memory error, but I'm not seeing it.
2014-06-26 16:22:44	Ramereth	if you want, you can pastebin it
2014-06-26 16:23:25	mathuin	As soon as I figure out how to copy it from the vagrant box to cyan.
2014-06-26 16:24:02	Ramereth	cp $file /vagrant/$file
2014-06-26 16:24:03	Ramereth	:)
2014-06-26 16:24:17	Ramereth	that will copy it to the directory where you vagrant'd up
2014-06-26 16:24:35	mathuin	That didn't work on openstack, but it might on virtualbox.
2014-06-26 16:24:45	Ramereth	it won't work on openstack
2014-06-26 16:24:50	Ramereth	you'll have to use scp there
2014-06-26 16:24:55	Ramereth	only on virtualbox
2014-06-26 16:25:04	mathuin	woo!
2014-06-26 16:27:54	mathuin	clipboard's not doing the right thing today.
2014-06-26 16:30:33	mathuin	http://pastebin.osuosl.org/8311/ -- this is the bit that I think is relevant.
2014-06-26 16:30:53	mathuin	At the top is the final database query before the image is supposed to be rendered.
2014-06-26 16:31:09	mathuin	At the bottom is the traceback reporting process.
2014-06-26 16:31:37	Ramereth	line 149 looks suspcious
2014-06-26 16:31:48	mathuin	That's the actual reported exception.
2014-06-26 16:32:01	mathuin	It's a seventy-byte string which includes the out of memory error.
2014-06-26 16:32:09	mathuin	But there's nothign before it to explain *why* that error is being raised.
2014-06-26 16:32:37	Ramereth	you might re-run it with "-s 256" to get more string output
2014-06-26 16:33:00	Ramereth	and you're running it with -f right?
2014-06-26 16:33:08	mathuin	Yes, with -f.
2014-06-26 16:36:28	mathuin	http://pastebin.osuosl.org/8316/ -- ran it with -s 1024 even.
2014-06-26 16:36:34	Ramereth	can you re-run and just let me know where the log file is in your homedir? I'll look at it more directly
2014-06-26 16:36:55	mathuin	~/vagrant-pgd/strace-1024.log
2014-06-26 16:37:06	Ramereth	is this run as root on the vm?
2014-06-26 16:37:47	mathuin	Yes.
2014-06-26 16:40:45	mathuin	According to the cairo source code, the errno number for this error is 1.
2014-06-26 16:41:34	Ramereth	are you doing this in a multi-thread process?
2014-06-26 16:42:18	mathuin	The command line I'm running is "strace -f -s 1024 -o /vagrant/strace-1024.log python manage.py runserver".
2014-06-26 16:43:41	Ramereth	hmm
2014-06-26 16:44:42	Ramereth	ya i think that's just the general error it throws on any error
2014-06-26 16:44:46	Ramereth	not related to memory per say
2014-06-26 16:44:58	mathuin	That's possible.  I'm still looking through the cairo code.
2014-06-26 16:46:03	Ramereth	19839 write(1, "    svg = cdp.Plot()\n", 21) = 21
2014-06-26 16:46:03	Ramereth	19839 write(1, "  File \"/root/django/pgd/pgd_search/plot/ConfDistFuncs.py\", line 567, in Plot\n", 78) = 78
2014-06-26 16:46:11	Ramereth	seems like that's the line where it crocks
2014-06-26 16:46:13	mathuin	That's just part of the traceback.
2014-06-26 16:46:16	Ramereth	ya
2014-06-26 16:47:46	Ramereth	wonder if there's a way you can enable a debug flag for the library in the python code
2014-06-26 16:48:04	Ramereth	or somehow get debug symbols for all the libs and run it through gdb
2014-06-26 16:48:48	mathuin	That line in ConfDistFuncs calls a method in cairo.
2014-06-26 16:49:11	mathuin	That method dfines extents, sets them, and then checks for the error.
2014-06-26 16:49:36	Ramereth	how many fonts are installed by default on the system?
2014-06-26 16:49:42	Ramereth	are you doing stuff with fonts in the code?
2014-06-26 16:49:53	mathuin	Fonts are used for defining the image.
2014-06-26 16:50:08	mathuin	Wouldn' tit be exciting if they weren't on this machine or the centos machine somehow.
2014-06-26 16:50:23	Ramereth	well, it doesn't install many fonts by default
2014-06-26 16:50:31	Ramereth	you might start installing a few more at a time to see if it keeps erroring out
2014-06-26 16:50:42	Ramereth	i wonder if its just missing some
2014-06-26 16:51:09	Ramereth	are the two workstations you used both debian or ubuntu? (we've been rebuilding them to debian)
2014-06-26 16:51:54	mathuin	Ubuntu before, Debian now.
2014-06-26 16:52:48	Ramereth	same error on both?
2014-06-26 16:55:01	mathuin	I think so.
2014-06-26 16:55:11	mathuin	The virtualbox I'm using now is centos-6.
2014-06-26 16:55:16	mathuin	Same as the openstack
2014-06-26 16:55:19	mathuin	They get the same error.
2014-06-26 16:55:34	Ramereth	oh you're running this test on centos regardless?
2014-06-26 16:57:40	mathuin	We decided earlier to focus on Centos since that's where the PGD production will move soon.
2014-06-26 16:58:01	Ramereth	right. what platform is the student developing on and having it working?
2014-06-26 16:58:06	mathuin	Ubuntu 12.04
2014-06-26 16:58:22	mathuin	And when I run it, by hand, on cyan, it works.
2014-06-26 16:58:25	Ramereth	have you tried test the code on a ubuntu 12.04 vm?
2014-06-26 16:58:32	mathuin	I haven't.
2014-06-26 16:58:35	Ramereth	and cyan is ubuntu?
2014-06-26 16:58:38	mathuin	Debian now.
2014-06-26 16:58:48	Ramereth	ok
2014-06-26 16:58:58	Ramereth	so i really think its just missing some fonts or something
2014-06-26 16:59:23	mathuin	The only font setting we make is to change to 12 point, we don't name a font or anything as far as I can see.
2014-06-26 17:00:03	Ramereth	it might just be one of the standard fonts its looking for that's not there
2014-06-26 17:00:15	Ramereth	the centos install is very minimal
2014-06-26 17:00:27	mathuin	I'm going to strace it on Debian and see if it opens any fonts in particular.
2014-06-26 17:00:30	Ramereth	i mean a good test is to spin up one of our bare bone debian or ubuntu vagrant vms and trying it there
2014-06-26 17:05:18	mathuin	Which barebones VM would you suggest?  I can try that.
2014-06-26 17:05:42	Ramereth	actually, this might be a hint as its in the cfengine config:
2014-06-26 17:05:42	Ramereth	        media-fonts/liberation-fonts    action=install
2014-06-26 17:05:42	Ramereth	        media-fonts/dejavu              action=install
2014-06-26 17:06:06	Ramereth	make sure you have the equivalent installed on centos
2014-06-26 17:06:15	Ramereth	mathuin: any of the ones in our vagrant-osuosl repo
2014-06-26 17:06:21	mathuin	Okay.
2014-06-26 17:06:37	Ramereth	i seem to recall it being picky about fonts when we initially set it up
2014-06-26 17:06:38	mathuin	I was going to ask how to build a font cache as well.
2014-06-26 17:06:46	Ramereth	i wouldn't worry about that for now
2014-06-26 17:06:52	Ramereth	i'm pretty sure this is a missing font issue
2014-06-26 17:08:43	mathuin	Installing the liberation fonts made the problem go away.
2014-06-26 17:08:55	mathuin	MaraJade: that's one for the documentation. :-)
2014-06-26 17:10:11	mathuin	Ramereth: Thank you.  So annoying.  SOooooooo annoying.
2014-06-26 17:13:05	Ramereth	mathuin: ha!!!
2014-06-26 17:13:46	mathuin	Looks like the student passes their midterms. :-)  I'm going to fill out the midterm review now.
2014-06-26 17:15:16	Ramereth	glad we figured that out
2014-06-26 17:15:42	mathuin	You and me both.  After I fill out this eval I'm filing a bug report on cairocffi. :-)
2014-06-26 17:19:36	mathuin	Data saved successfully.  Whew.
2014-06-26 17:19:41	Ramereth	:)
2014-06-26 17:19:47	Ramereth	sorry I didn't think about that before
2014-06-26 17:19:56	Ramereth	i knew there was a piece missing
2014-06-26 17:20:05	Ramereth	anyways, logging off
2014-06-26 17:20:11	mathuin	Thanks again.  Night!
2014-06-27 08:20:49	-->	ElsieP (~Mae@8-4.ptpg.oregonstate.edu) has joined #osuosl-dev
2014-06-27 08:35:17	mathuin	So I looked at GWM for suggestions on how to handle secrets in settings.py.dist, and I noticed that there's an actual value for SECRET_KEY in the repository.  Is that the same key we use in production?
2014-06-27 08:35:41	kennric	mathuin: it should not be
2014-06-27 08:35:56	kennric	but that doesn't mean it isn't
2014-06-27 08:35:58	mathuin	Who can verify?  One of the folks in the NOC?
2014-06-27 08:36:36	kennric	yes, or chance if you can still catch him on irc
2014-06-27 08:37:50	mathuin	I'll ask the folks in the NOC and let chance sleep, or play Civ. :-)
2014-06-27 08:46:03	chance	oh settings.py.dist might need to be up dated
2014-06-27 08:46:07	chance	i think its out of date
2014-06-27 08:46:18	chance	something that needs to be done :<
2014-06-27 08:46:24	chance	look at base.py
2014-06-27 08:46:26	chance	at the bottom
2014-06-27 08:46:34	chance	its not the best, but it semi works
2014-06-27 08:56:42	mathuin	Looks like environment variables with a backup.
2014-06-27 09:19:17	mathuin	MaraJade: yum -y install git python-devel mysql-devel libffi-devel liberation-sans-fonts
2014-06-27 09:21:26	mathuin	I am excited that the webserver portion of PGD runs just fine within a small VM, by the way.
2014-06-27 09:21:38	mathuin	A horrible part of me wonders if we should spin up a separate VM just for updating the database.
2014-06-27 09:21:49	mathuin	kennric: ^^ good idea or bad?
2014-06-27 09:27:37	kennric	hmm, what would that solve?
2014-06-27 09:28:09	kennric	just a resources issue?
2014-06-27 09:29:18	mathuin	Yeah.
2014-06-27 09:30:48	kennric	if it is an easily automatable process, I don't see why not - pgd can live anywhere, and when it is update time, you spin something up on openstack or supercell and update the db? if it is push-button simple, why not?
2014-06-27 09:31:47	kennric	and if it decouples the web app with the heavy-duty work, that is not a bad thing, you don't have to worry about deploying pgd to a beefy machine for something that happens once every quarter
2014-06-27 09:32:10	kennric	does it need to be a full vm? docker work?
2014-06-27 09:32:22	kennric	my concern is is becoming more complex than the current situation
2014-06-27 09:33:41	mathuin	It is relatively automatic, and will be getting more automatic this summer.
2014-06-27 09:33:59	mathuin	It might be docker-friendly, but even a full VM isn't that much of a hardship anymore.
2014-06-27 09:34:39	mathuin	I think that it will increase the maintenance complexity slightly (having to spin up something) but will reduce the resource usage and impact on the website.
2014-06-27 09:35:00	kennric	if we can say "when it's time to update the db, configure your cloud provider in this config file and say vagrant up" and it all just works, that sounds nice
2014-06-27 09:35:45	mathuin	Okay.
2014-06-27 09:36:43	mathuin	I think that's probably pretty doable given our current update model.
2014-06-27 09:36:55	kennric	especially if 'your cloud provider' can be a local machine for people who want to run this on their own system and don't have a cloud provider
2014-06-27 09:37:21	mathuin	Yeah.  "vagrant up import" could spin up a m1.large that installs PGD and automatically imports all the new files and updates the target database.
2014-06-27 09:37:41	mathuin	Since it uses the same vagrant files, it'll use the same environment variables.  Change those, change where things go.
2014-06-27 09:39:20	kennric	it's a very 'cloudy' way to do things, but it makes a lot of sense to offload the heavy lifting
2014-06-27 09:39:58	mathuin	I'm trying to think of any interconnection that we do or want to do.
2014-06-27 09:40:17	mathuin	Only thing that comes to mind is stopping queries while we're updating the database.
2014-06-27 09:40:31	mathuin	And the import/promote thing makes that effectively a moot point, because the database update comes as a single atomic transaction.
2014-06-27 09:40:47	kennric	we should write an openstack/botnet interface adapter, so people can leverage pwned machines for arbitrary cpu load :)
2014-06-27 09:41:49	mathuin	blackhat boinc, I like it!
2014-06-27 09:42:24	kennric	all that computing power waster ons pammers and ddos attacks
2014-06-27 09:42:50	kennric	my typing is awful today, I blame it on tinkering with javascript
2014-06-27 09:50:46	mathuin	Today my vagrant setup is getting the acid test:  MaraJade. :-)
2014-06-27 09:51:17	mathuin	If she can get it up and running, I think it'll be resilient enough to work for us until s1991 finishes his.
2014-06-27 09:53:37	kennric	fingers crossed
2014-06-27 10:56:13	mathuin	So far, so good.  Now we're looking at running the Django tests on the virtual machine.
2014-06-27 10:56:28	mathuin	I don't think we're anywhere near a proper continuous integration setup, but it's a start.
2014-06-27 10:58:13	kennric	Jenkins is the next step
2014-06-27 11:06:25	mathuin	*nod*
2014-06-27 11:07:09	mathuin	Thanks for remembering where the dev docs were.  I wish I'd jumped on this on his first commits.
2014-06-27 11:40:51	mathuin	MaraJade: any luck with the testing?  any trouble?
2014-06-27 11:41:46	MaraJade	mathuin: I am trying to figure out how to test Selenium without a browser
2014-06-27 11:42:08	mathuin	I am trying to figure out why iceweasel fails tests that firefox passed. :-)
2014-06-27 11:42:33	mathuin	I am seeing some stackoverflow stuff which involves PhantomJS
2014-06-27 11:42:54	MaraJade	Yea, I was looking at that
2014-06-27 11:47:49	mathuin	Also HtmlUnit, though that seems a little sketchy.
2014-06-27 11:55:14	mathuin	I think PhantomJS is a better choice.
2014-06-27 12:36:18	jnoah	pop_n_fresh: are you around on IRC today?
2014-06-27 13:00:55	mathuin	MaraJade: http://phantomjs.org/build.html  the instructions for centos look easy enough to do.  You could write install-phantomjs.sh like install-python.sh in the repository if you like or I could.
2014-06-27 13:47:26	-->	Ramereth|home (~lance@osuosl/staff/ramereth) has joined #osuosl-dev
2014-06-27 13:52:30	<--	Ramereth (~lance@osuosl/staff/ramereth) has quit (*.net *.split)
2014-06-27 13:57:31	mathuin	OMG it takes forever to build PhantomJS.
2014-06-27 13:57:37	mathuin	Like, way too long.
2014-06-27 14:15:08	--	Ramereth|home is now known as Ramereth
2014-06-27 14:15:11	mathuin	Okay, I think I've got a way to install it witout compiling.
2014-06-27 14:15:11	mathuin	I'm getting some unexpected errors, though, and I'm not sure what to do next.  It says "Screenshot: available via screen"
2014-06-27 14:37:38		irc: disconnected from server
2014-06-27 14:38:14	--	#osuosl-dev: Cannot join channel (+i) - you must be invited
